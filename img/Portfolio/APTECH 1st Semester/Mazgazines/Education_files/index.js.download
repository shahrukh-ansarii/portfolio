webpackJsonp([1],[function(e,t,n){"use strict";function r(e,t){window.clearTimeout(k),k=window.setTimeout(e,t||0)}function o(){return y.isLoggedIn()?y.getShowExplicit().then(function(e){return e?!1:!0},function(){return!1}):Promise.resolve(!0)}function i(e,t){var n=t.split("=");return e[n[0]]=n[1],e}function a(e){var t=e.split("?");return 0===t.length?{}:t.pop().split("&").reduce(i,{})}function s(){document.querySelector(".js-segments-body").classList.remove("segments--is-loading")}function u(e,t,n){var r=a(t),o=window.ISSUU_AD_PROPERTIES||{},i={isProductionEnv:!(!window.__issuuConfig||window.__issuuConfig.production!==!0),isoCountry:o.geoInfo&&o.geoInfo.iso3166Country,adsConfig:o.adsConfig&&o.adsConfig.stream,dfpTargeting:[["iabInterestIDs",o.iabCategories],["readerInterestIDs",o.readerCategories],["isLoggedIn",y.isLoggedIn()===!0],["isDevelopmentTest",!(window.__issuuConfig&&window.__issuuConfig.production===!0)],["pageType",o.pageType]]},u=v.parse(t).pathname;u=f.dirname(u),s();var c={path:"",apiParams:r,apiOptions:{basePath:u},ads:n&&"storefront"!==o.pageType?i:!1,streamcontainer:e};h.create(c)}function c(){var e=document.querySelector(".js-segments-subnav__nav"),t=document.querySelector(".js-segments-subnav__sroll-area"),n=document.querySelector(".js-segments-subnav__sroll-area-container"),r=document.querySelectorAll(".js-segments-subnav__sroll-area .js-segments-subnav__nav-item"),o=!!t,i=void 0,a=void 0,s=0;o&&(t.scrollLeft=0,s=Array.prototype.reduce.call(r,function(e,n){var r=void 0;return r=e+n.getBoundingClientRect().width+Number.parseFloat(window.getComputedStyle(n)["margin-right"]),r>t.clientWidth?(n.classList.add("segments-subnav__nav-item--overflow"),n.classList.add("js-segments-subnav__nav-item--overflow")):(n.classList.remove("segments-subnav__nav-item--overflow"),n.classList.remove("js-segments-subnav__nav-item--overflow")),r},0),i=s>n.clientWidth,a=e.classList.contains("segments-subnav__nav--long"),i&&!a?(e.classList.add("segments-subnav__nav--long"),c()):i?e.classList.add("segments-subnav__nav--long"):e.classList.remove("segments-subnav__nav--long"))}function l(e){var t=document.querySelectorAll(".js-segments-subnav__nav-item--overflow"),n=document.querySelector(".js-dropdown"),r=document.querySelector(".js-dropdown-item-container"),o=0,i=void 0,a=void 0;if(n&&r){if(n.classList.contains("is-active"))return void n.classList.remove("is-active");for(r.innerText="",o;o<t.length;o++)a=t[o],i=document.createElement("a"),i.innerText=a.text.trim(),i.href=a.href,i.title=a.title,i.classList.add("ixu-dropdown__item"),r.appendChild(i);n.classList.add("is-active")}}function d(e){var t=document.querySelector(".js-dropdown");t&&!e.target.matches(C)&&t.classList.remove("is-active")}function p(e){var t=b(".js-segments-stream"),n=document.querySelector(x);m.init({desktopElm:".js-social",mobileElm:".js-social--mobile"}),t.each(function(t,n){var r=b(n);u(r,r.data("stream-url"),e)}),g.track({rootContainer:".js-segments-shelf",scrollableContainer:".js-segments-shelf__container",publicationWrapperImpression:".js-segments-shelf__publication-wrapper--impression[data-untracked]:visible",publicationWrapperClick:".js-segments-shelf__publication-wrapper--click"}),n&&(n.addEventListener("click",l),document.body.addEventListener("click",d)),window.addEventListener("orientationchange",function(){r(c,200)}),window.addEventListener("resize",function(){r(c,200)}),c()}var f=n(196),m=n(83),h=n(167),g=n(82),v=n(208),y=n(13),b=n(5),w=n(26),x=".js-segments-subnav__nav-item--more",C=".js-segments-subnav__nav-item--more-label, .js-segments-subnav__nav-item--more-label *",k=void 0;!function(){o().then(p),w.track(y)}()},function(e,t){e.exports=_},function(e,t,n){(function(e){function r(t){var n=!0,r=!1,o=[],a=[],u=i.get(s.log);if(void 0!==u)if(n=!1,r=u){var c=i.get(s.blacklist);void 0!==c&&""!==c&&(a=c.split(","))}else{var l=i.get(s.whitelist);void 0!==l&&""!==l&&(o=l.split(","))}var d="undefined"!=typeof window&&window.__issuuConfig&&window.__issuuConfig.production,p=!d,f=i.get(s.throwerror);return void 0!==f&&""!==f&&(p="true"===f),e.extend({log:r,throwerror:p,whitelist:o,blacklist:a},t)}function o(n){var o=r(n);0!==o.whitelist.length||o.log?t.log=function(n){"string"!=typeof n?t.error("logger.log called with an arguments type not a string: "+typeof n):(o.log&&-1===e.indexOf(o.blacklist,n)||-1!==e.indexOf(o.whitelist,n))&&"object"==typeof console&&"function"==typeof window.console.log&&window.console.log.apply(console,arguments)}:t.log=function(){},o.throwerror?t.error=function(e,t){throw t&&window.console.error(t),e}:"undefined"!=typeof window&&window.RavenEnable&&window.Raven&&window.Raven.captureException?t.error=function(n,r){e.isString(n)?window.Raven.captureMessage(n,{extra:r}):window.Raven.captureException(n,{extra:r}),t.log("ERROR",n)}:t.error=function(e){t.log("ERROR",e)}}var i=n(6),a="undefined"!=typeof window?window.location.hostname:"",s={whitelist:a+"logger.whitelist",blacklist:a+"logger.blacklist",log:a+"logger.log",throwerror:a+"logger.throwerror"};t.configure=o,t.cookieKeys=s,t.log=function(){return o({}),t.log.apply(null,arguments)},t.error=function(){return o({}),t.error.apply(null,arguments)}}).call(t,n(1))},,function(e,t,n){function r(e){function t(t){return t||e}function n(){i.log("BROADCASTER",e,arguments)}var r={};return e.subscribe=function(a,s,u){return n("subscribe",a,s,u),o.isUndefined(a)?(i.error("BROADCATER: subscribe to channel:undefined"),0):(r[a]||(r[a]=[]),r[a].push({context:t(u),callback:s}),e)},e.unsubscribe=function(o,i,a){n("unsubscribe",o,i,a);var s=r[o],u=t(a);if(s){var c;for(c=0;c<s.length;c++)s[c].callback===i&&s[c].context===u&&(s.splice(c,1),c--)}return e},e.unsubscribeAll=function(t){return o.isUndefined(t)?r={}:"string"==typeof t&&(r[t]=void 0),e},e.broadcast=function(e){if(n("broadcast",arguments),o.isUndefined(e))return i.error("BROADCATER: broadcast to channel:undefined"),0;var t=r[e];if(!t)return 0;var a,s=o.clone(t),u=Array.prototype.slice.call(arguments,1),c=s.length;for(a=0;c>a;a++)s[a].callback.apply(s[a].context,u);return c},e}var o=n(1),i=n(2),a=n(35),s=r({});t.installTo=r,t.broadcast=s.broadcast,t.subscribe=s.subscribe,t.unsubscribe=s.unsubscribe,t.unsubscribeAll=s.unsubscribeAll,t.events=a},,function(e,t,n){var r;!function(o,i){"use strict";var a=function(e){if("object"!=typeof e.document)throw new Error("Cookies.js requires a `window` with a `document` object");var t=function(e,n,r){return 1===arguments.length?t.get(e):t.set(e,n,r)};return t._document=e.document,t._cacheKeyPrefix="cookey.",t._maxExpireDate=new Date("Fri, 31 Dec 9999 23:59:59 UTC"),t.defaults={path:"/",secure:!1},t.get=function(e){t._cachedDocumentCookie!==t._document.cookie&&t._renewCache();var n=t._cache[t._cacheKeyPrefix+e];return n===i?i:decodeURIComponent(n)},t.set=function(e,n,r){return r=t._getExtendedOptions(r),r.expires=t._getExpiresDate(n===i?-1:r.expires),t._document.cookie=t._generateCookieString(e,n,r),t},t.expire=function(e,n){return t.set(e,i,n)},t._getExtendedOptions=function(e){return{path:e&&e.path||t.defaults.path,domain:e&&e.domain||t.defaults.domain,expires:e&&e.expires||t.defaults.expires,secure:e&&e.secure!==i?e.secure:t.defaults.secure}},t._isValidDate=function(e){return"[object Date]"===Object.prototype.toString.call(e)&&!isNaN(e.getTime())},t._getExpiresDate=function(e,n){if(n=n||new Date,"number"==typeof e?e=e===1/0?t._maxExpireDate:new Date(n.getTime()+1e3*e):"string"==typeof e&&(e=new Date(e)),e&&!t._isValidDate(e))throw new Error("`expires` parameter cannot be converted to a valid Date instance");return e},t._generateCookieString=function(e,t,n){e=e.replace(/[^#$&+\^`|]/g,encodeURIComponent),e=e.replace(/\(/g,"%28").replace(/\)/g,"%29"),t=(t+"").replace(/[^!#$&-+\--:<-\[\]-~]/g,encodeURIComponent),n=n||{};var r=e+"="+t;return r+=n.path?";path="+n.path:"",r+=n.domain?";domain="+n.domain:"",r+=n.expires?";expires="+n.expires.toUTCString():"",r+=n.secure?";secure":""},t._getCacheFromString=function(e){for(var n={},r=e?e.split("; "):[],o=0;o<r.length;o++){var a=t._getKeyValuePairFromCookieString(r[o]);n[t._cacheKeyPrefix+a.key]===i&&(n[t._cacheKeyPrefix+a.key]=a.value)}return n},t._getKeyValuePairFromCookieString=function(e){var t=e.indexOf("=");t=0>t?e.length:t;var n,r=e.substr(0,t);try{n=decodeURIComponent(r)}catch(o){console&&"function"==typeof console.error&&console.error('Could not decode cookie with key "'+r+'"',o)}return{key:n,value:e.substr(t+1)}},t._renewCache=function(){t._cache=t._getCacheFromString(t._document.cookie),t._cachedDocumentCookie=t._document.cookie},t._areEnabled=function(){var e="cookies.js",n="1"===t.set(e,1).get(e);return t.expire(e),n},t.enabled=t._areEnabled(),t},s="object"==typeof o.document?a(o):a;r=function(){return s}.call(t,n,t,e),!(r!==i&&(e.exports=r))}("undefined"==typeof window?this:window)},function(e,t,n){function r(){d.error.apply(null,arguments)}function o(e){var t=e;return t=m.wrap(t),t=f.wrap(t)}function i(){c.forOwn(v,function(e){e._clearPrivate()})}function a(){v={},v[g.SESSION]=o(n(20).session),v[g.LOCAL]=o(n(20).local),u.get(h)===document.location.protocol&&(i(),u.expire(h)),v[g.COOKIE]=o(n(38))}function s(e){if(v||a(),e===g.OBJECT){var t=o(n(19).create());return f.clearPrivateOnEvent(t)}return v[e]}var u=n(6),c=n(1),l=n(4),d=n(2),p=n(39),f=n(40),m=n(15),h="issuu.clear.data",g={SESSION:"sessionStorage",LOCAL:"localStorage",OBJECT:"object",COOKIE:"cookie"},t=c.clone(g);t.TYPES=g,t.OPTIONS={expires:0,isPrivate:!1};var v;t.create=function(e,t,n){var o=s(t);return o?p.wrap(o,e,n):(r("Type of dictionnary should be set and match one of the type defined in TYPES"),{})},t.clearPrivate=function(){i(),l.broadcast(l.events.storageClearPrivate);var e="https:"===document.location.protocol?"http:":"https:";u.set(h,e)},e.exports=t},function(e,t,n){(function(e){function n(){return"streamElm"+ ++r}var r=0;t.create=function(t){var r=e.merge({x:null,y:null,width:null,height:null,id:n(),flatIndex:null,template:null,debugStyle:"",debugTxt:""},t);return r.getTemplate=function(){if(!r.template)throw new Error("No template provided.");return r.template(r)},r.updatePosition=function(){r.getDomElement(),r._domElement&&r._domElement.css({left:r.x+"px",top:r.y+"px"})},r.setPosition=function(e){r.x=e.x,r.y=e.y,r.updatePosition()},r.getPosition=function(){return{x:r.x,y:r.y}},r.setWidth=function(e){r.width=e},r.setHeight=function(e){r.height=e},r.getWidth=function(){return r.width},r.getHeight=function(){return r.height},r._domElement=null,r.getDomElement=function(){return r._domElement||(r._domElement=$("#"+r.id),0===r._domElement.length?r._domElement=null:(r.height=r._domElement.outerHeight(),r.width=r._domElement.width())),r._domElement},r.remove=function(){r._domElement.remove()},r.didInsertElement=function(){r.getDomElement(),r.height=r._domElement.outerHeight(),r.width=r._domElement.width(),r._outOfScreen&&r._domElement.addClass("out-of-screen"),r._isReady&&r._domElement.addClass("ready")},r._isReady=!1,r.setReady=function(e){e!==r._isReady&&(r._isReady=e,r._domElement&&(r._isReady?r._domElement.addClass("ready"):r._domElement.removeClass("ready")))},r._outOfScreen=!1,r.setOutOfScreen=function(e){e!==r._outOfScreen&&(r._outOfScreen=e,r._domElement&&(e?r._domElement.addClass("out-of-screen"):window.setTimeout(function(){r._domElement.removeClass("out-of-screen")},0)))},r}}).call(t,n(1))},function(e,t){e.exports={DOCCREATED:"StreamEvents.DOCCREATED",DOCLOADED:"StreamEvents.DOCLOADED",DOCERROR:"StreamEvents.DOCERROR",ADERROR:"StreamEvents.ADERROR",DOCCLICKED:"StreamEvents.DOCCLICKED",INFOBOXCREATED:"StreamEvents.INFOBOXCREATED",INFOBOXCLICKED:"StreamEvents.INFOBOXCLICKED",STREAMADREQUEST:"StreamEvents.STREAMADREQUEST",STREAMADINSERTED:"StreamEvents.STREAMADINSERTED",STREAMADNOTAVAILABLE:"StreamEvents.STREAMADNOTAVAILABLE"}},,function(e,t,n){var r=n(6),o=n(1),i=n(5),a=n(2),s=n(4),u=n(16),c=n(32),l=n(33),d=u.getIsEnabled(),p=function(){var e=new i.Deferred;return e.resolve({}),e.promise()}(),f=t.getJsonp=function(e,t,n){return i.jsonp(o(n||{}).defaults({cache:!1,timeout:0}).assign({url:e,data:t,callbackParameter:"jsonCallback"}).value())},m=t.getJson=function(e,t,n){return i.ajax(o(n||{}).defaults({cache:!1,timeout:0}).assign({url:e,data:t,dataType:"json"}).value())},h=t.postJson=function(e,t,n){return i.ajax(o(n||{}).defaults({dataType:"json"}).assign({type:"POST",url:e,data:t,headers:{"X-Csrf-Token":r.get("CSRF-TOKEN")}}).value())};t.create=function(e){function t(){w.action=b.action,w.format="json"}function n(e){return void 0!==e&&(w=e),x}function r(e){var t=b.protocol+"://",n=t+window.location.hostname,r=e.replace(n,"").replace(t,"");return c.createKey(w,r)}function u(){var e=-1===o.indexOf(["","80","443"],b.port.toString())?":"+b.port:"",t=b.path||"/";return t="/"===t.charAt(0)?t:"/"+t,b.protocol+"://"+b.hostName+e+t}function g(){return t(),r(u())}function v(){return l.remove(g()),x}function y(){t();var e=u(),n=r(e),o=l.get(n);if(o)return a.log("Api","serve key from cache: ",n),o;if(d&&b.isReadOnly!==!0)return p;var c,g=new i.Deferred;switch(b.type){case"POST":c=h(e,w,{timeout:b.timeout||0,xhrFields:{withCredentials:b.withCredentials}});break;case"GET-JSONP":c=f(e,w,{cache:b.sessionCache,callback:b.jsonpCallback,timeout:b.timeout||0});break;default:c=m(e,w,{cache:b.sessionCache,timeout:b.timeout||0,xhrFields:{withCredentials:b.withCredentials}})}c.then(function(t){if(t&&t.rsp&&t.rsp.stat){if("ok"===t.rsp.stat)return a.log("Api","call ok, stat ok",{url:e,params:w},t),void g.resolve(t.rsp._content);if("fail"===t.rsp.stat)return a.log("Api","call ok, stat fail",{url:e,params:w},t),l.remove(n),t.rsp._content&&t.rsp._content.error&&"001"===t.rsp._content.error.code&&s.broadcast(s.events.apiInvalidToken),void g.reject(t.rsp)}a.log("Api","call ok, stat unknown",{url:e,params:w},t),l.remove(n),g.reject(t)},function(t){a.log("Api","call failed",{url:e,params:w},t),l.remove(n),g.reject(t)});var v=g.promise();return"rejected"!==g.state()&&b.cache&&l.add(n,v,b.sessionCache),v}var b=o.extend({path:"query",sessionCache:!1,cache:!0,isReadOnly:!1,jsonpCallback:void 0,timeout:void 0,protocol:"https:"===location.protocol?"https":"http",hostName:window.location.hostname,port:"",type:"GET",withCredentials:!0},e),w={};b.type=b.type.toUpperCase(),"https:"===location.protocol&&(b.protocol="https"),"POST"===b.type&&(b.sessionCache=!1,b.cache=!1,b.isReadOnly=!1);var x={call:y,parameters:n,getKey:g,deleteCache:v};return x}},function(e,t,n){(function(t){function r(e,t){return t+"-"+e}function o(e){return t.forOwn(e,function(n,r){t.isFunction(n)&&(e[r]=function(){try{return n.apply(e,arguments)}catch(t){return u.error(t),""}})}),e}function i(e){var n=e?"":c.urlBase("html");return o({pageSmallThumbUrl:function(e,t,n){return c.urlBase("image")+"/"+r(e,t)+"/jpg/page_"+(n||1)+"_thumb_small.jpg"},pageMediumThumbUrl:function(e,t,n){return c.urlBase("image")+"/"+r(e,t)+"/jpg/page_"+(n||1)+"_thumb_medium.jpg"},pageLargeThumbUrl:function(e,t,n){return c.urlBase("image")+"/"+r(e,t)+"/jpg/page_"+(n||1)+"_thumb_large.jpg"},clippingThumbUrl:function(e){return n+"/call/clippingsv2/clip/"+e+"/crop"},clippingUrl:function(e,t,n){return this.publicationUrl(e,t)+"/c/"+n},linkmapUrl:function(e,t){return c.urlBase("document")+"/"+r(e,t)+"/linkmap.jsonp"},pageFullUrl:function(e,t,n){return c.urlBase("image")+"/"+r(e,t)+"/jpg/page_"+(n||1)+".jpg"},flashReaderUrl:function(e){return 1===e?c.urlBase("flashstatic")+"webembed/viewers/style1/v1/IssuuViewer.swf":c.urlBase("flashstatic")+"webembed/viewers/style1/v2/IssuuReader.swf"},flashPreviewerUrl:function(){return c.urlBase("flashstatic")+"webembed/publish/style1/v2/IssuuReader.swf"},flashLauncherUrl:function(){return c.urlBase("flashstatic")+"webembed/viewers/style1/v2/IssuuReaderLauncher.swf"},secureFlashReaderUrl:function(e,t,n){return c.secureUrlBase("flashstatic")+"webembed/viewers/style1/v2/IssuuReader.swf?mode=mini&documentId="+t+"-"+e+("undefined"!=typeof n&&n>1?"&pageNumber="+n:"")},userProfileUrl:function(e){return n+"/"+e.toLowerCase()},userStacksUrl:function(e,t){return void 0===t?n+"/"+e.toLowerCase()+"/stacks":n+"/"+e.toLowerCase()+"/stacks/"+t},userSubscriptionsEditUrl:function(e){return void 0===e?n+"/home/subscriptions":n+"/home/subscriptions/"+e},userSmallPhotoUrl:function(e,t){return c.urlBase("photo")+"/"+e.toLowerCase()+"/photo_thumb.jpg"+(t&&l.get("profileImageCacheBreaker")?"?"+l.get("profileImageCacheBreaker"):"")},userPhotoUrl:function(e,t){return c.urlBase("photo")+"/"+e.toLowerCase()+"/photo.jpg"+(t&&l.get("profileImageCacheBreaker")?"?"+l.get("profileImageCacheBreaker"):"")},userLargePhotoUrl:function(e,t){return c.urlBase("photo")+"/"+e.toLowerCase()+"/photo_large.jpg"+(t&&l.get("profileImageCacheBreaker")?"?"+l.get("profileImageCacheBreaker"):"")},publicationUrl:function(e,n,r){var o=this.userProfileUrl(e)+"/docs/"+n.toLowerCase();return t.isNumber(r)&&r>0&&(o+="/"+r),o},publicationLinksEditUrl:function(e,t){var r=n+"/home/docs/"+e+"/edit/links";return r+=isNaN(t)?"":"/"+t},publicationInfoEditUrl:function(e){return n+"/home/docs/"+e+"/edit/info"},publicationEmbedEditUrl:function(e){return n+"/home/docs/"+e+"/edit/embed"},publicationEmbedUrl:function(e){return n+"/home/docs/"+e+"/embed"},publicationStatistics:function(e){return n+"/home/statistics/stats/"+e.toLowerCase()},publicationDistribute:function(e,t){return n+"/home/campaigns/create?action=useDoc&docid="+r(e,t)},publicationProcessingState:function(e,t){return c.urlBase("document")+"/"+r(e,t)+"/conversion_status.jsonp"},publicationProcessingReader:function(e,t,n,r,o){var i=this.publicationUrl(n,r);return o&&(i+="?workerAddress="+encodeURIComponent(o)),i},groupUrl:function(e){return n+"/groups/"+e.toLowerCase()},groupThumbUrl:function(e){return c.urlBase("photo")+"/group/"+e+"/thumb.jpg"},groupLogoUrl:function(e){return c.urlBase("photo")+"/group/"+e+"/logo.jpg"},groupGraphicsUrl:function(e){return c.urlBase("photo")+"/group/"+e+"/graphics.jpg"},reflowPageUrl:function(e,t,n){return c.urlBase("document")+"/"+r(e,t)+"/reflow/v3/page_"+(n||1)+".jsonp"},reflowHeadlinesUrl:function(e,t){return c.urlBase("document")+"/"+r(e,t)+"/reflow/v3/headlines.jsonp"},paymentPageUrl:function(e){var t=c.secureUrlBase("html")+"/user/account/payment?returnUrl="+encodeURIComponent(e);return t},issuuLoginUrl:function(e){var t=new a(n+"/signin"),r=new a(e);return r.toString()&&t.addQueryParam("onLogin",r.uriParts.relative),t.toString()},curatedPageUrl:function(e){return n+"/explore?t="+e},myPublicationsUrl:function(){return n+"/home/publications"}})}var a=n(21),s=n(7),u=n(2),c=n(63),l=s.create("userSettings",s.SESSION),d=function(e){return t.extend(i(!1),{pageSmallThumbUrl:function(t,n,o){return c.urlBase("protectedimage")+"/"+r(t,n)+"/jpg/page_"+(o||1)+"_thumb_small.jpg?readToken="+encodeURIComponent(e)},pageMediumThumbUrl:function(t,n,o){return c.urlBase("protectedimage")+"/"+r(t,n)+"/jpg/page_"+(o||1)+"_thumb_medium.jpg?readToken="+encodeURIComponent(e)},pageLargeThumbUrl:function(t,n,o){return c.urlBase("protectedimage")+"/"+r(t,n)+"/jpg/page_"+(o||1)+"_thumb_large.jpg?readToken="+encodeURIComponent(e)},pageFullUrl:function(t,n,o){return c.urlBase("protectedimage")+"/"+r(t,n)+"/jpg/page_"+(o||1)+".jpg?readToken="+encodeURIComponent(e)}})};e.exports=i(!1),e.exports.relative=i(!0),e.exports.acorn=d}).call(t,n(1))},function(e,t,n){function r(e){return I.clearUserApiCache(t.getUsername()),I.updateUserObject(e).then(t.initWithUserObject)}function o(){var e=y.get(F);return e||(e=_.getUniqueId("auid_"),y.set(F,e,{expires:O,domain:j})),e}function i(){if(window.RavenEnable&&window.Raven&&window.Raven.setUser){var e=t.getUsername()||o();window.Raven.setUser({username:e})}}function a(){return y.get("site.model.token")||void 0}function s(e){y.set("site.model.username",e.toLowerCase(),{expires:P,domain:j})}function u(){var e=y.get("site.model.username");if(e){var t=e.toLowerCase();return e!==t&&s(t),t}return void 0}function c(){return g||(g=I.getUserObject(u()),g.then(t.initWithUserObject,function(){setTimeout(function(){g=void 0},0)})),g}function l(e,n){return I.setUserAttribute(e,n).then(t.initWithUserObject)}function d(){return v||(v=I.getUserAttributes(),v.then(t.initWithUserObject,function(){setTimeout(function(){v=void 0},0)})),v}function p(){u()&&u().length>0?(S.set("model"+u(),D,{expires:P/60,isPrivate:!0}),x.log(A,"saveToDisk()",u(),D)):x.error(A,"saveToDisk() failed with missing username",D)}function f(e){y.set("site.model.account",e,{expires:P,domain:j})}function m(){var e=u(),t=void 0!==e&&void 0!==a(),n=void 0!==D.username&&D.username.toLowerCase()!==e;return x.log(A,"checkLoginStatus()","cookie username:",e,"logged in:",t,"model:",D,"modelInvalid:",n),t?(n&&(D={},g=void 0,v=void 0),D.username=e.toLowerCase()):(D={},g=void 0,v=void 0),n&&(x.log(A,"checkLoginStatus()","model was invalid"),C.broadcast(C.events.userAuthStatusChanged,t)),R||(R=!0,i()),t}function h(e,t){if(!m())return(new b.Deferred).reject("User not logged in").promise();x.log(A,"getPromiseForProperty",e);var n=new b.Deferred,r=S.get("model"+u());if(D=w.merge(D,r),void 0!==D[e])n.resolve(D[e]);else switch(t){case"usertable":n=c();break;case"cloudstorage":n=d();break;default:n.resolve(void 0)}return n.then(function(){return D[e]})}var g,v,y=n(6),b=n(5),w=n(1),x=n(2),C=n(4),k=n(16),E=n(7),_=n(42),I=n(41),S=E.create("GlobalUserObject.",E.LOCAL),T=E.create("GlobalUserObject.",E.COOKIE),A="user",P=31536e3,F="issuu.auid",O=1209600,D={},R=!1,j="."+window.location.hostname.split(".").slice(-2).join(".");C.subscribe(C.events.apiInvalidToken,t.endLoginSession),t.initWithUserObject=function(e){x.log(A,"initWithUserObject()",e),D=w.merge(D,e),D.username=D.username?D.username.toLowerCase():void 0,p()},t.getUsername=function(){return m()?D.username.toLowerCase():""},t.getId=function(){return h("id","usertable")},t.getEmail=function(){return h("email","usertable")},t.getDisplayName=function(){return h("displayName","usertable")},t.getAccountType=function(){return h("account","usertable")},t.getShowExplicit=function(){return h("explicit","usertable")},t.getCreated=function(){return h("created","usertable")},t.setShowExplicit=function(e){var t=D.explicit;return D.explicit=e===!0,r({explicit:D.explicit}).fail(function(){D.explicit=t})},t.getAttribute=function(e){return h(e,"cloudstorage")},t.setAttribute=function(e,t){var n=new b.Deferred;if(m())if("number"!=typeof t)x.error("user.setAttribute",'"value" must be an integer.'),n.reject('Could not set attribute. "value" must be an integer.');else{var r=D[e];D[e]=t,n=l(e,t).fail(function(){D[e]=r})}else n.reject("User not logged in");return n.promise()},t.removeAttribute=function(e){var t=new b.Deferred;if(m()){var n=D[e];delete D[e],t=l(e,void 0).fail(function(){D[e]=n})}else t.reject("User not logged in");return t.promise()},t.getFbToken=function(e){return h("facebookToken")},t.setFbToken=function(e){var t=new b.Deferred;return D.facebookToken=e,p(),t.resolve(),t.promise()},t.setPreventAutologin=function(e){x.log(A,"setPreventAutologin()",e);var t=new b.Deferred;return e===!0?T.set("preventautologin",!0,{expires:1080}):T.remove("preventautologin"),t.resolve(),t.promise()},t.getPreventAutologin=function(){var e=new b.Deferred,t=T.get("preventautologin");return x.log(A,"getPreventAutologin()",t,t===!0),e.resolve(t===!0),e.promise()},t.isLoggedIn=function(){return m()},t.doWhenLoggedIn=function(e,t){m()?e():C.broadcast(C.events.userRequestLogin,{onLoginSuccess:e,authReason:t})},t.beginLoginSession=function(e,n){E.clearPrivate(),t.setPreventAutologin(!1),"object"==typeof e?(s(e.username),f(e.account),t.initWithUserObject(e)):s(e),n!==!1&&C.broadcast(C.events.userAuthStatusChanged,!0),x.log(A,"beginLoginSession()",D),i()},t.endLoginSession=function(){x.log(A,"endLoginSession()",D);var e=u(),n=I.logoutUser(e);return n.always(function(){y.expire("site.model.username"),y.expire("site.model.token"),y.expire("site.model.account"),y.expire("site.model.terms"),y.expire("site.model.termsWarning"),E.clearPrivate(),D={},g=void 0,v=void 0,t.setPreventAutologin(!0),C.broadcast(C.events.userAuthStatusChanged,!1,e),k.disable(),i()}),n},t.resetData=function(){E.clearPrivate(),D={},g=void 0,v=void 0}},function(e,t){"use strict";function n(e){var t=""+e,n=/["'&<>]/.exec(t);if(!n)return t;var r=void 0,o="",i=0,a=0;for(i=n.index;i<t.length;i++){switch(t.charCodeAt(i)){case 34:r="&quot;";break;case 38:r="&amp;";break;case 39:r="&#39;";break;case 60:r="&lt;";break;case 62:r="&gt;";break;default:continue}a!==i&&(o+=t.substring(a,i)),a=i+1,o+=r}return a!==i?o+t.substring(a,i):o}function r(e,t,r){var o=t||{},i=r||{dangerouslySkipEscaping:!1};return e.replace(/(%\(.*?\)s)/g,function(e){var t=e.match(/%\((.*)\)s/)[1],r=o[t],a=i.dangerouslySkipEscaping||"HTML"===t.substr(-4);return a?r:n(r)})}function o(e,t,n,o){return 1===n.count?r(e,n,o):r(t,n,o)}Object.defineProperty(t,"__esModule",{value:!0}),t.__=r,t.__n=o},function(e,t,n){function r(e){return e+d}function o(e){return!p.test(e)}function i(){return(new Date).getTime()}function a(e){return!e||isNaN(e)?!1:e<i()}function s(e){return!isNaN(e)&&e>0?i()+l*parseFloat(e):void 0}function u(e){return(e-i())/l}var c=n(1),l=6e4,d="__maxAge__",p=/(.*)(__maxAge__)$/;t.EXPIREKEY=d,t.getExpireIn=u,t.getExpireTime=s,t.isExpired=a,t.wrap=function(e){function t(t,n){isNaN(n)||(0>=n?e._remove(r(t)):e._set(r(t),s(n)))}function n(t){e.remove.apply(p,arguments),e._remove(r(t))}function i(t){return t&&a(e._get(r(t)))?void n(t):e.get.apply(p,arguments)}function u(n,r,o){var i=o||{};return t(n,i.expires),e.set.apply(p,arguments),r}function l(){var t=e.getKeys.apply(p,arguments);return c.compact(c.filter(t,o))}function d(){var t=l();c.forEach(t,function(t){a(e._get(r(t)))&&n(t)})}if(e.expiresBuiltIn)return e;var p=c.clone(e);return p.expiresBuiltIn=!0,p.set=u,p.get=i,p.remove=n,p.getKeys=l,p.removeExpiredKeys=d,p}},function(e,t,n){function r(){return""+a.get(s)=="true"}function o(){if(r()&&document){var e=document.createElement("h3");e.innerHTML='<a href="/_debug">Read only</a>',e.style.cssText="position:fixed; top:0; left:0; background-color: red; z-index: 9999; padding: 5px 15px;",document.body.appendChild(e)}}function i(){a.expire(s)}var a=n(6),s="debug.readOnlyUser";e.exports={init:o,disable:i,getIsEnabled:r}},function(e,t,n){"use strict";var r=n(95);e.exports=Function.prototype.bind||r},,function(e,t,n){var r=n(1);t.create=function(e){var t=e||{},n={expiresBuiltIn:!1};return n.get=function(e){return t[e]},n.set=function(e,n){t[e]=n},n.has=function(e){return void 0!==t[e]},n.remove=function(e){t[e]=void 0},n.clear=function(){r.forOwn(t,function(e,n){t[n]=void 0})},n.getKeys=function(){var e=[];return r.forOwn(t,function(t,n){void 0!==t&&e.push(n)}),e},n._set=n.set,n._remove=n.remove,n._get=n.get,n._getKeys=n.getKeys,n}},function(e,t,n){function r(){a.error.apply(null,arguments)}function o(e){var t,n="tester";try{switch(e){case"local":t=window.localStorage;break;case"session":t=window.sessionStorage;break;default:return!1}return t.setItem(n,n),t.removeItem(n),!0}catch(r){return!1}}function i(e){var t={expiresBuiltIn:!1};return t.get=function(t){var n=e.getItem(t);if(n)try{n=JSON.parse(n)}catch(o){return void r("Error parsing data with BrowserStorage.getItem. "+o.name+": "+o.message)}return n},t.has=function(t){var n=e.getItem(t);return null!==n&&void 0!==n},t.set=function(n,o){if(void 0===o)return void t.remove(n);try{var i=JSON.stringify(o);e.setItem(n,i)}catch(a){r("QUOTA_EXCEEDED_ERR"===a.name?"Local storage quota exceeded.":"Error saving data with BrowserStorage.setItem. "+a.name+": "+a.message)}},t.remove=function(t){return e.removeItem(t)},t.clear=function(){return e.clear()},t.getKeys=function(){for(var t=[],n=0,r=e.length;r>n;n++)t.push(e.key(n));return t},t._set=t.set,t._remove=t.remove,t._get=t.get,t._getKeys=t.getKeys,t}var a=n(2),s=n(19);t.local=function(){return o("local")?i(window.localStorage):s.create({})}(),t.session=function(){return o("session")?i(window.sessionStorage):s.create({})}()},,function(e,t,n){"use strict";var r=n(17);e.exports=r.call(Function.call,Object.prototype.hasOwnProperty)},function(e,t,n){(function(e){t.isGoodDescription=function(e,t){var n=5,r=e.split(/\s/g);if(r.length<n&&e.replace(/[\x00-\x7F]/g,"").length<20)return!1;if(t&&e.indexOf(t)>-1)return!1;if(e.indexOf("http:")>-1||e.indexOf("https:")>-1||e.indexOf("www.")>-1||/\S+@\S+\.\S+/.test(e))return!1;if(e.indexOf("&#")>-1)return!1;for(var o in r)if(r[o].length>=3&&/([^\d\W])\1{2,}/g.test(r[o]))return!1;if(/\d{20,}/g.test(e))return!1;var i=e.replace(/[^\x00-\x7F]/g,""),a=i.replace(/[^A-Z\W]/g,"");return a.length/e.length>.5?!1:!0},t.getShortDescription=function(t,n,r){var o=n||100,i=r||40,a=[],s=[];e.each(t.split(/([.!\?\:;])/),function(e,t){t%2===0?a.push(e):s.push(e)});for(var u=a.length>1?a[0]+s[0]:a[0],c=1;u.length<i&&e.isString(a[c]);)u+=a[c]+(s[c]||""),c++;if(u.length>o){var l=u.indexOf(" ",o-10);-1===l&&(l=o-10),u=u.substr(0,l)+"..."}return u},t.getFriendlyCount=function(e){return 1e3>e?e.toString():1e6>e?Math.round(e/1e3)+"K":(e/1e6).toFixed(1)+"M"},t.linebreakify=function(e){return e.replace(/(\r\n|\n|\r){2,}/g,"<br /><br />").replace(/(\r\n|\n|\r)/g,"<br />")},t.linkify=function(e){var t=/((?:(https?):\/\/(?:(?:[a-z0-9\$\-\_\.\+\!\*\'\(\)\,\;\?\&\=]|(?:\%[a-f0-9]{2})){1,64}(?:\:(?:[a-z0-9\$\-\_\.\+\!\*\'\(\)\,\;\?\&\=]|(?:\%[a-f0-9]{2})){1,25})?\@)?)?((?:(?:[a-z0-9][a-z0-9\-]{0,64}\.)+(?:(?:aero|arpa|asia|a[cdefgilmnoqrstuwxz])|(?:biz|b[abdefghijmnorstvwyz])|(?:cat|com|coop|c[acdfghiklmnoruvxyz])|d[ejkmoz]|(?:edu|e[cegrstu])|f[ijkmor]|(?:gov|g[abdefghilmnpqrstuwy])|h[kmnrtu]|(?:info|int|i[delmnoqrst])|(?:jobs|j[emop])|k[eghimnrwyz]|l[abcikrstuvy]|(?:mil|mobi|museum|m[acdghklmnopqrstuvwxyz])|(?:name|net|n[acefgilopruz])|(?:org|om)|(?:pro|p[aefghklmnrstwy])|qa|r[eouw]|s[abcdeghijklmnortuvyz]|(?:tel|travel|t[cdfghjklmnoprtvwz])|u[agkmsyz]|v[aceginu]|w[fs]|y[etu]|z[amw]))|(?:(?:25[0-5]|2[0-4][0-9]|[0-1][0-9]{2}|[1-9][0-9]|[1-9])\.(?:25[0-5]|2[0-4][0-9]|[0-1][0-9]{2}|[1-9][0-9]|[1-9]|0)\.(?:25[0-5]|2[0-4][0-9]|[0-1][0-9]{2}|[1-9][0-9]|[1-9]|0)\.(?:25[0-5]|2[0-4][0-9]|[0-1][0-9]{2}|[1-9][0-9]|[0-9])))(?:\:\d{1,5})?)(\/(?:(?:[a-z0-9\;\/\?\:\@\&\=\#\~\-\.\+\!\*\'\(\)\,\_])|(?:\%[a-f0-9]{2}))*)?(?:\b|$)/gi;return e.replace(t,function(e,t,n,r,o,i,a){var s=n?"":"http://",u=o||"";return'<a href="'+s+t+u+'" target="_blank" rel="nofollow">'+t+u+"</a>"})}}).call(t,n(1))},function(e,t,n){var r=n(1),o=n(7),i=n(15),t=r.clone(o.TYPES);t.TYPES=r.clone(o.TYPES),t.OPTIONS={maxSize:50,isPrivate:!1,noDuplicate:!1,items:{expires:0}};var a=i.EXPIREKEY;t.create=function(e,t,n){function s(e){C.set("value",r.last(e,x))}function u(){return C.get("value")||[]}function c(e,t,n){var o=u(),c=r.defaults(n||{},b);w&&(o=r.filter(o,function(t){return!t||t.name!==e}));var l={name:e,value:t};l[a]=i.getExpireTime(c.expires),o.push(l),s(o)}function l(){return r.last(u())}function d(e){var t=u(),n=r.last(t);n&&(n.value=e),s(t)}function p(){var e=u(),t=r.last(e);return s(r.initial(e)),t}function f(e){return r.filter(u(),function(t){return t&&t.name===e&&!i.isExpired(t[a])})}function m(e){s(r.filter(u(),function(t){return!t||t.name!==e}))}function h(){var e=u(),t=r.filter(e,function(e){return e&&!i.isExpired(e[a])});return t.length!==e.length&&s(t),t}function g(){return r.pluck(h(),"name")}function v(){C.clear()}var y=n||{},b=y.items||{},w=y.noDuplicate||!1,x=y.maxSize||50;y.expires=0;var C=o.create("queue."+e,t,y);return{updateLast:d,getLast:l,push:c,pop:p,get:f,remove:m,getAll:h,clear:v,getKeys:g}},e.exports=t},function(e,t){function n(){throw new Error("setTimeout has not been defined")}function r(){throw new Error("clearTimeout has not been defined")}function o(e){if(l===setTimeout)return setTimeout(e,0);if((l===n||!l)&&setTimeout)return l=setTimeout,setTimeout(e,0);try{return l(e,0)}catch(t){try{return l.call(null,e,0)}catch(t){return l.call(this,e,0)}}}function i(e){if(d===clearTimeout)return clearTimeout(e);if((d===r||!d)&&clearTimeout)return d=clearTimeout,clearTimeout(e);try{return d(e)}catch(t){try{return d.call(null,e);
}catch(t){return d.call(this,e)}}}function a(){h&&f&&(h=!1,f.length?m=f.concat(m):g=-1,m.length&&s())}function s(){if(!h){var e=o(a);h=!0;for(var t=m.length;t;){for(f=m,m=[];++g<t;)f&&f[g].run();g=-1,t=m.length}f=null,h=!1,i(e)}}function u(e,t){this.fun=e,this.array=t}function c(){}var l,d,p=e.exports={};!function(){try{l="function"==typeof setTimeout?setTimeout:n}catch(e){l=n}try{d="function"==typeof clearTimeout?clearTimeout:r}catch(e){d=r}}();var f,m=[],h=!1,g=-1;p.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];m.push(new u(e,t)),1!==m.length||h||o(s)},u.prototype.run=function(){this.fun.apply(null,this.array)},p.title="browser",p.browser=!0,p.env={},p.argv=[],p.version="",p.versions={},p.on=c,p.addListener=c,p.once=c,p.off=c,p.removeListener=c,p.removeAllListeners=c,p.emit=c,p.prependListener=c,p.prependOnceListener=c,p.listeners=function(e){return[]},p.binding=function(e){throw new Error("process.binding is not supported")},p.cwd=function(){return"/"},p.chdir=function(e){throw new Error("process.chdir is not supported")},p.umask=function(){return 0}},function(e,t){"use strict";t.track=function(e){if(window.__issuuConfig&&window.__issuuConfig.tracking){var t=window.ga=window.ga||function(){(t.q=t.q||[]).push(arguments)};t.l=+new Date,t("create",window.__issuuConfig.tracking.gaId,"auto"),t("set","dimension7",""+e.isLoggedIn()),t("set","dimension8","categories"),t("send",{hitType:"pageview"})}}},function(e,t){"use strict";var n,r,o,i,a=Object.getOwnPropertyDescriptor?function(){return Object.getOwnPropertyDescriptor(arguments,"callee").get}():function(){throw new TypeError},s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator,u=Object.getPrototypeOf||function(e){return e.__proto__},c=r?u(r):n,l=o?o.constructor:n,d=i?u(i):n,p=i?i():n,f="undefined"==typeof Uint8Array?n:u(Uint8Array),m={"$ %Array%":Array,"$ %ArrayBuffer%":"undefined"==typeof ArrayBuffer?n:ArrayBuffer,"$ %ArrayBufferPrototype%":"undefined"==typeof ArrayBuffer?n:ArrayBuffer.prototype,"$ %ArrayIteratorPrototype%":s?u([][Symbol.iterator]()):n,"$ %ArrayPrototype%":Array.prototype,"$ %ArrayProto_entries%":Array.prototype.entries,"$ %ArrayProto_forEach%":Array.prototype.forEach,"$ %ArrayProto_keys%":Array.prototype.keys,"$ %ArrayProto_values%":Array.prototype.values,"$ %AsyncFromSyncIteratorPrototype%":n,"$ %AsyncFunction%":l,"$ %AsyncFunctionPrototype%":l?l.prototype:n,"$ %AsyncGenerator%":i?u(p):n,"$ %AsyncGeneratorFunction%":d,"$ %AsyncGeneratorPrototype%":d?d.prototype:n,"$ %AsyncIteratorPrototype%":p&&s&&Symbol.asyncIterator?p[Symbol.asyncIterator]():n,"$ %Atomics%":"undefined"==typeof Atomics?n:Atomics,"$ %Boolean%":Boolean,"$ %BooleanPrototype%":Boolean.prototype,"$ %DataView%":"undefined"==typeof DataView?n:DataView,"$ %DataViewPrototype%":"undefined"==typeof DataView?n:DataView.prototype,"$ %Date%":Date,"$ %DatePrototype%":Date.prototype,"$ %decodeURI%":decodeURI,"$ %decodeURIComponent%":decodeURIComponent,"$ %encodeURI%":encodeURI,"$ %encodeURIComponent%":encodeURIComponent,"$ %Error%":Error,"$ %ErrorPrototype%":Error.prototype,"$ %eval%":eval,"$ %EvalError%":EvalError,"$ %EvalErrorPrototype%":EvalError.prototype,"$ %Float32Array%":"undefined"==typeof Float32Array?n:Float32Array,"$ %Float32ArrayPrototype%":"undefined"==typeof Float32Array?n:Float32Array.prototype,"$ %Float64Array%":"undefined"==typeof Float64Array?n:Float64Array,"$ %Float64ArrayPrototype%":"undefined"==typeof Float64Array?n:Float64Array.prototype,"$ %Function%":Function,"$ %FunctionPrototype%":Function.prototype,"$ %Generator%":r?u(r()):n,"$ %GeneratorFunction%":c,"$ %GeneratorPrototype%":c?c.prototype:n,"$ %Int8Array%":"undefined"==typeof Int8Array?n:Int8Array,"$ %Int8ArrayPrototype%":"undefined"==typeof Int8Array?n:Int8Array.prototype,"$ %Int16Array%":"undefined"==typeof Int16Array?n:Int16Array,"$ %Int16ArrayPrototype%":"undefined"==typeof Int16Array?n:Int8Array.prototype,"$ %Int32Array%":"undefined"==typeof Int32Array?n:Int32Array,"$ %Int32ArrayPrototype%":"undefined"==typeof Int32Array?n:Int32Array.prototype,"$ %isFinite%":isFinite,"$ %isNaN%":isNaN,"$ %IteratorPrototype%":s?u(u([][Symbol.iterator]())):n,"$ %JSON%":JSON,"$ %JSONParse%":JSON.parse,"$ %Map%":"undefined"==typeof Map?n:Map,"$ %MapIteratorPrototype%":"undefined"!=typeof Map&&s?u((new Map)[Symbol.iterator]()):n,"$ %MapPrototype%":"undefined"==typeof Map?n:Map.prototype,"$ %Math%":Math,"$ %Number%":Number,"$ %NumberPrototype%":Number.prototype,"$ %Object%":Object,"$ %ObjectPrototype%":Object.prototype,"$ %ObjProto_toString%":Object.prototype.toString,"$ %ObjProto_valueOf%":Object.prototype.valueOf,"$ %parseFloat%":parseFloat,"$ %parseInt%":parseInt,"$ %Promise%":"undefined"==typeof Promise?n:Promise,"$ %PromisePrototype%":"undefined"==typeof Promise?n:Promise.prototype,"$ %PromiseProto_then%":"undefined"==typeof Promise?n:Promise.prototype.then,"$ %Promise_all%":"undefined"==typeof Promise?n:Promise.all,"$ %Promise_reject%":"undefined"==typeof Promise?n:Promise.reject,"$ %Promise_resolve%":"undefined"==typeof Promise?n:Promise.resolve,"$ %Proxy%":"undefined"==typeof Proxy?n:Proxy,"$ %RangeError%":RangeError,"$ %RangeErrorPrototype%":RangeError.prototype,"$ %ReferenceError%":ReferenceError,"$ %ReferenceErrorPrototype%":ReferenceError.prototype,"$ %Reflect%":"undefined"==typeof Reflect?n:Reflect,"$ %RegExp%":RegExp,"$ %RegExpPrototype%":RegExp.prototype,"$ %Set%":"undefined"==typeof Set?n:Set,"$ %SetIteratorPrototype%":"undefined"!=typeof Set&&s?u((new Set)[Symbol.iterator]()):n,"$ %SetPrototype%":"undefined"==typeof Set?n:Set.prototype,"$ %SharedArrayBuffer%":"undefined"==typeof SharedArrayBuffer?n:SharedArrayBuffer,"$ %SharedArrayBufferPrototype%":"undefined"==typeof SharedArrayBuffer?n:SharedArrayBuffer.prototype,"$ %String%":String,"$ %StringIteratorPrototype%":s?u(""[Symbol.iterator]()):n,"$ %StringPrototype%":String.prototype,"$ %Symbol%":s?Symbol:n,"$ %SymbolPrototype%":s?Symbol.prototype:n,"$ %SyntaxError%":SyntaxError,"$ %SyntaxErrorPrototype%":SyntaxError.prototype,"$ %ThrowTypeError%":a,"$ %TypedArray%":f,"$ %TypedArrayPrototype%":f?f.prototype:n,"$ %TypeError%":TypeError,"$ %TypeErrorPrototype%":TypeError.prototype,"$ %Uint8Array%":"undefined"==typeof Uint8Array?n:Uint8Array,"$ %Uint8ArrayPrototype%":"undefined"==typeof Uint8Array?n:Uint8Array.prototype,"$ %Uint8ClampedArray%":"undefined"==typeof Uint8ClampedArray?n:Uint8ClampedArray,"$ %Uint8ClampedArrayPrototype%":"undefined"==typeof Uint8ClampedArray?n:Uint8ClampedArray.prototype,"$ %Uint16Array%":"undefined"==typeof Uint16Array?n:Uint16Array,"$ %Uint16ArrayPrototype%":"undefined"==typeof Uint16Array?n:Uint16Array.prototype,"$ %Uint32Array%":"undefined"==typeof Uint32Array?n:Uint32Array,"$ %Uint32ArrayPrototype%":"undefined"==typeof Uint32Array?n:Uint32Array.prototype,"$ %URIError%":URIError,"$ %URIErrorPrototype%":URIError.prototype,"$ %WeakMap%":"undefined"==typeof WeakMap?n:WeakMap,"$ %WeakMapPrototype%":"undefined"==typeof WeakMap?n:WeakMap.prototype,"$ %WeakSet%":"undefined"==typeof WeakSet?n:WeakSet,"$ %WeakSetPrototype%":"undefined"==typeof WeakSet?n:WeakSet.prototype};e.exports=function(e,t){if(arguments.length>1&&"boolean"!=typeof t)throw new TypeError('"allowMissing" argument must be a boolean');var n="$ "+e;if(!(n in m))throw new SyntaxError("intrinsic "+e+" does not exist!");if("undefined"==typeof m[n]&&!t)throw new TypeError("intrinsic "+e+" exists, but is not available. Please file an issue!");return m[n]}},function(e,t,n){var r=n(3);e.exports=(r["default"]||r).template({compiler:[7,">= 4.0.0"],main:function(e,t,n,r,o){return'<a href="">\n    <img alt="" class="stream2-doc-element__img" />\n</a>\n<div class="stream2-doc-element__metadata">\n    <div class="stream2-doc-element__extra-metadata">\n        <span class="stream2-doc-element__pricing-container">\n            <span class="stream2-doc-element__pricing"></span>\n        </span>\n        <h3 class="stream2-doc-element__title"><a href="" class="unstyled type-discreet" tabindex="-1"></a></h3>\n        <p class="stream2-doc-element__ownername">\n            <a href=""></a>\n        </p>\n    </div>\n    <span class="stream2-doc-element__publication-age"></span>\n    <span class="stream2-doc-element__expand"><span>&hellip;</span></span>\n    <span class="stream2-doc-element__collapse"><span class="issuuicon issuuicon-chevron-x"></span></span>\n</div>\n'},useData:!0})},function(e,t,n){var r=n(3);e.exports=(r["default"]||r).template({1:function(e,t,n,r,o){var i;return"top: "+e.escapeExpression((i=null!=(i=n.y||(null!=t?t.y:t))?i:n.helperMissing,"function"==typeof i?i.call(null!=t?t:{},{name:"y",hash:{},data:o}):i))+"px;"},3:function(e,t,n,r,o){var i;return"left: "+e.escapeExpression((i=null!=(i=n.x||(null!=t?t.x:t))?i:n.helperMissing,"function"==typeof i?i.call(null!=t?t:{},{name:"x",hash:{},data:o}):i))+"px;"},compiler:[7,">= 4.0.0"],main:function(e,t,n,r,o){var i,a,s=null!=t?t:{},u=n.helperMissing,c="function",l=e.escapeExpression;return'<div class="publisher beige" id="'+l((a=null!=(a=n.id||(null!=t?t.id:t))?a:u,typeof a===c?a.call(s,{name:"id",hash:{},data:o}):a))+'" style="'+(null!=(i=n["if"].call(s,null!=t?t.y:t,{name:"if",hash:{},fn:e.program(1,o,0),inverse:e.noop,data:o}))?i:"")+" "+(null!=(i=n["if"].call(s,null!=t?t.x:t,{name:"if",hash:{},fn:e.program(3,o,0),inverse:e.noop,data:o}))?i:"")+l((a=null!=(a=n.debugStyle||(null!=t?t.debugStyle:t))?a:u,typeof a===c?a.call(s,{name:"debugStyle",hash:{},data:o}):a))+'">\n    '+(null!=(i=e.lambda(null!=(i=null!=t?t.content:t)?i.publisherMarkup:i,t))?i:"")+"\n</div>\n"},useData:!0})},function(e,t,n){var r=n(3);e.exports=(r["default"]||r).template({compiler:[7,">= 4.0.0"],main:function(e,t,n,r,o){var i,a,s=null!=t?t:{},u=n.helperMissing,c="function",l=e.escapeExpression;return'<div class="stream-stack beige" id="'+l((a=null!=(a=n.id||(null!=t?t.id:t))?a:u,typeof a===c?a.call(s,{name:"id",hash:{},data:o}):a))+'" style="top: '+l((a=null!=(a=n.y||(null!=t?t.y:t))?a:u,typeof a===c?a.call(s,{name:"y",hash:{},data:o}):a))+"px; left: "+l((a=null!=(a=n.x||(null!=t?t.x:t))?a:u,typeof a===c?a.call(s,{name:"x",hash:{},data:o}):a))+"px;"+l((a=null!=(a=n.debugStyle||(null!=t?t.debugStyle:t))?a:u,typeof a===c?a.call(s,{name:"debugStyle",hash:{},data:o}):a))+'">\n    '+(null!=(i=e.lambda(null!=(i=null!=t?t.content:t)?i.coverMarkup:i,t))?i:"")+"\n</div>\n"},useData:!0})},function(e,t){"use strict";var n=Function.prototype.toString,r=/^\s*class\b/,o=function(e){try{var t=n.call(e);return r.test(t)}catch(o){return!1}},i=function(e){try{return o(e)?!1:(n.call(e),!0)}catch(t){return!1}},a=Object.prototype.toString,s="[object Function]",u="[object GeneratorFunction]",c="function"==typeof Symbol&&"symbol"==typeof Symbol.toStringTag;e.exports=function(e){if(!e)return!1;if("function"!=typeof e&&"object"!=typeof e)return!1;if("function"==typeof e&&!e.prototype)return!0;if(c)return i(e);if(o(e))return!1;var t=a.call(e);return t===s||t===u}},function(e,t,n){var r=n(2),o=n(5);t.createKey=function(e,t){var n=o.extend({},e,!0);delete n.jsonCallback,delete n.token,r.log("Api-cache-key","Creating key with:",n,t);var i,a=[];for(i in n)({}).hasOwnProperty.call(n,i)&&a.push(i.toString().toLowerCase()+(n[i]?n[i].toString().toLowerCase():""));a.sort(),a.unshift(t.toLowerCase());var s=a.join("|");return r.log("Api-cache-key","createKey: ",s),s}},function(e,t,n){function r(){f.log.apply(null,["Api"].concat(c.toArray(arguments)))}function o(e,t,n){w&&y.set(e,t,n)}function i(e,t){b&&v.set(e,t)}function a(e){var t=h.getExpireIn(e[h.EXPIREKEY]);return!isNaN(t)&&t>0?t:void 0}function s(){if(b){var e=v.getKeys();e&&c(e).forEach(function(e){var t=v.get(e);if(t){var n=new l.Deferred;n.resolve(t.value),o(t.name,n.promise(),{expires:a(t)})}})}}function u(){var e,t=p.get("apiCache");for(e in t)if({}.hasOwnProperty.call(t,e)){var n=new l.Deferred;n.resolve(t[e]),o(e,n.promise())}}var c=n(1),l=n(5),d=n(6),p=n(36),f=n(2),m=n(37),h=n(15),g="undefined"!=typeof window?window.location.hostname:"";t.sessionCache={name:"apiSessionCache",cookie:"api-disable-session-cache"},t.pageCache={name:"apiPageCache",cookie:"api-disable-page-cache"};var v=m.create(t.sessionCache.name,m.SESSION,{maxSize:20,items:{expires:30}}),y=m.create(t.pageCache.name,m.OBJECT,{maxSize:100,items:{expires:30}}),b=!d.get(g+t.sessionCache.cookie),w=!d.get(g+t.pageCache.cookie);!function(){w&&(s(),u())}(),t.get=function(e){var t=y.get(e)||{};return t.value},t.add=function(e,t,n){r("cache - add key:",e,t,n),o(e,t),n&&t.done(function(t){i(e,t)})},t.remove=function(e){r("cache - delete key:",e),v.remove(e),y.remove(e)},t.clear=function(){r("clear cache"),v.clear(),y.clear()}},function(e,t,n){var r=n(1),o=n(5),i=n(2),a=n(11),s=5e3;t.create=function(e,t){function n(n){var i=new o.Deferred;return h=a.create(t),h.parameters(r.merge(m,{startIndex:n||0})),h.deleteCache(v).call().then(function(t){var n=[];r.each(t.result._content,function(t,r){n.push(t[e])}),i.resolve(n,t.result.more)},i.reject),i}function u(){n(g.length).then(function(e,n){e&&(g=g.concat(e)),f.notify(e),n&&g.length<t.maxItemCount?u():(v=!1,f.resolve(g))},f.reject)}function c(e){return m=e,y}function l(){return f&&"pending"===f.state()?i.log("Api","You are in danger of losing some notify() responses. Dont rely on them. You will be fine as long as you are only interested in resolve/reject."):(f=new o.Deferred,g=[],u()),f.promise()}function d(){return h.getKey()}function p(e){return v=e!==!1,y}var f,m,h,g=[],v=!1;t.maxItemCount=t.maxItemCount||s;var y={call:l,parameters:c,getKey:d,deleteCache:p};return y}},function(e,t){e.exports={userAuthStatusChanged:"userAuthStatusChanged",userRequestLogin:"userRequestLogin",streamDocumentClicked:"streamDocumentClicked",documentMenuActivate:"documentMenuActivate",documentEmbedActivate:"documentEmbedActivate",documentDownloadActivate:"documentDownloadActivate",messagehubInfo:"messagehubInfo",messagehubWarn:"messagehubWarn",messagehubError:"messagehubError",messagehubUIChanged:"messagehubUIChanged",messagehubUIGetHeight:"messagehubUIGetHeight",messagehubFriendlyNotification:"messagehub.friendlyNotification",readerDocumentFailed:"readerDocumentFailed",readerDocumentLoading:"readerDocumentLoading",readerDocumentLoaded:"readerDocumentLoaded",pageView:"pageView",pageContinuation:"pageContinuation",pingbackError:"pingbackError",trackingEvent:"tracking.event",monitorEvent:"monitor.event",documentShare:"documentShare",documentDownload:"documentDownload",documentImpression:"documentImpression",documentClick:"documentClick",documentPageChange:"documentPageChange",documentLoad:"documentLoad",onStreamResized:"documentPage.onStreamResized",onPageResized:"documentPage.onPageResized",onShowStream:"documentPage.onShowStream",onHideStream:"documentPage.onHideStream",readerZoomedgIn:"ReaderEventZoomedgIn",readerZoomedgOut:"ReaderEventZoomedgOut",readerPageZeroResized:"ReaderPageZeroResized",readerSidebarDocumentClicked:"ReaderSidebarDocumentClicked",startNewClipping:"clippings.startNewClipping",stopNewClipping:"clippings.stopNewClipping",stateChangedNewClipping:"clippings.stateChangedNewClipping",stateChangedClippingOverlay:"clippings.stateChangedClippingOverlay",showUserClippings:"clippings.showUserClippings",hideUserClippings:"clippings.hideUserClippings",getClippingCount:"clippings.getClippingCount",onClippingCountUpdated:"clippings.onClippingCountUpdated",onClippingsLoaded:"clippings.onLoaded",clippingShare:"clippingShare",clippingCommentAdded:"clippingCommentAdded",shouldActivateClippingsTutorialAnonymous:"shouldActivateClippingsTutorialAnonymous",clippingsTutorialDismissedAnonymous:"clippingsTutorialDismissedAnonymous",flashReaderClippingAction:"flashReaderClippingAction",flashReaderClippingCreateClick:"flashReaderClippingCreateClick",flashReaderSizeAnimationEnd:"flashReaderSizeAnimationEnd",disableGestures:"mobilereader.disableGestures",getReader:"reader.getReader",businessSignupFlow:"businessSignupFlow",uploadFlow:"uploadFlow",storageClearPrivate:"storage.ClearPrivate",publishNowButtonChangeState:"publishNowButton.stateChange",servicesChangedUnlisted:"serviceManager.changed.unlisted",serviceChangeTrack:"serviceManager.serviceChangeTrack",signupTrack:"signupTrack",errorMessageShown:"errorMessageShown",errorMessageHidden:"errorMessageHidden",paymentMethodEvent:"paymentMethodEvent",widgetDeleteAccountEvent:"widgetDeleteAccountEvent",widgetPublishNowButtonEvent:"widgetPublishNowButtonEvent",planStateChange:"planStateChange",apiInvalidToken:"apiInvalidToken"}},function(e,t,n){(function(e){function r(t){if("object"==typeof t){var n=e.isArray(t)?[]:{};return e.each(t,function(e,t){n[t]=r(e)}),n}return"string"==typeof t?t.replace(/&#x([a-f0-9]+);?/gi,function(e,t){return String.fromCharCode(parseInt(t,16))}):t}var o=n(2),i={};!function(){void 0!==window.issuuDataCache&&(i=r(window.issuuDataCache)||{},window.issuuDataCache=void 0),o.log("server-data","get data from dom: ",i)}(),t.get=function(t){return e.cloneDeep(i[t])}}).call(t,n(1))},function(e,t,n){(function(t){var r=n(24),o=t.clone(r);o.OPTIONS={maxSize:50,isPrivate:!1,items:{expires:0}},o.create=function(e,n,o){function i(e,t,n){u.push(e,t,n)}function a(e){var n=u.get(e);return t.isArray(n)&&n.length>0?n[0]:void 0}var s=o||{};s.noDuplicate=!0;var u=r.create("queue."+e,n,s);return{set:i,get:a,getAll:u.getAll,remove:u.remove,clear:u.clear,getKeys:u.getKeys}},e.exports=o}).call(t,n(1))},function(e,t,n){function r(){s.error.apply(null,arguments)}function o(e){var t=i.get(e);return null===t?void 0:t}var i=n(6),a=n(1),s=n(2);t.expiresBuiltIn=!0,t.get=function(e){var t=o(e);if(t)try{t=JSON.parse(t)}catch(n){return void r("Error parsing data with cookie.getCookie. "+n.name+": "+n.message)}return t},t.set=function(e,t,n){try{var o=JSON.stringify(t),a=n||{};return i.set(e,o,{expires:60*a.expires,path:a.path,domain:a.domain}),t}catch(s){return void r("Error saving data with cookie.setCookie. "+s.name+": "+s.message)}},t.remove=i.expire.bind(i),t.has=function(e){return void 0!==o(e)},t.getKeys=function(){var e=document.cookie.split(";")||[],t=/(.*?)=(.*)/;return a.compact(a.map(e,function(e){var n=$.trim(decodeURIComponent(e)),r=t.exec(n);return r&&r.length>1?r[1]:void 0}))},t.clear=function(e){if(e)for(var n=t.getKeys(),o=0,a=n.length;a>o;o++)i.expire(n[o]);else r("Cookie: you can not clear all data")},t._set=t.set,t._remove=t.remove,t._get=t.get,t._getKeys=t.getKeys},function(e,t,n){var r=n(1);t.wrap=function(e,t,n){function o(e){return m+e}function i(e){return m?0===e.indexOf(m):!0}function a(e){return m?e.replace(m,""):e}function s(t){return e.get(o(t))}function u(t){return e.has(o(t))}function c(t,n,i){var a=r.defaults(i||{},h);return e.set(o(t),n,a)}function l(t){return e.remove(o(t))}function d(){var t=e.getKeys.apply(f,arguments);return r.map(r.compact(r.filter(t,i)),a)}function p(){r.forEach(d(),function(e){l(e)})}var f=r.clone(e),m=t||"",h=n||{};return f.get=s,f.has=u,f.set=c,f.remove=l,f.clear=p,f.getKeys=d,f}},function(e,t,n){function r(e){return e+s}function o(e){return!u.test(e)}var i=n(1),a=n(4),s="__pr__",u=/(.*)(__pr__)$/;t.clearPrivateOnEvent=function(e){return e.isClearingPrivateFromEvent||(e.isClearingPrivateFromEvent=!0,a.subscribe(a.events.storageClearPrivate,function(){e._clearPrivate()})),e},t.wrap=function(e){function t(t,n){void 0!==n&&(n?e._set(r(t),!0):e._remove(r(t)))}function n(n,r,o){var i=o||{};return t(n,i.isPrivate),e.set.apply(l,arguments),r}function a(t){e.remove.apply(l,arguments),e._remove(r(t))}function s(){var t=e.getKeys.apply(l,arguments);return i.compact(i.filter(t,o))}function c(){var t=e.getKeys.apply(l,arguments);i.forEach(t,function(t){var n=u.exec(t);n&&n.length>=2&&e.get(t)&&a(n[1])})}var l=i.clone(e);return l.set=n,l.remove=a,l.getKeys=s,l._clearPrivate=c,l}},function(e,t,n){(function(e){function r(e){return s.create({action:"issuu.user.get",isReadOnly:!0}).parameters({profileUsername:e})}function o(e,t){return c.log(l,"setUserAttribute()","setting user attribute on API",e,t),s.create({action:"issuu.user.set_attribute",type:"POST"}).parameters({attributeName:e,attributeValue:t}).deleteCache().call().then(function(e){var t={};return t[e.attribute.name]={value:e.attribute.value,timestamp:e.attribute.modified},t},function(e){c.log(l,"setUserAttribute() failed",e)})}function i(){u.create("attribute",{action:"issuu.user.list_attributes"}).parameters({pageSize:d}).deleteCache()}function a(e){return c.log(l,"removeUserAttribute()","removing user attribute on API",e),s.create({action:"issuu.user.delete_attribute"}).parameters({attributeName:e}).deleteCache().call().then(function(e){return{}},function(e){c.log(l,"removeUserAttribute() failed",e)})}var s=n(11),u=n(34),c=n(2),l="user",d=30;t.clearUserApiCache=function(e){r(e).deleteCache()},t.updateUserObject=function(e){return c.log(l,"updateUserObject()","updating user via API"),s.create({action:"issuu.user.update",type:"POST",cache:!1}).parameters(e).deleteCache().call().then(function(e){return e.user},function(e){c.log(l,"updateUserObject() failed",e)})},t.getUserObject=function(e){return c.log(l,"getUserObject()","actually requesting user from API",e),r(e).deleteCache().call().then(function(e){return e.user},function(e){c.log(l,"getUserObject() failed",e)})},t.setUserAttribute=function(e,t){return i(),"undefined"==typeof t?a.apply(void 0,arguments):o.apply(void 0,arguments)},t.getUserAttribute=function(e){return c.log(l,"getUserAttribute()","actually requesting single user attribute from API",e),s.create({action:"issuu.user.get_attribute",isReadOnly:!0}).parameters({attributeName:e}).call().then(function(e){var t={};return t[e.attribute.name]={value:e.attribute.value,timestamp:e.attribute.modified},t},function(e){c.log(l,"getUserAttribute() failed",e)})},t.getUserAttributes=function(){return c.log(l,"getUserAttributes()","actually requesting all user attributes from API"),u.create("attribute",{action:"issuu.user.list_attributes",isReadOnly:!0}).parameters({pageSize:d}).call().then(function(t){var n={};return e.each(t,function(e,t){n[e.name]={value:e.value,timestamp:e.modified}}),n},function(e){c.log(l,"getUserAttributes() failed",e)})},t.logoutUser=function(){c.log(l,"logoutUser()","send API request to force logout user");var e=s.create({action:"issuu.user.logout",isReadOnly:!1}).call();return e.fail(function(e){c.log(l,"logoutUser() failed",e)}),e}}).call(t,n(1))},function(e,t){var n=0;t.getUniqueId=function(e){var t,r=(new Date).getTime().toString(32);for(t=0;5>t;t++)r+=Math.floor(65535*Math.random()).toString(32);return(e||"o_")+r+(n++).toString(32)}},function(e,t){function n(){var e=/debugads=([^;]*)/,t=e.exec(document.cookie);return t&&"true"===t.pop()||"undefined"!=typeof window&&window.location.search.indexOf("debugads=true")>-1}e.exports={log:function(){n()&&console.log(arguments)}}},function(e,t,n){"use strict";function r(e){return e.className.match(/\bstream2__element\b/)?e:r(e.parentNode)}function o(e){return"streamElm"+e}function i(e){var t=$(r(e.target));t.toggleClass("stream2-doc-element--open")}var a=n(212),s=n(65),u=n(4),c=n(12),l=n(9),d=n(72).setText,p=s.formatCurrency,f=40;e.exports={getHeight:function(e,t){return e.aspect||(e.aspect=e.content.height/e.content.width),e.aspect*t+f},publicationUrl:c.relative.publicationUrl,imageUrl:c.pageLargeThumbUrl,init:function(e){e.className.match(/\bstream2-doc-element\b/)||(e.className+=" stream2-doc-element");var t=e.querySelector(".stream2-doc-element__img");t.addEventListener("load",this._onImageLoad),t.addEventListener("error",this._onImageError),t.parentNode.addEventListener("click",this._onClick);var n=e.querySelector(".stream2-doc-element__metadata");n.addEventListener("click",i)},update:function(e,t,n,r,i){var s=o(n);e.setAttribute("data-element-id",s),e.setAttribute("data-publicationId",t.content.publicationId),t.imageUrl||(t.imageUrl=this.imageUrl(t.content.publicationId,t.content.revisionId)),t.publicationUrl||(t.publicationUrl=this.publicationUrl(t.content.ownerUsername,t.content.publicationName)),t.publicationAge||(t.publicationAge=a(t.content.publishDate).fromNow()),this._broadcastDocumentCreated(e,s,t,n,r,i);var u=e.querySelector(".stream2-doc-element__img");u.src!==t.imageUrl&&(u.style.opacity=0,u.alt=t.content.title||"",u.src="",u.src=t.imageUrl,u.parentNode.href=t.publicationUrl),d(e.querySelector(".stream2-doc-element__publication-age"),t.publicationAge);var c=e.querySelector(".stream2-doc-element__title > a");c.href=t.publicationUrl,d(c,t.content.title||"");var l=e.querySelector(".stream2-doc-element__ownername > a");l.href="/"+t.content.ownerUsername,d(l,t.content.ownerDisplayName||"");var f=e.querySelector(".stream2-doc-element__pricing");t.content.priceAmount&&t.content.priceCurrency?d(f,p(t.content.priceAmount,{currency:t.content.priceCurrency})):f.remove(),e.className=e.className.replace(/\bstream2-doc-element--open\b/,"")},_onImageLoad:function(e){e.target.style.opacity=1;var t=r(e.target),n=t.getAttribute("data-element-id");u.broadcast(l.DOCLOADED,n)},_onImageError:function(e){var t=r(e.target),n=t.getAttribute("data-publicationId");u.broadcast(l.DOCERROR,{publicationId:n,url:e.target.src})},_onClick:function(e){var t=r(e.target),n=t.getAttribute("data-element-id"),o=r(e.target).getAttribute("data-publicationId");u.broadcast(l.DOCCLICKED,n,{publicationId:o,url:e.target.href,clickX:e.clientX,clickY:e.clientY});var i=e.target.querySelector("img").alt;u.broadcast(u.events.streamDocumentClicked,{title:i,event:e})},_broadcastDocumentCreated:function(e,t,n,r,o,i){var a=$(e).offset();u.broadcast(l.DOCCREATED,t,{publicationId:n.content.publicationId,revisionId:n.content.revisionId,ownerUsername:n.content.ownerUsername,publicationName:n.content.publicationName,page:1,origin:n.origin,ranking:r,x:a.left,y:a.top,height:o,width:i})},_getRoot:r}},function(e,t,n){(function(e){function r(e,t,n,r){var o;return o=n>e?t>n-e:r>e-n}function o(e,t){return{id:e,isImpressionTracked:!1,canImpressionBeTracked:!1,data:t}}function i(e,t){if(e&&!e.isImpressionTracked&&e.canImpressionBeTracked){var n=e.data;if(r(t.y,t.height,n.y,n.height))return!0}return!1}function a(e){u.broadcast(l.trackingEvent,e)}var s=n(2),u=n(4),c=n(192),l=u.events;t.create=function(){var t,n={},r=[],u={};return u.track=a,u.addElement=function(e,t){return n[e]?(s.log("streamTracker","updateElement: ",t),n[e].data=t,u.trackElementImpression(e)):(s.log("streamTracker","addElement: ",t),n[e]=o(e,t)),u},u.getElement=function(e){return n[e]},u.allowImpressionTracking=function(e){var o=n[e];o&&!o.canImpressionBeTracked&&(o.canImpressionBeTracked=!0,i(o,t)?u.doImpressionTracking(o):r.push(e))},u.trackElementImpression=function(e){var r=n[e];return r&&i(r,t)&&u.doImpressionTracking(r),u},u.onScroll=function(o){if(0!==r.length){var a=e.clone(o);if(a.y-t.y!==0||a.height-t.height!==0){a.height=Math.max(a.y+a.height,t.y+t.height),a.y=Math.min(a.y,t.y),a.height-=a.y;var s=r;return r=[],e.forEach(s,function(e){var t=n[e];t&&(i(t,a)?u.doImpressionTracking(t):r.push(e))}),t=o,u}}},u.doImpressionTracking=function(e){return e.isImpressionTracked=!0,u},u.start=function(e){return t=e,u},u.stop=function(){return u},u.reset=function(){return n={},r=[],u},c.addSuperFn(u)}}).call(t,n(1))},,function(e,t,n){"use strict";var r=n(76),o="function"==typeof Symbol&&"symbol"==typeof Symbol("foo"),i=Object.prototype.toString,a=Array.prototype.concat,s=Object.defineProperty,u=function(e){return"function"==typeof e&&"[object Function]"===i.call(e)},c=function(){var e={};try{s(e,"x",{enumerable:!1,value:e});for(var t in e)return!1;return e.x===e}catch(n){return!1}},l=s&&c(),d=function(e,t,n,r){(!(t in e)||u(r)&&r())&&(l?s(e,t,{configurable:!0,enumerable:!1,value:n,writable:!0}):e[t]=n)},p=function(e,t){var n=arguments.length>2?arguments[2]:{},i=r(t);o&&(i=a.call(i,Object.getOwnPropertySymbols(t)));for(var s=0;s<i.length;s+=1)d(e,i[s],t[i[s]],n[i[s]])};p.supportsDescriptors=!!l,e.exports=p},function(e,t,n){"use strict";e.exports=n(89)},function(e,t,n){"use strict";var r=n(27),o=r("%TypeError%"),i=r("%SyntaxError%"),a=n(22),s={"Property Descriptor":function(e,t){if("Object"!==e.Type(t))return!1;var n={"[[Configurable]]":!0,"[[Enumerable]]":!0,"[[Get]]":!0,"[[Set]]":!0,"[[Value]]":!0,"[[Writable]]":!0};for(var r in t)if(a(t,r)&&!n[r])return!1;var i=a(t,"[[Value]]"),s=a(t,"[[Get]]")||a(t,"[[Set]]");if(i&&s)throw new o("Property Descriptors may not be both accessor and data descriptors");return!0}};e.exports=function(e,t,n,r){var a=s[t];if("function"!=typeof a)throw new i("unknown record type: "+t);if(!a(e,r))throw new o(n+" must be a "+t);console.log(a(e,r),r)}},function(e,t,n){var r=n(17),o=r.call(Function.call,Object.prototype.hasOwnProperty),i=Object.assign;e.exports=function(e,t){if(i)return i(e,t);for(var n in t)o(t,n)&&(e[n]=t[n]);return e}},function(e,t){var n=Number.isNaN||function(e){return e!==e};e.exports=Number.isFinite||function(e){return"number"==typeof e&&!n(e)&&e!==1/0&&e!==-(1/0)}},function(e,t){e.exports=Number.isNaN||function(e){return e!==e}},function(e,t){e.exports=function(e,t){var n=e%t;return Math.floor(n>=0?n:n+t)}},function(e,t){e.exports=function(e){return e>=0?1:-1}},function(e,t){e.exports=function(e){return null===e||"function"!=typeof e&&"object"!=typeof e}},function(e,t,n){var r=n(3);e.exports=(r["default"]||r).template({compiler:[7,">= 4.0.0"],main:function(e,t,n,r,o){return'<div class="center-block stream2-ad-element__ad-container">\n    <div id="" class="stream2-ad-element__ad"></div>\n    <p class="stream2-ad-element__text">Advertisement</p>\n</div>\n'},useData:!0})},function(e,t,n){var r=n(3);e.exports=(r["default"]||r).template({1:function(e,t,n,r,o){var i;return'src="'+e.escapeExpression((i=null!=(i=n.coverImage||(null!=t?t.coverImage:t))?i:n.helperMissing,"function"==typeof i?i.call(null!=t?t:{},{name:"coverImage",hash:{},data:o}):i))+'"'},3:function(e,t,n,r,o){return"Preview"},5:function(e,t,n,r,o){return"Read now"},7:function(e,t,n,r,o){return'            <div class="ribbon-wrapper"><div class="ribbon">Featured</div></div>\n'},9:function(e,t,n,r,o){var i;return'            <p class="pricing">\n                '+(null!=(i=e.lambda(null!=(i=null!=t?t.content:t)?i.formattedPrice:i,t))?i:"")+"\n            </p>\n"},11:function(e,t,n,r,o){var i,a=null!=t?t:{},s=n.helperMissing,u="function",c=e.escapeExpression;return'        <p class="description">\n            <a href="'+c((i=null!=(i=n.publicationUrl||(null!=t?t.publicationUrl:t))?i:s,typeof i===u?i.call(a,{name:"publicationUrl",hash:{},data:o}):i))+'" class="unstyled" tabindex="-1">'+c((i=null!=(i=n.shortDescription||(null!=t?t.shortDescription:t))?i:s,typeof i===u?i.call(a,{name:"shortDescription",hash:{},data:o}):i))+"</a>\n        </p>\n"},compiler:[7,">= 4.0.0"],main:function(e,t,n,r,o){var i,a,s=null!=t?t:{},u=n.helperMissing,c="function",l=e.escapeExpression,d=e.lambda;return'<div class="publication" id="'+l((a=null!=(a=n.id||(null!=t?t.id:t))?a:u,typeof a===c?a.call(s,{name:"id",hash:{},data:o}):a))+'" style="top: '+l((a=null!=(a=n.y||(null!=t?t.y:t))?a:u,typeof a===c?a.call(s,{name:"y",hash:{},data:o}):a))+"px; left: "+l((a=null!=(a=n.x||(null!=t?t.x:t))?a:u,typeof a===c?a.call(s,{name:"x",hash:{},data:o}):a))+"px;"+l((a=null!=(a=n.debugStyle||(null!=t?t.debugStyle:t))?a:u,typeof a===c?a.call(s,{name:"debugStyle",hash:{},data:o}):a))+'">\n    <div class="publication-content">\n    '+(null!=(a=null!=(a=n.debugTxt||(null!=t?t.debugTxt:t))?a:u,i=typeof a===c?a.call(s,{name:"debugTxt",hash:{},data:o}):a)?i:"")+'\n    <a href="'+l((a=null!=(a=n.publicationUrl||(null!=t?t.publicationUrl:t))?a:u,typeof a===c?a.call(s,{name:"publicationUrl",hash:{},data:o}):a))+'" style="height:'+l((a=null!=(a=n.imgHeight||(null!=t?t.imgHeight:t))?a:u,typeof a===c?a.call(s,{name:"imgHeight",hash:{},data:o}):a))+'px;" class="cover" >\n        <img '+(null!=(i=n["if"].call(s,null!=t?t.coverImage:t,{name:"if",hash:{},fn:e.program(1,o,0),inverse:e.noop,data:o}))?i:"")+' style="height:'+l((a=null!=(a=n.imgHeight||(null!=t?t.imgHeight:t))?a:u,
typeof a===c?a.call(s,{name:"imgHeight",hash:{},data:o}):a))+'px;" alt="'+l(d(null!=(i=null!=t?t.content:t)?i.title:i,t))+'" />\n        <span class="hint" style="line-height:'+l((a=null!=(a=n.imgHeight||(null!=t?t.imgHeight:t))?a:u,typeof a===c?a.call(s,{name:"imgHeight",hash:{},data:o}):a))+'px;" >'+(null!=(i=n["if"].call(s,null!=(i=null!=t?t.content:t)?i.isPreview:i,{name:"if",hash:{},fn:e.program(3,o,0),inverse:e.program(5,o,0),data:o}))?i:"")+"</span>\n"+(null!=(i=n["if"].call(s,null!=(i=null!=t?t.content:t)?i.isEditorsPick:i,{name:"if",hash:{},fn:e.program(7,o,0),inverse:e.noop,data:o}))?i:"")+'    </a>\n    <div class="metadata">\n'+(null!=(i=n["if"].call(s,null!=(i=null!=t?t.content:t)?i.priceAmount:i,{name:"if",hash:{},fn:e.program(9,o,0),inverse:e.noop,data:o}))?i:"")+'        <h3 class="title"><a href="'+l((a=null!=(a=n.publicationUrl||(null!=t?t.publicationUrl:t))?a:u,typeof a===c?a.call(s,{name:"publicationUrl",hash:{},data:o}):a))+'" class="unstyled type-discreet" tabindex="-1">'+l(d(null!=(i=null!=t?t.content:t)?i.title:i,t))+'</a></h3>\n        <p class="ownername">\n            <a href="/'+l(d(null!=(i=null!=t?t.content:t)?i.ownerUsername:i,t))+'">'+l(d(null!=(i=null!=t?t.content:t)?i.ownerDisplayName:i,t))+"</a>\n        </p>\n"+(null!=(i=n["if"].call(s,null!=t?t.isGoodDescription:t,{name:"if",hash:{},fn:e.program(11,o,0),inverse:e.noop,data:o}))?i:"")+"    </div>\n    </div>\n</div>\n"},useData:!0})},function(e,t,n){var r=n(3);e.exports=(r["default"]||r).template({compiler:[7,">= 4.0.0"],main:function(e,t,n,r,o){var i,a,s=null!=t?t:{},u=n.helperMissing,c="function",l=e.escapeExpression;return'<div class="infobox beige" id="'+l((a=null!=(a=n.id||(null!=t?t.id:t))?a:u,typeof a===c?a.call(s,{name:"id",hash:{},data:o}):a))+'" style="top: '+l((a=null!=(a=n.y||(null!=t?t.y:t))?a:u,typeof a===c?a.call(s,{name:"y",hash:{},data:o}):a))+"px; left: "+l((a=null!=(a=n.x||(null!=t?t.x:t))?a:u,typeof a===c?a.call(s,{name:"x",hash:{},data:o}):a))+"px;"+l((a=null!=(a=n.debugStyle||(null!=t?t.debugStyle:t))?a:u,typeof a===c?a.call(s,{name:"debugStyle",hash:{},data:o}):a))+' overflow:hidden;">\n    '+(null!=(a=null!=(a=n.debugTxt||(null!=t?t.debugTxt:t))?a:u,i=typeof a===c?a.call(s,{name:"debugTxt",hash:{},data:o}):a)?i:"")+'\n    <div class="content">\n        '+(null!=(i=e.lambda(null!=(i=null!=t?t.content:t)?i.message:i,t))?i:"")+"\n    </div>\n</div>\n"},useData:!0})},,,function(e,t,n){function r(e){var t=window.document.createElement("script");t.async=!0,t.type="text/javascript";var n="https:"===window.document.location.protocol;t.src=(n?"https:":"http:")+"//www.googletagservices.com/tag/js/gpt.js",window.document.head.appendChild(t),t.addEventListener("error",e.onError)}function o(e){a||(a=window.googletag=window.googletag||{},a.cmd=a.cmd||[],r(e),a.cmd.push(function(){a.pubads().disableInitialLoad(),a.enableServices()}))}function i(){}var a,s=n(134),u=[],c=1500;t.create=function(e){function t(e,t,n,r,o){var i,c=n||[];if(e&&t){var l=r||[];2===l.length&&"string"==typeof l[0]&&(l=[l]);var d=!1,p=function(){d||a.cmd.push(function(){a.pubads().refresh([i]),d=!0})};a.cmd.push(function(){i=1===c.length&&"outOfPage"===c[0]?a.defineOutOfPageSlot(t,e):a.defineSlot(t,c,e),u[e]=i;for(var n=0;n<l.length;n++){var r=l[n];2===r.length&&(i=i.setTargeting(r[0],r[1]))}i=i.setCollapseEmptyDiv(!0).addService(a.pubads()),a.display(e)}),o&&o.length?(s.requestBids(e,t,c,o,p),setTimeout(p,f)):p(i)}}function n(e,t){a.cmd.push(function(){a.display(e),a.pubads().refresh([t])})}function r(e,t){a.cmd.push(function(){a.pubads().addEventListener(e,t)})}function l(e){return u[e]}var d=e||{};d.onError=d.onError||i;var p=d.bidders||[],f=d.bidderTimeout||c;return o(d),s.init(p),{addPlacement:t,addEventListener:r,getSlotById:l,refreshPlacement:n}}},function(e,t){e.exports=function(e){function t(r){if(n[r])return n[r].exports;var o=n[r]={exports:{},id:r,loaded:!1};return e[r].call(o.exports,o,o.exports,t),o.loaded=!0,o.exports}var n={};return t.m=e,t.c=n,t.p="_build/157",t(0)}([function(e,t,n){e.exports=n(1)},function(e,t,n){function r(e){var t={post:function(e,t,n){},handleError:function(e){},getWidth:function(){},getHeight:function(){},getUsername:function(){},getLocation:function(){},getReferrer:function(){},getSource:function(){},getOrigin:function(){},getLanguage:function(){},setTimeout:function(e,t){},clearTimeout:function(e){},setInterval:function(e,t){},clearInterval:function(e){},nagleTimeout:0};o.forOwn(t,function(t,n){if(void 0===e[n]||null!==e[n]&&typeof e[n]!=typeof t)throw new Error("Initialization error: You must specify options correctly. On key "+n+" value "+e[n]+" is not of correct type "+typeof t)});var n={getUsername:e.getUsername,getLanguage:e.getLanguage,getLocation:e.getLocation,getReferrer:e.getReferrer,getSource:e.getSource,getWidth:e.getWidth,getHeight:e.getHeight,getBrowserSize:function(){return n.getWidth()+"x"+n.getHeight()}},r=function(t){var n={Accept:"application/json","Content-Type":"text/plain;charset=UTF-8"};e.post("/ping",n,t)},h=new i,g=new u(e.getOrigin()+"_tracking-v1.3.157");this._handlers={};var v=function(t){o.forOwn(t.handlers(),function(n,r){this._handlers[r]=this._handlers[r]||[],this._handlers[r].push(n.bind(t)),this[r]=function(t){var n=h.validate(r,t);return n?void e.handleError(new Error(JSON.stringify(n))):void o.forEach(this._handlers[r],function(e){e.call(null,t)},this)}.bind(this)},this)}.bind(this),y=new l(e.handleError,g,r,n,e.setTimeout,e.clearTimeout,e.nagleTimeout);v(new s(g,r)),v(new a(g,r,e.setTimeout,e.clearTimeout)),v(new p(y)),v(new d(y)),v(new f(y)),v(new m(y,e.setTimeout,e.clearTimeout)),v(new c(g,r,n,e.setTimeout,e.clearTimeout)),this._handleError=e.handleError}var o=(n(2),n(3)),i=n(4).RequestValidator,a=n(7).MonitorHandler,s=n(8).IgnoreHandler,u=n(9).Wrapper,c=n(10).WebsiteSignalHandler,l=n(11).ReaderSignalHandler,d=n(13).LinkEventsHandler,p=n(14).SidebarHandler,f=n(15).ClipEventsHandler,m=n(12).DocumentEventsHandler;r.prototype.legacyInterface=function(){var e=function(){for(var e=0;e<arguments.length;e++){var t=arguments[e];if("object"!=typeof t&&"string"!=typeof t)return void this._handleError(new Error("Invalid argument: "+t+", it must be a string or an object."));var n="string"==typeof t?t:t.event,r="string"==typeof t?null:t.data;if(!this.hasOwnProperty(n))return void this._handleError(new Error("Unknown action: "+n+", please use this library according to the reference."));this[n](r)}}.bind(this);null!==window._tracq&&void 0!==window._tracq&&void 0!==window._tracq.length&&e.apply(null,window._tracq),window._tracq={push:e}},r.defaultWebConfiguration=function(){var e=n(16);return e},t.Tracker=r},function(e,t){Function.prototype.bind||(Function.prototype.bind=function(e){if("function"!=typeof this)throw new TypeError("Function.prototype.bind - what is trying to be bound is not callable");var t=Array.prototype.slice.call(arguments,1),n=this,r=function(){},o=function(){return n.apply(this instanceof r?this:e,t.concat(Array.prototype.slice.call(arguments)))};return this.prototype&&(r.prototype=this.prototype),o.prototype=new r,o})},function(e,t){function n(e){return"function"==typeof e&&l.test(e)}function r(e,t,n){var r=p(e);if(t&&r)if(Array.prototype.forEach)for(var o=-1,i=e.length,a="object"==typeof n?n:e;++o<i&&t.call(a,e[o],o,e)!==!1;);else Array.prototype.forEach.call(e,t,n);return e}function o(e,t,n){var r=f(e);if(t&&r){var o="object"==typeof n?n:e;for(var i in e)if(e.hasOwnProperty(i)&&t.call(o,e[i],i,e)===!1)break}return e}function i(e,t){return o(t,function(t,n){e[n]=t}),e}function a(e){if(f(e)&&arguments.length>1)for(var t=1;t<arguments.length;t++)i(e,arguments[t]);return e}var s=Object.prototype.toString,u=s.call([]),c=String(s);c=c.replace(/[.*+?^${}()|[\]\\]/g,"\\$&"),c=c.replace(/toString| for [^\]]+/g,".*?");var l=new RegExp("^"+c+"$"),d=n(d=Array.isArray)&&d,p=d||function(e){return e&&"object"==typeof e&&"number"==typeof e.length&&s.call(e)===u||!1},f=function(e){return e&&"object"==typeof e&&!p(e)};e.exports.isObject=f,e.exports.isArray=p,e.exports.forEach=r,e.exports.forOwn=o,e.exports.extend=a},function(e,t,n){function r(e){return function(t){if(c.isArray(t)){var n=!0;return c.forEach(t,function(t){return n=n&&s(e,t)}),n}return!1}}function o(e){return/^\?(\w+)$/.test(e)}function i(e,t){var n=/^[\?]?(\w+)$/.exec(t);return n&&n[1]?e[n[1]]:void 0}function a(e,t){switch(e){case"array":return c.isArray(t);case"null":case"undefined":return null===t||void 0===t;case"arrayOfNumbers":return p(t);default:return typeof t===e}}function s(e,t,n){var r;return o(n)&&a("null",t)?!0:a("string",e)?a(e,t):"function"==typeof e?!!e(t):c.isArray(e)?(r=!1,c.forEach(e,function(e,n){return r=r||e===t,!r}),r):c.isObject(e)&&c.isObject(t)?(r=!0,c.forOwn(e,function(e,n){var o=i(t,n);return r=r&&s(e,o,n)}),r):!1}function u(){}var c=n(3),l=n(5),d=n(6),p=r("number");u.prototype.validate=function(e,t){var n=c.extend({},l,d);if(n.hasOwnProperty(e)){var r=i(n,e);if(!s(r,t,e))return{action:e,expect:r,got:t}}},e.exports.RequestValidator=u},function(e,t){e.exports={webpageLoad:"null",streamScrolling:{index:"number"},documentShare:{revisionId:"string",publicationId:"string",publicationName:"string",ownerUsername:"string",service:"string"},documentDownload:{anonymous:"boolean",revisionId:"string",publicationId:"string",publicationName:"string",ownerUsername:"string"},streamDocumentLoad:{revisionId:"string",publicationId:"string",publicationName:"string",ownerUsername:"string","?section":"string","?adpageId":"string",pageNumber:"number","?streamOrigin":"array",streamRanking:"number"},streamDocumentClick:{revisionId:"string",publicationId:"string",publicationName:"string",ownerUsername:"string","?adpageId":"string","?adpageToken":"string","?streamOrigin":"array",streamRanking:"number","?clickCoordinates":"string"},infoboxLoad:{infoboxId:"string","?streamOrigin":"array",streamRanking:"number"},infoboxClick:{infoboxId:"string",link:"string","?streamOrigin":"array",streamRanking:"number","?clickCoordinates":"string"},curatedLoad:{source:"string",link:"string",ranking:"number"},curatedClick:{source:"string",link:"string",ranking:"number"},embedLoad:{revisionId:"string",publicationId:"string",publicationName:"string",ownerUsername:"string",embedId:"string"},embedClick:{revisionId:"string",publicationId:"string",publicationName:"string",ownerUsername:"string",embedId:"string"},streamAdRequest:{adProvider:"string",placement:"string","?streamOrigin":"array",ranking:"number"},streamAdInserted:{adProvider:"string",placement:"string","?streamOrigin":"array",ranking:"number",timespan:"number"},streamAdNotAvailable:{adProvider:"string",placement:"string","?streamOrigin":"array",ranking:"number",timespan:"number"},streamAdImpression:{adProvider:"string",placement:"string","?streamOrigin":"array",ranking:"number"}}},function(e,t){e.exports={documentLoad:{revisionId:"string",publicationId:"string",publicationName:"string",ownerUsername:"string",pages:"arrayOfNumbers",pageNumber:"number",isFullscreen:"boolean",isEmbed:"boolean","?embedId":"string","?adpageId":"string","?adpageToken":"string","?streamOrigin":"array","?streamRanking":"number"},documentUnLoad:"null",userInteracted:"null",pageChange:{pages:"arrayOfNumbers",pageNumber:"number"},zoom:"null",resize:{displaySize:"string",isFullscreen:"boolean"},linkClick:{url:"string",pageNumber:"number",linkPosition:"string"},watermarkClick:{url:"string"},ctaLoad:{type:"string",pageNumber:"number"},ctaClick:{type:"string",pageNumber:"number"},adpageLoad:{revisionId:"string",publicationId:"string",ownerUsername:"string",publicationName:"string",pageNumber:"number",adpageId:"string",absolutePosition:"number",relativePosition:"number"},adpageClick:{revisionId:"string",publicationId:"string",ownerUsername:"string",publicationName:"string",adpageId:"string",adpageToken:"string",absolutePosition:"number",relativePosition:"number"},relatedLoad:{revisionId:"string",publicationId:"string",ownerUsername:"string",publicationName:"string",pageNumber:"number",absolutePosition:"number",relativePosition:"number"},relatedClick:{revisionId:"string",publicationId:"string",ownerUsername:"string",publicationName:"string",absolutePosition:"number",relativePosition:"number"},moreContentDocumentShow:{revisionId:"string",publicationId:"string",ownerUsername:"string",publicationName:"string",pageNumber:"number",streamOrigin:"array",streamRanking:"number"},moreContentDocumentClick:{revisionId:"string",publicationId:"string",ownerUsername:"string",publicationName:"string",streamOrigin:"array",streamRanking:"number"},archiveLoad:{revisionId:"string",publicationId:"string",ownerUsername:"string",publicationName:"string",pageNumber:"number",absolutePosition:"number",relativePosition:"number"},archiveClick:{revisionId:"string",publicationId:"string",ownerUsername:"string",publicationName:"string",absolutePosition:"number",relativePosition:"number"},clippingLayer:{action:"string"},clippingComment:{onPage:"number",action:"string",clippingId:"string",commentId:"number","?url":"string",creator:"string"},clippingAction:{clippingId:"string",action:"string",onPage:"number",creator:"string","?url":"string","?page":"number","?service":"string","?videoid":"string","?opened_in_reader":"boolean"}}},function(e,t,n){function r(e,t,n,r){this.wrapper=e,this.post=t,this.setTimeout=n,this.clearTimeout=r,this._postBatchedTimeoutId=void 0,this._batchedQueue=[]}var o=n(3),i=20,a=2e3;r.prototype._queueLength=function(){return this._batchedQueue.length},r.prototype._addToQueue=function(e){var t=e.type;this._batchedQueue.push(o.extend(e,{version:"1.0.0",type:t}))},r.prototype._startPostTimer=function(){void 0===this._postBatchedTimeoutId&&(this._postBatchedTimeoutId=this.setTimeout(function(){this._postBatchedTimeoutId=void 0,this._postAllQueued()}.bind(this),a))},r.prototype._postAllQueued=function(){if(0!==this._queueLength()){void 0!==this._postBatchedTimeoutId&&(this.clearTimeout(this._postBatchedTimeoutId),this._postBatchedTimeoutId=void 0);var e=this.wrapper.getSignalWrapper("monitor");e.data=this._batchedQueue,this._batchedQueue=[],this.post(e)}},r.prototype.monitor=function(e){this._addToQueue(e),this._postAllQueued()},r.prototype.monitorBatched=function(e){this._addToQueue(e),this._queueLength()>=i?this._postAllQueued():this._startPostTimer()},r.prototype.flush=function(){this._postAllQueued()},r.prototype.handlers=function(){return{monitor:this.monitor,monitorBatched:this.monitorBatched,flush:this.flush}},e.exports.MonitorHandler=r},function(e,t){function n(e,t){this.wrapper=e,this.post=t}n.prototype.ignore=function(e){var t=this.wrapper.getSignalWrapper("ignore");t.data=e,this.post(t)},n.prototype.flush=function(){},n.prototype.handlers=function(){return{ignore:this.ignore,flush:this.flush}},e.exports.IgnoreHandler=n},function(e,t){function n(e){this.origin=e}n.prototype.getSignalWrapper=function(e){return{version:"2.2.0",origin:this.origin,type:e}},e.exports.Wrapper=n},function(e,t,n){function r(e,t,n,r,o){this.sectionsDocImpression={},this.wrapper=e,this.post=t,this.environment=n,this.setTimeout=r,this.clearTimeout=o}var o=n(3),i=20,a=1500;r.prototype.getSignalData=function(e){return{version:"2.2.2",username:e?null:this.environment.getUsername(),ui_language:this.environment.getLanguage(),location:this.environment.getLocation(),referrer:this.environment.getReferrer(),contexts:[]}},r.prototype.executePingbackIfPlatformHasChanged=function(){if(this.signal){var e=!1,t=this.getSignalData();o.forEach(["version","username","location","referrer"],function(n){e=e||this.signal.data[n]!==t[n]},this),e&&this.executePingback()}},r.prototype.isContextChanged=function(){var e=this.signal.data.contexts.length;return 0===e?!0:this.signal.data.contexts[e-1].browser_size!==this.environment.getBrowserSize()?!0:!1},r.prototype.updateSignal=function(e){if(this.executePingbackIfPlatformHasChanged(),this.signal=this.signal||this.wrapper.getSignalWrapper("website"),this.signal.data=this.signal.data||this.getSignalData(),this.isContextChanged()&&this.signal.data.contexts.push({browser_size:this.environment.getBrowserSize(),events:[]}),e){var t=this.signal.data.contexts.length;this.signal.data.contexts[t-1].events.push(e)}},r.prototype.timeoutPingback=function(){this.timeoutId&&(this.clearTimeout(this.timeoutId),this.timeoutId=void 0);for(var e=0,t=this.signal.data.contexts.length-1;t>=0;t--)e+=this.signal.data.contexts[t].events.length;e>=i?this.executePingback():this.timeoutId=this.setTimeout(this.executePingback.bind(this),a)},r.prototype.executePingback=function(){this.timeoutId&&(this.clearTimeout(this.timeoutId),this.timeoutId=void 0),this.signal&&(this.post(this.signal),this.signal=void 0)},r.prototype.generateAndExecuteAnonymousPingback=function(e){var t=this.wrapper.getSignalWrapper("website");t.data=this.getSignalData(!0),t.data.contexts.push({browser_size:this.environment.getBrowserSize(),events:[e]}),this.post(t)},r.prototype.webpageLoadHandler=function(){this.sectionsDocImpression={};var e={type:"webpage_load"};this.updateSignal(e),this.timeoutPingback()},r.prototype.streamScrollingHandler=function(e){var t={type:"webpage_continuation",index:e.index};this.updateSignal(t),this.timeoutPingback()},r.prototype.documentShareHandler=function(e){var t={type:"document_share",doc_id:e.revisionId+"-"+e.publicationId,doc_creator:e.ownerUsername.toLowerCase(),doc_name:e.publicationName.toLowerCase(),service:e.service};this.updateSignal(t),this.executePingback()},r.prototype.documentDownloadHandler=function(e){var t={type:"document_download",doc_id:e.revisionId+"-"+e.publicationId,doc_creator:e.ownerUsername.toLowerCase(),doc_name:e.publicationName.toLowerCase()};e.anonymous&&this.environment.username?this.generateAndExecuteAnonymousPingback(t):(this.updateSignal(t),this.timeoutPingback())},r.prototype.getDocImpForSection=function(e){return this.sectionsDocImpression[e]=this.sectionsDocImpression[e]||{},this.sectionsDocImpression[e]},r.prototype.streamDocumentLoadHandler=function(e){if(e.section){var t=this.getDocImpForSection(e.section),n=e.publicationId;if(t[n])return;t[n]=!0}var r={type:"document_impression",doc_id:e.revisionId+"-"+e.publicationId,doc_creator:e.ownerUsername.toLowerCase(),doc_name:e.publicationName.toLowerCase(),ad_id:e.adpageId||null,page:e.pageNumber,stream_origin:e.streamOrigin||null,stream_ranking:e.streamRanking};this.updateSignal(r),this.timeoutPingback()},r.prototype.streamDocumentClickHandler=function(e){var t={type:"document_click",doc_id:e.revisionId+"-"+e.publicationId,doc_creator:e.ownerUsername.toLowerCase(),doc_name:e.publicationName.toLowerCase(),ad_id:e.adpageId||null,ad_token:e.adpageToken||null,stream_origin:e.streamOrigin||null,stream_ranking:e.streamRanking,click_coordinates:e.clickCoordinates||null};this.updateSignal(t),this.executePingback()},r.prototype.infoboxLoadHandler=function(e){var t={type:"infobox_impression",id:e.infoboxId,stream_origin:e.streamOrigin||null,stream_ranking:e.streamRanking};this.updateSignal(t),this.timeoutPingback()},r.prototype.infoboxClickHandler=function(e){var t={type:"infobox_click",id:e.infoboxId,link:e.link,stream_origin:e.streamOrigin||null,stream_ranking:e.streamRanking,click_coordinates:e.clickCoordinates||null};this.updateSignal(t),this.executePingback()},r.prototype.curatedLoadHandler=function(e){var t={type:"curated_impression",source:e.source,link:e.link,ranking:e.ranking};this.updateSignal(t),this.timeoutPingback()},r.prototype.curatedClickHandler=function(e){var t={type:"curated_click",source:e.source,link:e.link,ranking:e.ranking};this.updateSignal(t),this.executePingback()},r.prototype.embedLoadHandler=function(e){var t={type:"embed_impression",doc_id:e.revisionId+"-"+e.publicationId,doc_creator:e.ownerUsername.toLowerCase(),doc_name:e.publicationName.toLowerCase(),embed_id:e.embedId};this.updateSignal(t),this.executePingback()},r.prototype.embedClickHandler=function(e){var t={type:"embed_click",doc_id:e.revisionId+"-"+e.publicationId,doc_creator:e.ownerUsername.toLowerCase(),doc_name:e.publicationName.toLowerCase(),embed_id:e.embedId};this.updateSignal(t),this.executePingback()},r.prototype.streamAdRequestHandler=function(e){var t={type:"stream_ad_request",ad_provider:e.adProvider,placement:e.placement,stream_origin:e.streamOrigin,ranking:e.ranking};this.updateSignal(t),this.timeoutPingback()},r.prototype.streamAdInsertedHandler=function(e){var t={type:"stream_ad_inserted",ad_provider:e.adProvider,placement:e.placement,stream_origin:e.streamOrigin,ranking:e.ranking,timespan:e.timespan};this.updateSignal(t),this.timeoutPingback()},r.prototype.streamAdNotAvailableHandler=function(e){var t={type:"stream_ad_not_available",ad_provider:e.adProvider,placement:e.placement,stream_origin:e.streamOrigin,ranking:e.ranking,timespan:e.timespan};this.updateSignal(t),this.timeoutPingback()},r.prototype.streamAdImpressionHandler=function(e){var t={type:"stream_ad_impression",ad_provider:e.adProvider,placement:e.placement,stream_origin:e.streamOrigin,ranking:e.ranking};this.updateSignal(t),this.timeoutPingback()},r.prototype.flushHandler=function(e){this.executePingback()},r.prototype.handlers=function(){return{webpageLoad:this.webpageLoadHandler,streamScrolling:this.streamScrollingHandler,documentShare:this.documentShareHandler,documentDownload:this.documentDownloadHandler,streamDocumentLoad:this.streamDocumentLoadHandler,streamDocumentClick:this.streamDocumentClickHandler,infoboxLoad:this.infoboxLoadHandler,infoboxClick:this.infoboxClickHandler,curatedLoad:this.curatedLoadHandler,curatedClick:this.curatedClickHandler,embedLoad:this.embedLoadHandler,embedClick:this.embedClickHandler,streamAdRequest:this.streamAdRequestHandler,streamAdInserted:this.streamAdInsertedHandler,streamAdNotAvailable:this.streamAdNotAvailableHandler,streamAdImpression:this.streamAdImpressionHandler,flush:this.flushHandler}},e.exports.WebsiteSignalHandler=r},function(e,t,n){function r(){var e=[];return e.push("diic:"+c),e.push("dcic:"+l),e.push("dmo:"+d),e.push(n(12).getDebugString()),"("+e.join()+")"}function o(e){return{version:"1.3.3",username:e.getUsername(),ui_language:e.getLanguage(),location:e.getLocation(),referrer:e.getReferrer(),source:e.getSource(),contexts:[]}}function i(e,t){var n=e.data.contexts.length;if(0===n)return!0;var r=!1,o=["doc_id","doc_creator","doc_name","ad_id","ad_token","embed_id","display_size","stream_origin","stream_ranking"];return s.forEach(o,function(o){r=r||e.data.contexts[n-1][o]!==t[o]}),r=r||e.data.contexts[n-1].pages.toString()!==t.pages.toString()}function a(e,t,n,r,o,i,a){this.handleError=e,this.wrapper=t,this.post=n,this.environment=r,this.setTimeout=o,this.clearTimeout=i,this.nagleTimeout=a}var s=n(3),u=20,c=0,l=0,d=null;a.prototype.initializeModel=function(e){c++,this.model={doc_id:e.revisionId+"-"+e.publicationId,doc_creator:e.ownerUsername.toLowerCase(),doc_name:e.publicationName.toLowerCase(),pages:e.pages,pageNumber:e.pageNumber,ad_id:e.adpageId||null,ad_token:e.adpageToken||null,is_embed:e.isEmbed,embed_id:e.embedId||null,display_size:e.displaySize||this.environment.getBrowserSize(),is_fullscreen:e.isFullscreen,stream_origin:e.streamOrigin||null,stream_ranking:e.streamRanking,user_interacted:!1},d=this.model},a.prototype.clearModel=function(){l++,this.executePingback(),this.model=void 0},a.prototype.updateModel=function(e){this.model?(this.model.pages=e.pages||this.model.pages,this.model.display_size=e.displaySize||this.model.display_size,this.model.is_fullscreen=void 0!==e.isFullscreen?e.isFullscreen:this.model.is_fullscreen,this.model.user_interacted=e.userInteracted||this.model.user_interacted):this.handleError(new Error("reader pingback handler - update model - no model."+r()))},a.prototype.executePingbackIfPlatformHasChanged=function(){if(this.signal){var e=!1,t=o(this.environment);s.forEach(["version","username","location","referrer","source"],function(n){e=e||this.signal.data[n]!==t[n]},this),e&&this.executePingback()}},a.prototype.viewportHasUserAttention=function(){return this.model?!this.model.is_embed||this.model.is_fullscreen||this.model.user_interacted:void this.handleError(new Error("reader pingback handler - viewportHasUserAttention - no model."+r()))},a.prototype.updateSignal=function(e){if(!this.model)return void this.handleError(new Error("reader pingback handler - update signal - no model."+r()));if(this.executePingbackIfPlatformHasChanged(),this.signal=this.signal||this.wrapper.getSignalWrapper("reader"),this.signal.data=this.signal.data||o(this.environment),i(this.signal,this.model)&&this.signal.data.contexts.push({doc_id:this.model.doc_id,doc_creator:this.model.doc_creator,doc_name:this.model.doc_name,pages:this.model.pages,ad_id:this.model.ad_id,ad_token:this.model.ad_token,embed_id:this.model.embed_id,display_size:this.model.display_size,display_state:null,stream_origin:this.model.stream_origin,stream_ranking:this.model.stream_ranking,events:[]}),e){var t=this.signal.data.contexts.length;t>0?this.signal.data.contexts[t-1].events.push(e):this.handleError(new Error("reader pingback handler context length invalid."))}},a.prototype.getCurrentPages=function(){return this.model?this.model.pages:void this.handleError(new Error("reader pingback handler - get current pages - no model."+r()))},a.prototype.timeoutPingback=function(){if(this.signal){this.timeoutId&&(this.clearTimeout(this.timeoutId),this.timeoutId=void 0);for(var e=0,t=this.signal.data.contexts.length-1;t>=0;t--)e+=this.signal.data.contexts[t].events.length;e>=u?this.executePingback():this.timeoutId=this.setTimeout(this.executePingback.bind(this),this.nagleTimeout)}},a.prototype.executePingback=function(){this.timeoutId&&(this.clearTimeout(this.timeoutId),this.timeoutId=void 0),this.signal&&(this.post(this.signal),this.signal=void 0)},e.exports.ReaderSignalHandler=a},function(e,t){function n(e,t,n){this.readerSignalHandler=e,this.setTimeout=t,this.clearTimeout=n,this.eventsAfterDocumentRead=[],this.documentReadTimeoutId=void 0,this.documentReadTriggered=!1,this.pageReadLastPages=null,this.pageReadStartTime=null,this.pageReadLastEndTime=null,this.delays=null,this.pageReadTimeTimeoutId=void 0,this.idleTimeoutId=void 0}var r=2e3,o=6e5,i=[2e3,3e3,4e3,6e3,8e3,12e3],a=0;n.prototype.setUpPageReadTimers=function(){this.delays=i.slice(0),this.pageReadStartTime=this.pageReadLastEndTime=(new Date).getTime(),this.startPageReadTimer()},n.prototype.startPageReadTimer=function(){this.pageReadTimeTimeoutId=this.setTimeout(function(){this.pageReadTimeTimeoutId=void 0,this.trackPageReadTime(),this.startPageReadTimer()}.bind(this),this.getNextPageReadTimeout())},n.prototype.startIdleTimer=function(){this.idleTimeoutId=this.setTimeout(function(){this.idleTimeoutId=void 0,void 0!==this.pageReadTimeTimeoutId&&(this.clearTimeout(this.pageReadTimeTimeoutId),this.pageReadTimeTimeoutId=void 0,this.trackPageReadTime())}.bind(this),o)},n.prototype.resetIdleTimer=function(){void 0!==this.idleTimeoutId?(this.clearTimeout(this.idleTimeoutId),this.idleTimeoutId=void 0):this.readerSignalHandler.viewportHasUserAttention()&&(this.pageReadLastEndTime=(new Date).getTime(),this.delays?this.startPageReadTimer():this.setUpPageReadTimers()),this.startIdleTimer()},n.prototype.clearTimers=function(){void 0!==this.idleTimeoutId&&(this.clearTimeout(this.idleTimeoutId),this.idleTimeoutId=void 0),void 0!==this.pageReadTimeTimeoutId&&(this.clearTimeout(this.pageReadTimeTimeoutId),this.pageReadTimeTimeoutId=void 0,this.trackPageReadTime()),void 0!==this.documentReadTimeoutId&&(this.clearTimeout(this.documentReadTimeoutId),this.documentReadTimeoutId=void 0)},n.prototype.getNextPageReadTimeout=function(){var e=this.delays.shift();if(isNaN(e)){var t=i.length;return i[t-1]+.2*((new Date).getTime()-this.pageReadStartTime)}return e},n.prototype.trackDocumentImpression=function(e){var t={type:"document_impression"};this.readerSignalHandler.updateSignal(t),this.readerSignalHandler.timeoutPingback()},n.prototype.trackDocumentRead=function(){for(;this.eventsAfterDocumentRead.length>0;)this.readerSignalHandler.updateSignal(this.eventsAfterDocumentRead.shift());var e={type:"document_read"};this.readerSignalHandler.updateSignal(e),this.readerSignalHandler.executePingback(),this.documentReadTriggered=!0,this.documentReadTimeoutId=void 0},n.prototype.trackPageImpression=function(e){for(var t in e.pages){var n={type:"page_impression",page:e.pages[t]};this.readerSignalHandler.updateSignal(n)}this.readerSignalHandler.timeoutPingback()},n.prototype.maybeTrackPageRead=function(){var e=this.readerSignalHandler.getCurrentPages(),t=JSON.stringify(e);if(this.pageReadLastPages!==t){this.pageReadLastPages=t;for(var n in e){var r={type:"page_read",page:e[n]};this.documentReadTriggered?this.readerSignalHandler.updateSignal(r):this.eventsAfterDocumentRead.push(r)}this.readerSignalHandler.timeoutPingback()}},n.prototype.trackPageReadTime=function(){var e=(new Date).getTime(),t=this.readerSignalHandler.getCurrentPages(),n=Math.floor((e-this.pageReadLastEndTime)/t.length);if(!(0>=n)){for(var r in t){var o={type:"page_read_time",time_increment:n,page:t[r]};this.documentReadTriggered?this.readerSignalHandler.updateSignal(o):this.eventsAfterDocumentRead.push(o)}this.pageReadLastEndTime=e,this.readerSignalHandler.timeoutPingback()}},n.prototype.maybeStartDocumentReadTimer=function(){void 0!==this.documentReadTimeoutId||this.documentReadTriggered||(this.documentReadTimeoutId=this.setTimeout(function(){this.trackDocumentRead()}.bind(this),r))},n.prototype.documentLoad=function(e){a++,this.clearTimers(),this.eventsAfterDocumentRead=[],this.readerSignalHandler.initializeModel(e),this.trackDocumentImpression(e),this.trackPageImpression(e),this.readerSignalHandler.viewportHasUserAttention()&&(this.maybeStartDocumentReadTimer(),this.maybeTrackPageRead(),this.setUpPageReadTimers()),this.startIdleTimer()},n.prototype.documentUnLoad=function(e){this.flush(),this.readerSignalHandler.clearModel()},n.prototype.userInteracted=function(){this.readerSignalHandler.updateModel({userInteracted:!0}),this.resetIdleTimer(),this.readerSignalHandler.viewportHasUserAttention()&&(this.maybeStartDocumentReadTimer(),this.maybeTrackPageRead(),this.setUpPageReadTimers()),void 0!==this.documentReadTimeoutId&&(this.clearTimeout(this.documentReadTimeoutId),this.documentReadTimeoutId=void 0,this.trackDocumentRead())},n.prototype.pageChange=function(e){this.resetIdleTimer(),void 0!==this.documentReadTimeoutId&&(this.clearTimeout(this.documentReadTimeoutId),this.documentReadTimeoutId=void 0,this.trackDocumentRead()),void 0!==this.pageReadTimeTimeoutId&&(this.clearTimeout(this.pageReadTimeTimeoutId),this.pageReadTimeTimeoutId=void 0,this.trackPageReadTime()),this.readerSignalHandler.updateModel(e),this.trackPageImpression(e),this.readerSignalHandler.viewportHasUserAttention()&&(this.maybeTrackPageRead(),this.setUpPageReadTimers())},n.prototype.zoom=function(e){this.resetIdleTimer()},n.prototype.resize=function(e){this.resetIdleTimer(),this.readerSignalHandler.updateModel(e),this.readerSignalHandler.viewportHasUserAttention()?(this.maybeStartDocumentReadTimer(),void 0===this.pageReadTimeTimeoutId&&this.setUpPageReadTimers(),this.maybeTrackPageRead()):(this.documentReadTimeoutId&&(this.clearTimeout(this.documentReadTimeoutId),this.documentReadTimeoutId=void 0),this.pageReadTimeTimeoutId&&(this.clearTimeout(this.pageReadTimeTimeoutId),this.pageReadTimeTimeoutId=void 0,this.trackPageReadTime()))},n.prototype.flush=function(e){this.clearTimers(),this.eventsAfterDocumentRead=[],this.readerSignalHandler.executePingback()},n.prototype.handlers=function(){return{documentLoad:this.documentLoad,documentUnLoad:this.documentUnLoad,userInteracted:this.userInteracted,pageChange:this.pageChange,zoom:this.zoom,resize:this.resize,flush:this.flush}},e.exports.DocumentEventsHandler=n,e.exports.getDebugString=function(){return"ddic:"+a}},function(e,t){function n(e){this.readerSignalHandler=e}n.prototype.linkClick=function(e){var t={type:"link_click",page:e.pageNumber,url:e.url,link_position:e.linkPosition
};this.readerSignalHandler.updateSignal(t),this.readerSignalHandler.executePingback()},n.prototype.watermarkClick=function(e){var t={type:"watermark_click",url:e.url};this.readerSignalHandler.updateSignal(t),this.readerSignalHandler.executePingback()},n.prototype.ctaLoad=function(e){var t={type:"ad_cta_impression",cta_type:e.type,page:e.pageNumber};this.readerSignalHandler.updateSignal(t),this.readerSignalHandler.timeoutPingback()},n.prototype.ctaClick=function(e){var t={type:"ad_cta_click",cta_type:e.type,page:e.pageNumber};this.readerSignalHandler.updateSignal(t),this.readerSignalHandler.executePingback()},n.prototype.flush=function(e){},n.prototype.handlers=function(){return{linkClick:this.linkClick,watermarkClick:this.watermarkClick,ctaLoad:this.ctaLoad,ctaClick:this.ctaClick,flush:this.flush}},e.exports.LinkEventsHandler=n},function(e,t){function n(e){this.readerSignalHandler=e}n.prototype.adpageLoad=function(e){var t={type:"sidebar_ad_impression",doc_id:e.revisionId+"-"+e.publicationId,doc_creator:e.ownerUsername.toLowerCase(),doc_name:e.publicationName.toLowerCase(),page:e.pageNumber,ad_id:e.adpageId,absolute_position:e.absolutePosition,relative_position:e.relativePosition};this.readerSignalHandler.updateSignal(t),this.readerSignalHandler.timeoutPingback()},n.prototype.adpageClick=function(e){var t={type:"sidebar_ad_click",doc_id:e.revisionId+"-"+e.publicationId,doc_creator:e.ownerUsername.toLowerCase(),doc_name:e.publicationName.toLowerCase(),ad_id:e.adpageId,token:e.adpageToken,absolute_position:e.absolutePosition,relative_position:e.relativePosition};this.readerSignalHandler.updateSignal(t),this.readerSignalHandler.executePingback()},n.prototype.relatedLoad=function(e){var t={type:"sidebar_related_impression",doc_id:e.revisionId+"-"+e.publicationId,doc_creator:e.ownerUsername.toLowerCase(),doc_name:e.publicationName.toLowerCase(),page:e.pageNumber,absolute_position:e.absolutePosition,relative_position:e.relativePosition};this.readerSignalHandler.updateSignal(t),this.readerSignalHandler.timeoutPingback()},n.prototype.relatedClick=function(e){var t={type:"sidebar_related_click",doc_id:e.revisionId+"-"+e.publicationId,doc_creator:e.ownerUsername.toLowerCase(),doc_name:e.publicationName.toLowerCase(),absolute_position:e.absolutePosition,relative_position:e.relativePosition};this.readerSignalHandler.updateSignal(t),this.readerSignalHandler.executePingback()},n.prototype.moreContentDocumentShow=function(e){var t={type:"more_content_document_impression",doc_id:e.revisionId+"-"+e.publicationId,doc_creator:e.ownerUsername.toLowerCase(),doc_name:e.publicationName.toLowerCase(),page:e.pageNumber,stream_origin:e.streamOrigin,stream_ranking:e.streamRanking};this.readerSignalHandler.updateSignal(t),this.readerSignalHandler.timeoutPingback()},n.prototype.moreContentDocumentClick=function(e){var t={type:"more_content_document_click",doc_id:e.revisionId+"-"+e.publicationId,doc_creator:e.ownerUsername.toLowerCase(),doc_name:e.publicationName.toLowerCase(),stream_origin:e.streamOrigin,stream_ranking:e.streamRanking};this.readerSignalHandler.updateSignal(t),this.readerSignalHandler.executePingback()},n.prototype.archiveLoad=function(e){var t={type:"sidebar_archive_impression",doc_id:e.revisionId+"-"+e.publicationId,doc_creator:e.ownerUsername.toLowerCase(),doc_name:e.publicationName.toLowerCase(),page:e.pageNumber,absolute_position:e.absolutePosition,relative_position:e.relativePosition};this.readerSignalHandler.updateSignal(t),this.readerSignalHandler.timeoutPingback()},n.prototype.archiveClick=function(e){var t={type:"sidebar_archive_click",doc_id:e.revisionId+"-"+e.publicationId,doc_creator:e.ownerUsername.toLowerCase(),doc_name:e.publicationName.toLowerCase(),absolute_position:e.absolutePosition,relative_position:e.relativePosition};this.readerSignalHandler.updateSignal(t),this.readerSignalHandler.executePingback()},n.prototype.flush=function(e){},n.prototype.handlers=function(){return{adpageLoad:this.adpageLoad,adpageClick:this.adpageClick,relatedLoad:this.relatedLoad,relatedClick:this.relatedClick,archiveLoad:this.archiveLoad,archiveClick:this.archiveClick,moreContentDocumentShow:this.moreContentDocumentShow,moreContentDocumentClick:this.moreContentDocumentClick,flush:this.flush}},e.exports.SidebarHandler=n},function(e,t){function n(e){this.readerSignalHandler=e}n.prototype.clippingLayer=function(e){var t={type:"clipping_layer",action:e.action};this.readerSignalHandler.updateSignal(t),this.readerSignalHandler.timeoutPingback()},n.prototype.clippingAction=function(e){var t={type:"clipping_action",clippingId:e.clippingId,action:e.action,on_page:e.onPage,creator:e.creator,url:e.url,page:e.page,service:e.service,videoid:e.videoid,opened_in_reader:e.opened_in_reader};this.readerSignalHandler.updateSignal(t),this.readerSignalHandler.timeoutPingback()},n.prototype.clippingComment=function(e){var t={type:"clipping_comment",clippingId:e.clippingId,commentId:e.commentId,action:e.action,on_page:e.onPage,creator:e.creator,url:e.url};this.readerSignalHandler.updateSignal(t),this.readerSignalHandler.timeoutPingback()},n.prototype.flush=function(e){},n.prototype.handlers=function(){return{clippingLayer:this.clippingLayer,clippingAction:this.clippingAction,clippingComment:this.clippingComment,flush:this.flush}},e.exports.ClipEventsHandler=n},function(e,t){function n(e,t,n){var r="//"+p+e;n="string"==typeof n?n:JSON.stringify(n),window.fetch?window.fetch(r,{method:"post",headers:t,credentials:"include",body:n})["catch"](function(t){console.log("frontend-tracking POST to "+p+e+" failed:",t)}):window.jQuery&&window.jQuery.ajax&&window.jQuery.ajax({type:"POST",url:r,data:n,crossDomain:!0,headers:t,xhrFields:{withCredentials:!0}}).fail(function(t){console.log("frontend-tracking POST to "+p+e+" failed:",t)})}function r(e){var t=window.Raven;t&&t.captureException?t.captureException(e):console.error(e)}function o(){var e=/site\.model\.username=([^;$]+)/,t=document.cookie.match(e);return t&&t.length>=2?t[1]:null}function i(){return window.innerWidth?window.innerWidth:window.document.documentElement&&window.document.documentElement.clientWidth?window.document.documentElement.clientWidth:window.document.body?window.document.body.clientWidth:0}function a(){return window.innerHeight?window.innerHeight:window.document.documentElement&&window.document.documentElement.clientHeight?window.document.documentElement.clientHeight:window.document.body?window.document.body.clientHeight:0}function s(){return window.location.href.toString()}function u(){return window.document.referrer||null}function c(){return-1!==(window.document.referrer||"").indexOf("issuu.com")?"internal":"external"}function l(){return"web"}function d(){return document.documentElement.lang||null}var p;p=__issuuConfig&&__issuuConfig.production&&"issuu"===__issuuConfig.tracking.settings?"pingback.issuu.com":"pingback.tissuu.com",e.exports={post:n,handleError:r,getWidth:i,getHeight:a,getUsername:o,getLocation:s,getReferrer:u,getSource:c,getLanguage:d,getOrigin:l,setTimeout:function(e,t){return window.setTimeout(e,t)},clearTimeout:function(e){return window.clearTimeout(e)},setInterval:function(e,t){return window.setInterval(e,t)},clearInterval:function(e){return window.clearInterval(e)},nagleTimeout:1500}}])},function(e,t){var t=window.__issuuConfig;t.urlBase=function(e){return t.hosts[e]["https:"!==location.protocol?"urlBase":"secureUrlBase"]},t.secureUrlBase=function(e){return t.hosts[e].secureUrlBase},t.insecureUrlBase=function(e){return t.hosts[e].urlBase},e.exports=t},function(e,t,n){var r=n(1),o=n(5),i=n(11),a=50;t.create=function(e,t,n){function s(){var o=r.cloneDeep(t),a=r.merge({isReadOnly:!0,basePath:"call/stream/api/"},n);return a.path=f,a.path||(a.path=a.basePath+e+"/initial",a.sessionCache=!0,a.initialPageSize&&(o.pageSize=a.initialPageSize)),i.create(a).parameters(o)}function u(){var e=new o.Deferred;if(!g||h)return e.reject({more:g,busy:h}),e.promise();h=!0;var t=s().call();return t.then(function(t){h=!1,g=void 0!==t.continuation,f=t.continuation,e.resolve(t)},function(t){h=!1,e.reject(t)}),e}function c(e){function t(){u().then(function(o){o&&o.stream&&(r=r.concat(o.stream)),n.notify(o.stream),g&&(void 0===e||e())?t(r,n):n.resolve(r)},function(e){n.reject(e)})}var n=new o.Deferred,r=[];return t(),n}function l(e){if("number"!=typeof e||2>e)return u();var t=0;return c(function(){return t++,t>e})}function d(){return c()}function p(){return m}var f,m,h=!1,g=!0;return function(){t.pageSize||(t.pageSize=a),t.seed||(t.seed=Math.round(1e4*Math.random())),m=s().getKey()}(),{isThereMore:function(){return g},getPageSize:function(){return t.pageSize},getMore:l,getKey:p,getAll:d}}},function(e,t,n){"use strict";function r(e){return e&&"object"==typeof e&&"default"in e?e["default"]:e}function o(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.thousandsSeparator,r=void 0===n?"":n,o=t.precision,i=void 0===o?2:o,a=t.decimalSeparator,s=void 0===a?".":a,c=t.currencySymbol,l=void 0===c?"$":c,d=t.suffix,p=void 0===d?"USD":d,f=t.showExact,m=void 0===f?!1:f,h=t.showShort,g=void 0===h?!1:h,v=t.hideCurrency,y=void 0===v?!1:v,b=e;(isNaN(parseInt(e,10))||!e)&&(b=0);var w=i+1,x=u(""+b,w,"0"),C=x.slice(x.length-i),k=0!==parseInt(C,10),E=i&&(m||!m&&k),_=x.slice(0,x.length-i).split("").reduce(function(e,t,n,o){var i=o.length-n-1;return 0!==i&&i%3===0?""+e+t+r:""+e+t},""),I=g&&!y?l:"",S=g||y?"":" "+p;return(""+I+_+(E?s:"")+(E?C:"")).trim()+(""+S)}function i(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.thousandsSeparator,r=void 0===n?"":n,o=t.decimalSeparator,i=void 0===o?".":o,a=t.currencySymbol,s=void 0===a?"$":a,u=t.precision,c=void 0===u?2:u,l=t.suffix,d=void 0===l?"USD":l,p=String(e).split(i)[1]||"",f=0;0===c?f=c:-1!==String(e).indexOf(i)?f=c:p.length<c&&(f=c-p.length);var m=String(e).trim().replace(" "+d,"").concat(Array(f+1).join("0")).split(i).map(function(e,t){return 1===t?e.substr(0,c):e}).join(i).replace(s,"").replace(r,"").replace(i,"").trim();return parseInt(m,10)||0}function a(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=c[t.currency||"USD"]||c.USD;return o(e,{currencySymbol:n.symbol,precision:n.precision,suffix:t.currency in c?t.currency:"USD",showExact:t.showExact,showShort:t.showShort,hideCurrency:t.hideCurrency})}function s(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=c[t.currency||"USD"]||c.USD;return i(e,{currencySymbol:n.symbol,precision:n.precision,suffix:t.currency in c?t.currency:"USD"})}Object.defineProperty(t,"__esModule",{value:!0});var u=r(n(203)),c={USD:{symbol:"$",precision:2},EUR:{symbol:"€",precision:2},DKK:{symbol:"kr",precision:2},AUD:{symbol:"$",precision:2},CAD:{symbol:"$",precision:2},GBP:{symbol:"£",precision:2}};t.formatCurrency=a,t.unformatCurrency=s},function(e,t){e.exports=function(e){function t(){if(void 0!==a.distanceToBottom){var e=a.distanceToBottom;if("function"==typeof a.distanceToBottom&&(e=a.distanceToBottom()),$(document).height()-($(window).scrollTop()+$(window).height())<e)return!0}else{if(void 0===a.distanceToTop)return!0;var t=a.distanceToTop;if("function"==typeof a.distanceToTop&&(t=a.distanceToTop()),$(window).scrollTop()>t)return!0}return!1}function n(e){t()?a.onFire&&a.onFire():a.onUnfire&&a.onUnfire()}function r(e){i!==!1&&("function"!=typeof a.checkFirst||a.checkFirst()===!1)&&n(e)}function o(){$(window).off("scroll",r),a=void 0}var i=!0,a=e;return function(){$(window).on("scroll",r)}(),{isActive:function(){return i},setActive:function(e){i=e===!1?!1:!0},destroy:o,isOnFire:t,runOnce:n}}},function(e,t,n){function r(){}var o=n(156),i=n(157),a=n(158),s=n(43),u=10;t.create=function(e){function t(){return(new Date).getTime()-b}function n(){if(!x){x=!0,s.log("ads","widget",g.trackingKey,"unfilled"),clearTimeout(y),v.adUnfilled(t());try{g.callbacks.onAdUnfilled()}catch(e){throw s.log("ads","widget","ad callback onAdUnfilled threw an error",e),e}}}function c(){s.log("ads","widget",g.trackingKey,"failed"),clearTimeout(y),v.adFailed(t());try{g.callbacks.onAdFailed()}catch(e){throw s.log("ads","widget","ad callback onAdFailed threw an error",e),e}}function l(){return w===!0||x===!0||C===!0}function d(){s.log("ads","widget",g.trackingKey,"timeout"),l()===!1&&(v.adTimeout(t()),c())}function p(){if(!C){C=!0,s.log("ads","widget",g.trackingKey,"viewable"),clearTimeout(y),v.adViewable(t());try{g.callbacks.onAdViewable()}catch(e){throw s.log("ads","widget","ad callback onAdViewable threw an error",e),e}}}function f(){if(!w){w=!0,s.log("ads","widget",g.trackingKey,"filled"),clearTimeout(y),v.adLoaded(t());try{g.callbacks.onAdFilled()}catch(e){throw s.log("ads","widget","ad callback onAdFilled threw an error",e),e}}}function m(){var e=i;e.create({rootElm:g.rootElm,config:g.adProviderConfig,callbacks:{onAdFilled:f,onAdFailed:c,onAdViewable:p,onAdUnfilled:n},targeting:g.dfpTargeting,bidders:g.bidders,bidderTimeout:g.bidderTimeout}),v.adRequested(t()),s.log("ads","widget",g.trackingKey,"requested")}function h(){b=(new Date).getTime(),y=setTimeout(d,1e3*u),m()}var g,v,y,b,w=!1,x=!1,C=!1;return function(){g=e||{},g=Object.assign({},{adProviderConfig:{},dfpTargeting:[],isProductionEnv:!0,trackingKey:"",countryCode:"unknown",callbacks:{onAdFilled:r,onAdFailed:r,onAdViewable:r,onAdUnfilled:r},bidders:[],bidderTimeout:void 0},g),v=a.create({trackingKey:g.trackingKey,isProductionEnv:g.isProductionEnv,countryCode:g.countryCode||"unknown"}),void 0!==typeof window&&o(function(e){e?v.adBlockerBlocked(t()):v.adBlockerNotBlocked(t())})}(),{show:h}}},function(e,t,n){function r(){return o?!1:($("body, .overlay-box").on("click",".follow-actions .follow",function(e){function t(){setTimeout(function(){n.removeClass("in-progress").removeClass("status-nofollow").addClass("status-follow")},1500)}e.stopPropagation(),e.preventDefault();var n=$(this).closest(".follow-actions");if(!u.isLoggedIn())return void a.broadcast(a.events.userRequestLogin);if(n.hasClass("in-progress"))return!1;var r=n.attr("data-type"),o=n.attr("data-id");n.addClass("in-progress"),"user"===r?$.when(s.toggleSubscription("publisher",o,!0)).done(t):"stack"===r&&$.when(s.toggleSubscription("stack",o,!0)).done(t)}),$("body, .overlay-box").on("click",".follow-actions .following",function(e){function t(){setTimeout(function(){n.removeClass("in-progress").removeClass("status-follow").addClass("status-nofollow")},1500)}e.stopPropagation(),e.preventDefault();var n=$(this).closest(".follow-actions");if(!u.isLoggedIn())return void a.broadcast(a.events.userRequestLogin);if(n.hasClass("in-progress"))return!1;var r=n.attr("data-type"),o=n.attr("data-id");n.addClass("in-progress"),"user"===r?$.when(s.toggleSubscription("publisher",o,!1)).done(t):"stack"===r&&$.when(s.toggleSubscription("stack",o,!1)).done(t)}),void(o=!0))}var o,i=n(14).__,a=n(4),s=n(136),u=n(13),c=n(98);t.create=function(e){e.copy={follow:i("Follow"),followed:i("Followed"),unfollow:i("Unfollow"),unfollowed:i("Unfollowed")};var t=c(e);return r(),t}},function(e,t,n){function r(){switch(m){case"ok":u(d);break;case"deleted":c(d);break;default:u()}}function o(e){function t(t){e&&e(t)}function o(){$(".js-w-deletestack-btn-confirm").one("click",function(e){e.preventDefault(),t(!0)}),$(".js-w-deletestack-btn-cancel").one("click",function(e){e.preventDefault(),t(!1)})}var i=h.create({marginClickClose:!0,content:n(102)({copy:{deleteStackHeadline:b("Are you sure?"),deleteStackPositive:b("Yes, delete it"),cancel:b("Cancel"),deleteStackParagraph:b('You are about to delete your stack "%(stackname)s". This can not be undone. People who were following it will not be able to see the stack\'s contents anymore.',{stackname:d.get("name")})}}),onShow:o,onOutAnimationFinished:r,onRemove:function(){$(".js-w-deletestack-btn-cancel, .js-w-deletestack-btn-confirm").off("click")}});h.show(i)}function i(e){m=e,p?r():h.close()}function a(){function e(e){d=x.create(e),n.removeClass("spinner").addClass("ok"),setTimeout(function(){i("ok")},600)}function t(e){l.find(".js-w-stackeditor-api-error").text(b("There was an error saving the stack: %(errormsg)s.",{errormsg:e&&e._content&&e._content.error&&e._content.error.message||"Undefined error"})),n.removeClass("spinner").addClass("error negative"),setTimeout(function(){n.removeClass("error negative").prop("disabled",!1)},1500)}var n=l.find(".js-w-stackeditor-btn-save");l.find("form").on("submit",function(r){r.preventDefault(),r.stopPropagation(),$(".js-w-stackeditor-api-error").text(""),f.runAllTests().then(function(){f.isAllValid()&&(n.addClass("spinner").prop("disabled",!0),d.set("name",$.trim(l.find('[name="name"]').val())),d.set("description",$.trim(l.find('[name="description"]').val())),d.set("secret",l.find('[name="secret"]').prop("checked")),d.get("id")?w.updateStack(d).then(e,t):w.createStack(d).then(e,t))})}),$(".js-w-stackeditor-btn-cancel").on("click",function(e){e.preventDefault(),e.stopPropagation(),i("canceled")}),$(".js-w-stackeditor-btn-delete").on("click",function(e){e.preventDefault(),e.stopPropagation(),o(function(e){e?w.deleteStack(d).then(function(){i("deleted")}):i("canceled")})})}function s(){var e=v.create(l);e.addTest({func:y.required,fields:["name"]}).addTest({func:y.length,fields:["name"],extraParams:[1,100]});var t=v.create(l);t.addTest({func:y.maxlength,fields:["description"],extraParams:[1e3]});var n=g.create(l.find(".js-w-stackeditor-name-error")),r=g.create(l.find(".js-w-stackeditor-description-error"));e.addReporter(n),t.addReporter(r),f=v.create(l),f.addValidator(e).addValidator(t)}var u,c,l,d,p,f,m,h=n(159),g=n(138),v=n(140),y=n(139).promised,b=n(14).__,w=n(160),x=n(70),C=n(101),k=function(){};t.create=function(e){d=e.model||x.create(),u=e.onFinished||k,c=e.onDeleted||k,p=e.partOfOverlaySeries===!0;var t=h.create({skin:e.overlaySkin||"default",showCloseIcon:!1,onInAnimationFinished:function(){l.find('[name="name"]').focus()},onOutAnimationFinished:r,content:C({name:d.get("name"),description:d.get("description"),secret:d.get("secret"),deletable:d.get("id"),copy:{title:b(d.get("id")?"Stack settings":"Create a new stack"),saveButton:b(d.get("id")?"Save changes":"Create stack")}})});h.show(t),l=$(h.getElement()),a(),s()}},function(e,t,n){(function(e){var r=n(12);t.create=function(t){function n(e){return void 0!==d[e]?d[e]:""}function o(e,t){d[e]=t}function i(){d.selected=!0}function a(){d.selected=!1}function s(){d.selected=!d.selected}function u(){return d.selected}function c(t,n){var o=e.take(d.documents,t);if(n)for(var i=t-o.length;0!==i--;)o.push(null);return o=e.map(o,function(e,t){var n={num:t};return e&&(n.coverUrl=r.pageLargeThumbUrl(e.publicationId,e.revisionId)),n})}function l(){return r.userStacksUrl(d.ownerUsername,d.id)}var d={},p=t||{};return function(){d.selected=p.selected||!1,d.id=p.id||p.stackId,d.name=p.name||p.title||p.stackName,d.description=p.description||"",d.docCount=p.docCount||p.items||p.numPublications||0,d.subscriberCount=p.subscriberCount||p.numSubscribers||0,d.secret=p.secret||"private"===p.access,d.created="object"==typeof p.created?p.created:new Date(p.created),d.documents=p.documents||p.topDocuments||[],d.ownerUsername=p.ownerUsername||"",d.ownerDisplayName=p.ownerDisplayName||d.ownerUsername}(),{get:n,set:o,select:i,deselect:a,toggleSelection:s,isSelected:u,getPublications:c,getUrl:l,getRawData:function(){return d}}}}).call(t,n(1))},function(e,t,n){"use strict";function r(){return"div_stream_ads_element_"+i++}var o=n(67),i=0,a={};e.exports={cols:2,allowReuse:!1,distance:window.screen.height,setAdConfiguration:function(e){a=e},_createAd:function(e){return o.create({rootElm:e.rootElm,dfpTargeting:a.dfpTargeting,adProviderConfig:{sizes:[[300,250]],network:"300x250-video"===e.type?"/30443627/Issuu_Production_Stream":"/30443627/UAT_No_Video",amazonSourceId:"3385",adRequestTimeout:1e3}})},getHeight:function(e,t){return this._createAd(e.type),300},init:function(e){e.className+=" stream2-ad-element"},update:function(e,t,n,o,i){var a=$(e);if(t.adId||(t.adId=r()),a.find(".stream2-ad-element__ad").attr("id",t.adId),!t.isRegistered){t.isRegistered=!0;var s=this;setTimeout(function(){var e=s._createAd({rootElm:a.find(".stream2-ad-element__ad")[0],type:t.type});e.show()},0)}}}},function(e,t){function n(){return window.innerHeight}function r(e){return e.getBoundingClientRect().top-document.body.getBoundingClientRect().top}function o(){return(window.pageYOffset||document.scrollTop)-(document.clientTop||0)||0}function i(e){var t=(window.pageXOffset||document.scrollLeft)-(document.clientLeft||0)||0;window.scrollTo(t,e)}function a(e){e.style.display="none"}function s(e,t){e.style.width=t.width+"px",e.style.height=t.height+"px",e.style.top=t.top+"px",e.style.left=t.left+"px",e.style.display="block"}function u(e,t,n){var r=document.createElement("div");return t.initElement(r,n),a(r),r}function c(e){return{_container:e}}function l(e,t,n,r,o){for(var i,c,l=0;l<e.items.length;l++)i=e.items[l],t[i.kind]||(t[i.kind]=[]),c=t[i.kind],i.top+i.height>=r&&i.top<o?i.element?e.resized&&s(i.element,i):(c.length||c.push(u(t._container,n,i.kind)),i.element=c.pop(),n.updateElement(i.element,i.index,i.width,i.height),i.element.parentNode||t._container.appendChild(i.element),s(i.element,i)):i.element&&(!n.allowReuse||n.allowReuse(i.kind)?(a(i.element),c.push(i.element),i.element=null):e.resized&&s(i.element,i));e.resized=!1}function d(e,t){for(var n=e.items.length-1;n>=0;n--){var r=e.items[n];r.element&&(a(r.element),t[r.kind].push(r.element),r.element=null)}}e.exports={getPositionOnPage:r,getViewportHeight:n,getScrollPosition:o,scrollTo:i,createElementPool:c,renderLayout:l,returnAllElementsToPool:d,setText:void 0!==document.getElementsByTagName("body")[0].innerText?function(e,t){e.innerText=t}:function(e,t){e.textContent=t},requestAnimationFrame:function(){var e;return e=window.requestAnimationFrame&&window.cancelAnimationFrame?function(e,t){return t&&window.cancelAnimationFrame(t),window.requestAnimationFrame(e)}:function(e,t){return t&&window.clearTimeout(t),window.setTimeout(e,1e3/60)}}()}},function(e,t,n){var r=n(4),o=n(12),i=n(23),a=n(65),s=a.formatCurrency,u=n(9);t.create=function(e){function t(){a.imgHeight=function(){var e;return e=a.content.height&&a.content.width?Math.round(a.content.height/a.content.width*a.width):0}()}var a=n(8).create(e);a.content.description=a.content.description||"",a.content.title=a.content.title||"",a.publicationUrl=function(){return o.relative.publicationUrl(a.content.ownerUsername,a.content.publicationName)}(),a.coverImage=function(){return o.pageLargeThumbUrl(a.content.publicationId,a.content.revisionId)}(),a.isGoodDescription=function(){return i.isGoodDescription(a.content.description,a.content.title)}(),a.shortDescription=function(){return i.getShortDescription(a.content.description)}(),a.content.formattedPrice=function(){return s(a.content.priceAmount,{currency:a.content.priceCurrency,showExact:!0,showShort:!1})}();var c=a.setWidth;a.setWidth=function(e){c(e),t()};var l=a.didInsertElement;return a.didInsertElement=function(){l();var e=a.getDomElement();if(e){r.broadcast(u.DOCCREATED,a.id,{publicationId:a.content.publicationId,revisionId:a.content.revisionId,ownerUsername:a.content.ownerUsername,publicationName:a.content.publicationName,pricing:a.pricing,page:1,origin:a.origin,ranking:a.flatIndex,x:e.offset().left,y:e.offset().top,height:a.getHeight(),width:a.getWidth()});var t=e.find("a img");t.one("load",function(e){r.broadcast(u.DOCLOADED,a.id),t.off("error")}),t.one("error",function(e){r.broadcast(u.DOCERROR,{publicationId:a.content.publicationId,url:a.coverImage}),t.off("load")}),t.parent("a").on("click",function(e){r.broadcast(u.DOCCLICKED,a.id,{publicationId:a.content.publicationId,url:$(e.currentTarget).attr("href"),clickX:e.clientX,clickY:e.clientY}),r.broadcast(r.events.streamDocumentClicked,{title:a.content.title,event:e})})}},t(),a}},function(e,t,n){(function(e){function r(e){var t=$(window);return{x:t.scrollLeft(),y:t.scrollTop(),width:t.width(),height:t.height()}}function o(){window.clearTimeout(i),i=window.setTimeout(t.onScroll,200)}var i,a={x:0,y:0,width:10,height:10},s=[],u=!1;t.register=function(n){return-1===e.indexOf(s,n)&&(s.push(n),u&&n.start(a)),t},t.unregister=function(n){return s=e.without(s,n),t},t.unregisterAll=function(){return s=[],t},t.onScroll=function(){var n=r();return e.forEach(s,function(e){e.onScroll(n)}),t},t.start=function(){if(!u){u=!0;var n=r();e.forEach(s,function(e){e.start(n)}),$(window).on("scroll",o)}return t},t.stop=function(){return u&&($(window).off("scroll",o),window.clearTimeout(i),e.forEach(s,function(e){e.stop()}),u=!1),t},t.reset=function(){return e.forEach(s,function(e){e.reset()}),t};var c=!1;t.init=function(){return c||(c=!0,t.register(n(190).create()),t.register(n(191).create()),t.register(n(189).create())),t}}).call(t,n(1))},function(e,t){function n(e){if(e=String(e),!(e.length>100)){var t=/^((?:\d+)?\-?\d?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(e);if(t){var n=parseFloat(t[1]),r=(t[2]||"ms").toLowerCase();switch(r){case"years":case"year":case"yrs":case"yr":case"y":return n*d;case"weeks":case"week":case"w":return n*l;case"days":case"day":case"d":return n*c;case"hours":case"hour":case"hrs":case"hr":case"h":return n*u;case"minutes":case"minute":case"mins":case"min":case"m":return n*s;case"seconds":case"second":case"secs":case"sec":case"s":return n*a;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return n;default:return void 0}}}}function r(e){var t=Math.abs(e);return t>=c?Math.round(e/c)+"d":t>=u?Math.round(e/u)+"h":t>=s?Math.round(e/s)+"m":t>=a?Math.round(e/a)+"s":e+"ms"}function o(e){var t=Math.abs(e);return t>=c?i(e,t,c,"day"):t>=u?i(e,t,u,"hour"):t>=s?i(e,t,s,"minute"):t>=a?i(e,t,a,"second"):e+" ms"}function i(e,t,n,r){var o=t>=1.5*n;return Math.round(e/n)+" "+r+(o?"s":"")}var a=1e3,s=60*a,u=60*s,c=24*u,l=7*c,d=365.25*c;e.exports=function(e,t){t=t||{};var i=typeof e;if("string"===i&&e.length>0)return n(e);if("number"===i&&isNaN(e)===!1)return t["long"]?o(e):r(e);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(e))}},function(e,t,n){"use strict";var r=Array.prototype.slice,o=n(77),i=Object.keys,a=i?function(e){return i(e)}:n(197),s=Object.keys;a.shim=function(){if(Object.keys){var e=function(){var e=Object.keys(arguments);return e&&e.length===arguments.length}(1,2);e||(Object.keys=function(e){return s(o(e)?r.call(e):e)})}else Object.keys=a;return Object.keys||a},e.exports=a},function(e,t){"use strict";var n=Object.prototype.toString;e.exports=function(e){var t=n.call(e),r="[object Arguments]"===t;return r||(r="[object Array]"!==t&&null!==e&&"object"==typeof e&&"number"==typeof e.length&&e.length>=0&&"[object Function]"===n.call(e.callee)),r}},,function(e,t,n){"use strict";var r=n(17),o=n(48),i=r.call(Function.call,String.prototype.slice);e.exports=function(e){var t,n=o.RequireObjectCoercible(this),r=o.ToString(n),a=o.ToLength(r.length);arguments.length>1&&(t=arguments[1]);var s="undefined"==typeof t?"":o.ToString(t);""===s&&(s=" ");var u=o.ToLength(e);if(a>=u)return r;for(var c=u-a;s.length<c;){var l=s.length,d=c-l;s+=l>d?i(s,0,d):s}var p=s.length>c?i(s,0,c):s;return p+r}},function(e,t,n){"use strict";var r=n(79);e.exports=function(){return"function"==typeof String.prototype.padStart?String.prototype.padStart:r}},,function(e,t,n){"use strict";function r(e){var t=e.getBoundingClientRect();return t.width*t.height>0&&t.top>=0&&t.top<=l(window).height()&&t.left>=0&&t.left<=l(window).width()}function o(e){var t=e.parent().width(),n=e.width(),r=e.position().left;return n+r>0&&t>r}function i(e,t){var n="data-untracked";e.find(t).each(function(e,t){var i=1,a=l(t),s={ownerUsername:a.data("owner-username"),pageNumber:i,publicationId:a.data("publication-id"),publicationName:a.data("publication-name"),revisionId:String(a.data("revision-id")),streamOrigin:JSON.parse(atob(a.data("origin"))),streamRanking:Number(a.data("ranking"))};r(t)&&o(a)&&(f.track({event:"streamDocumentLoad",data:s}),l('[data-publication-id="'+s.publicationId+'"]').removeAttr(n))})}function a(e,t){e.on("click",t,function(e){var t=l(e.currentTarget),n=JSON.parse(atob(t.data("origin"))),r=t.data("publication-id"),o=Number(t.data("ranking")),i=2,a=void 0,s=void 0;e.preventDefault(),f.track({event:"streamDocumentClick",data:{ownerUsername:t.data("owner-username"),publicationId:r,publicationName:t.data("publication-name"),revisionId:String(t.data("revision-id")),streamOrigin:n,streamRanking:o}}),a="tracking."+r+".",s=d.create(a,d.TYPES.LOCAL,{expires:i}),s.removeExpiredKeys(),s.set("stream-origin",n),s.set("stream-ranking",o),setTimeout(function(){window.location.href=t.children("a").attr("href")},250)})}function s(e,t,n){e.find(t).on("scroll",function(e){i(l(e.target),n)})}function u(e,t,n,r){s(e,t,n),a(e,r)}function c(e){var t=e||{},n={rootContainer:t.rootContainer||!1,scrollableContainer:t.scrollableContainer||!1,publicationWrapperImpression:t.publicationWrapperImpression||!1,publicationWrapperClick:t.publicationWrapperClick||!1};if(n.rootContainer&&n.scrollableContainer&&n.publicationWrapperImpression&&n.publicationWrapperClick){var r=l(n.rootContainer);i(r,n.publicationWrapperImpression),u(r,n.scrollableContainer,n.publicationWrapperImpression,n.publicationWrapperClick)}else p.error("Selectors for the desktop container and mobile container and publication wrapper must be provided.")}var l=n(5),d=n(7),p=n(2),f=n(147);e.exports={track:c}},function(e,t,n){"use strict";function r(e){I(e).find(".js-share-dropdown__input").val(w)}function o(e,t){var n=new h(t,{target:function(e){return e.previousElementSibling}});n.on("success",function(){I(t).text("Copied!")})}function i(e){e.preventDefault()}function a(e,t,n){var r={width:t,height:n,left:(screen.width-t)/2,top:(screen.height-n)/2},o=Object.keys(r).map(function(e){return e+"="+r[e]}).join(",");window.open(e,"_blank",o)}function s(e){var t=encodeURIComponent("I found this on issuu.com"),n=encodeURIComponent("Check this out:\n\n"+e),r="mailto:?subject="+t+"&body="+n;window.open(r,"_top")}function u(e){var t="https://www.facebook.com/sharer.php?u="+encodeURIComponent(e);a(t,575,300)}function c(e,t){var n={url:encodeURIComponent(t),text:encodeURIComponent(e),via:"issuu"},r=Object.keys(n).map(function(e){return e+"="+n[e]}).join("&"),o="https://twitter.com/intent/tweet?"+r;a(o,550,420)}function l(e,t,n){var r={url:encodeURIComponent(e),media:encodeURIComponent(t),description:encodeURIComponent(n)},o=Object.keys(r).map(function(e){return e+"="+r[e]}).join("&"),i="https://pinterest.com/pin/create/button/?"+o;a(i,750,500)}function d(){var e="",t=document.querySelector('meta[property="og:title"]').content,n=I(this).data("social");n===C?s(w):n===k?u(w):n===_?c(t,w):n===E&&l(w,e,t)}function p(e){I(e).find(b).text("Copy"),I(e).find(y).removeClass(g),I(v).on(x,i)}function f(e){I(e).find(y).addClass(g),I(v).off(x,i)}function m(e,t){I(t).on("click",".js-social__share-toggle",function(){p(t)}),I(t).on("click",".js-share-dropdown__dimmer",function(){f(t)}),I(e).find(".js-social__container").on("click","a",d),I(t).find(".js-social__container--mobile").on("click","button",d),I(t).find(b).each(o)}var h=n(85),g="share-dropdown--inactive",v="body",y=".js-share-dropdown",b=".js-share-dropdown__copy",w=window.location.href,x="keydown keyup mousewheel touchmove",C="SHARE_EMAIL",k="SHARE_FACEBOOK",E="SHARE_PINTEREST",_="SHARE_TWITTER",I=n(5);t.init=function(e){var t=e||{},n={desktopElm:t.desktopElm||!1,mobileElm:t.mobileElm||!1};n.desktopElm&&n.mobileElm&&(r(n.mobileElm),m(n.desktopElm,n.mobileElm))}},function(e,t,n){var r,o,i;!function(a,s){o=[e,n(202)],r=s,i="function"==typeof r?r.apply(t,o):r,!(void 0!==i&&(e.exports=i))}(this,function(e,t){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var o=n(t),i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e;
}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol?"symbol":typeof e},a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=function(){function e(t){r(this,e),this.resolveOptions(t),this.initSelection()}return e.prototype.resolveOptions=function(){var e=arguments.length<=0||void 0===arguments[0]?{}:arguments[0];this.action=e.action,this.emitter=e.emitter,this.target=e.target,this.text=e.text,this.trigger=e.trigger,this.selectedText=""},e.prototype.initSelection=function(){if(this.text&&this.target)throw new Error('Multiple attributes declared, use either "target" or "text"');if(this.text)this.selectFake();else{if(!this.target)throw new Error('Missing required attributes, use either "target" or "text"');this.selectTarget()}},e.prototype.selectFake=function(){var e=this,t="rtl"==document.documentElement.getAttribute("dir");this.removeFake(),this.fakeHandler=document.body.addEventListener("click",function(){return e.removeFake()}),this.fakeElem=document.createElement("textarea"),this.fakeElem.style.fontSize="12pt",this.fakeElem.style.border="0",this.fakeElem.style.padding="0",this.fakeElem.style.margin="0",this.fakeElem.style.position="fixed",this.fakeElem.style[t?"right":"left"]="-9999px",this.fakeElem.style.top=(window.pageYOffset||document.documentElement.scrollTop)+"px",this.fakeElem.setAttribute("readonly",""),this.fakeElem.value=this.text,document.body.appendChild(this.fakeElem),this.selectedText=o["default"](this.fakeElem),this.copyText()},e.prototype.removeFake=function(){this.fakeHandler&&(document.body.removeEventListener("click"),this.fakeHandler=null),this.fakeElem&&(document.body.removeChild(this.fakeElem),this.fakeElem=null)},e.prototype.selectTarget=function(){this.selectedText=o["default"](this.target),this.copyText()},e.prototype.copyText=function(){var e=void 0;try{e=document.execCommand(this.action)}catch(t){e=!1}this.handleResult(e)},e.prototype.handleResult=function(e){e?this.emitter.emit("success",{action:this.action,text:this.selectedText,trigger:this.trigger,clearSelection:this.clearSelection.bind(this)}):this.emitter.emit("error",{action:this.action,trigger:this.trigger,clearSelection:this.clearSelection.bind(this)})},e.prototype.clearSelection=function(){this.target&&this.target.blur(),window.getSelection().removeAllRanges()},e.prototype.destroy=function(){this.removeFake()},a(e,[{key:"action",set:function(){var e=arguments.length<=0||void 0===arguments[0]?"copy":arguments[0];if(this._action=e,"copy"!==this._action&&"cut"!==this._action)throw new Error('Invalid "action" value, use either "copy" or "cut"')},get:function(){return this._action}},{key:"target",set:function(e){if(void 0!==e){if(!e||"object"!==("undefined"==typeof e?"undefined":i(e))||1!==e.nodeType)throw new Error('Invalid "target" value, use a valid Element');this._target=e}},get:function(){return this._target}}]),e}();e.exports=s})},function(e,t,n){var r,o,i;!function(a,s){o=[e,n(84),n(205),n(97)],r=s,i="function"==typeof r?r.apply(t,o):r,!(void 0!==i&&(e.exports=i))}(this,function(e,t,n,r){"use strict";function o(e){return e&&e.__esModule?e:{"default":e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function u(e,t){var n="data-clipboard-"+e;if(t.hasAttribute(n))return t.getAttribute(n)}var c=o(t),l=o(n),d=o(r),p=function(e){function t(n,r){i(this,t);var o=a(this,e.call(this));return o.resolveOptions(r),o.listenClick(n),o}return s(t,e),t.prototype.resolveOptions=function(){var e=arguments.length<=0||void 0===arguments[0]?{}:arguments[0];this.action="function"==typeof e.action?e.action:this.defaultAction,this.target="function"==typeof e.target?e.target:this.defaultTarget,this.text="function"==typeof e.text?e.text:this.defaultText},t.prototype.listenClick=function(e){var t=this;this.listener=d["default"](e,"click",function(e){return t.onClick(e)})},t.prototype.onClick=function(e){var t=e.delegateTarget||e.currentTarget;this.clipboardAction&&(this.clipboardAction=null),this.clipboardAction=new c["default"]({action:this.action(t),target:this.target(t),text:this.text(t),trigger:t,emitter:this})},t.prototype.defaultAction=function(e){return u("action",e)},t.prototype.defaultTarget=function(e){var t=u("target",e);return t?document.querySelector(t):void 0},t.prototype.defaultText=function(e){return u("text",e)},t.prototype.destroy=function(){this.listener.destroy(),this.clipboardAction&&(this.clipboardAction.destroy(),this.clipboardAction=null)},t}(l["default"]);e.exports=p})},function(e,t){function n(e,t){for(;e&&e.nodeType!==r;){if("function"==typeof e.matches&&e.matches(t))return e;e=e.parentNode}}var r=9;if("undefined"!=typeof Element&&!Element.prototype.matches){var o=Element.prototype;o.matches=o.matchesSelector||o.mozMatchesSelector||o.msMatchesSelector||o.oMatchesSelector||o.webkitMatchesSelector}e.exports=n},function(e,t,n){function r(e,t,n,r,o){var a=i.apply(this,arguments);return e.addEventListener(n,a,o),{destroy:function(){e.removeEventListener(n,a,o)}}}function o(e,t,n,o,i){return"function"==typeof e.addEventListener?r.apply(null,arguments):"function"==typeof n?r.bind(null,document).apply(null,arguments):("string"==typeof e&&(e=document.querySelectorAll(e)),Array.prototype.map.call(e,function(e){return r(e,t,n,o,i)}))}function i(e,t,n,r){return function(n){n.delegateTarget=a(n.target,t),n.delegateTarget&&r.call(e,n)}}var a=n(86);e.exports=o},function(e,t,n){"use strict";var r=n(22),o=n(94),i=n(76),a=n(27),s=a("%TypeError%"),u=a("%SyntaxError%"),c=a("%Array%"),l=a("%String%"),d=a("%Object%"),p=a("%Number%"),f=a("%Symbol%",!0),m=a("%RegExp%"),h=!!f,g=n(49),v=n(52),y=n(51),b=p.MAX_SAFE_INTEGER||Math.pow(2,53)-1,w=n(50),x=n(54),C=n(53),k=n(91),E=parseInt,_=n(17),I=_.call(Function.call,c.prototype.slice),S=_.call(Function.call,l.prototype.slice),T=_.call(Function.call,m.prototype.test,/^0b[01]+$/i),A=_.call(Function.call,m.prototype.test,/^0o[0-7]+$/i),P=_.call(Function.call,m.prototype.exec),F=["","​","￾"].join(""),O=new m("["+F+"]","g"),D=_.call(Function.call,m.prototype.test,O),R=/^[-+]0x[0-9a-f]+$/i,j=_.call(Function.call,m.prototype.test,R),U=_.call(Function.call,l.prototype.charCodeAt),N=_.call(Function.call,Object.prototype.toString),L=_.call(Function.call,a("%NumberPrototype%").valueOf),$=_.call(Function.call,a("%BooleanPrototype%").valueOf),M=_.call(Function.call,a("%StringPrototype%").valueOf),H=_.call(Function.call,a("%DatePrototype%").valueOf),B=Math.floor,W=Math.abs,q=Object.create,z=d.getOwnPropertyDescriptor,K=d.isExtensible,V=d.defineProperty,G=["	\n\f\r   ᠎    ","         　\u2028","\u2029\ufeff"].join(""),X=new RegExp("(^["+G+"]+)|(["+G+"]+$)","g"),Y=_.call(Function.call,l.prototype.replace),J=function(e){return Y(e,X,"")},Q=n(90),Z=n(132),ee=w(w({},Q),{Call:function(e,t){var n=arguments.length>2?arguments[2]:[];if(!this.IsCallable(e))throw new s(e+" is not a function");return e.apply(t,n)},ToPrimitive:o,ToNumber:function(e){var t=k(e)?e:o(e,p);if("symbol"==typeof t)throw new s("Cannot convert a Symbol value to a number");if("string"==typeof t){if(T(t))return this.ToNumber(E(S(t,2),2));if(A(t))return this.ToNumber(E(S(t,2),8));if(D(t)||j(t))return NaN;var n=J(t);if(n!==t)return this.ToNumber(n)}return p(t)},ToInt16:function(e){var t=this.ToUint16(e);return t>=32768?t-65536:t},ToInt8:function(e){var t=this.ToUint8(e);return t>=128?t-256:t},ToUint8:function(e){var t=this.ToNumber(e);if(v(t)||0===t||!y(t))return 0;var n=x(t)*B(W(t));return C(n,256)},ToUint8Clamp:function(e){var t=this.ToNumber(e);if(v(t)||0>=t)return 0;if(t>=255)return 255;var n=B(e);return t>n+.5?n+1:n+.5>t?n:n%2!==0?n+1:n},ToString:function(e){if("symbol"==typeof e)throw new s("Cannot convert a Symbol value to a string");return l(e)},ToObject:function(e){return this.RequireObjectCoercible(e),d(e)},ToPropertyKey:function(e){var t=this.ToPrimitive(e,l);return"symbol"==typeof t?t:this.ToString(t)},ToLength:function(e){var t=this.ToInteger(e);return 0>=t?0:t>b?b:t},CanonicalNumericIndexString:function(e){if("[object String]"!==N(e))throw new s("must be a string");if("-0"===e)return-0;var t=this.ToNumber(e);return this.SameValue(this.ToString(t),e)?t:void 0},RequireObjectCoercible:Q.CheckObjectCoercible,IsArray:c.isArray||function(e){return"[object Array]"===N(e)},IsConstructor:function(e){return"function"==typeof e&&!!e.prototype},IsExtensible:Object.preventExtensions?function(e){return k(e)?!1:K(e)}:function(e){return!0},IsInteger:function(e){if("number"!=typeof e||v(e)||!y(e))return!1;var t=W(e);return B(t)===t},IsPropertyKey:function(e){return"string"==typeof e||"symbol"==typeof e},IsRegExp:function(e){if(!e||"object"!=typeof e)return!1;if(h){var t=e[f.match];if("undefined"!=typeof t)return Q.ToBoolean(t)}return Z(e)},SameValueZero:function(e,t){return e===t||v(e)&&v(t)},GetV:function(e,t){if(!this.IsPropertyKey(t))throw new s("Assertion failed: IsPropertyKey(P) is not true");var n=this.ToObject(e);return n[t]},GetMethod:function(e,t){if(!this.IsPropertyKey(t))throw new s("Assertion failed: IsPropertyKey(P) is not true");var n=this.GetV(e,t);if(null==n)return void 0;if(!this.IsCallable(n))throw new s(t+"is not a function");return n},Get:function(e,t){if("Object"!==this.Type(e))throw new s("Assertion failed: Type(O) is not Object");if(!this.IsPropertyKey(t))throw new s("Assertion failed: IsPropertyKey(P) is not true");return e[t]},Type:function(e){return"symbol"==typeof e?"Symbol":Q.Type(e)},SpeciesConstructor:function(e,t){if("Object"!==this.Type(e))throw new s("Assertion failed: Type(O) is not Object");var n=e.constructor;if("undefined"==typeof n)return t;if("Object"!==this.Type(n))throw new s("O.constructor is not an Object");var r=h&&f.species?n[f.species]:void 0;if(null==r)return t;if(this.IsConstructor(r))return r;throw new s("no constructor found")},CompletePropertyDescriptor:function(e){return g(this,"Property Descriptor","Desc",e),this.IsGenericDescriptor(e)||this.IsDataDescriptor(e)?(r(e,"[[Value]]")||(e["[[Value]]"]=void 0),r(e,"[[Writable]]")||(e["[[Writable]]"]=!1)):(r(e,"[[Get]]")||(e["[[Get]]"]=void 0),r(e,"[[Set]]")||(e["[[Set]]"]=void 0)),r(e,"[[Enumerable]]")||(e["[[Enumerable]]"]=!1),r(e,"[[Configurable]]")||(e["[[Configurable]]"]=!1),e},Set:function(e,t,n,r){if("Object"!==this.Type(e))throw new s("O must be an Object");if(!this.IsPropertyKey(t))throw new s("P must be a Property Key");if("Boolean"!==this.Type(r))throw new s("Throw must be a Boolean");if(r)return e[t]=n,!0;try{e[t]=n}catch(o){return!1}},HasOwnProperty:function(e,t){if("Object"!==this.Type(e))throw new s("O must be an Object");if(!this.IsPropertyKey(t))throw new s("P must be a Property Key");return r(e,t)},HasProperty:function(e,t){if("Object"!==this.Type(e))throw new s("O must be an Object");if(!this.IsPropertyKey(t))throw new s("P must be a Property Key");return t in e},IsConcatSpreadable:function(e){if("Object"!==this.Type(e))return!1;if(h&&"symbol"==typeof f.isConcatSpreadable){var t=this.Get(e,Symbol.isConcatSpreadable);if("undefined"!=typeof t)return this.ToBoolean(t)}return this.IsArray(e)},Invoke:function(e,t){if(!this.IsPropertyKey(t))throw new s("P must be a Property Key");var n=I(arguments,2),r=this.GetV(e,t);return this.Call(r,e,n)},GetIterator:function(e,t){if(!h)throw new SyntaxError("ES.GetIterator depends on native iterator support.");var n=t;arguments.length<2&&(n=this.GetMethod(e,f.iterator));var r=this.Call(n,e);if("Object"!==this.Type(r))throw new s("iterator must return an object");return r},IteratorNext:function(e,t){var n=this.Invoke(e,"next",arguments.length<2?[]:[t]);if("Object"!==this.Type(n))throw new s("iterator next must return an object");return n},IteratorComplete:function(e){if("Object"!==this.Type(e))throw new s("Assertion failed: Type(iterResult) is not Object");return this.ToBoolean(this.Get(e,"done"))},IteratorValue:function(e){if("Object"!==this.Type(e))throw new s("Assertion failed: Type(iterResult) is not Object");return this.Get(e,"value")},IteratorStep:function(e){var t=this.IteratorNext(e),n=this.IteratorComplete(t);return n===!0?!1:t},IteratorClose:function(e,t){if("Object"!==this.Type(e))throw new s("Assertion failed: Type(iterator) is not Object");if(!this.IsCallable(t))throw new s("Assertion failed: completion is not a thunk for a Completion Record");var n=t,r=this.GetMethod(e,"return");if("undefined"==typeof r)return n();var o;try{var i=this.Call(r,e,[])}catch(a){throw o=n(),n=null,a}if(o=n(),n=null,"Object"!==this.Type(i))throw new s("iterator .return must return an object");return o},CreateIterResultObject:function(e,t){if("Boolean"!==this.Type(t))throw new s("Assertion failed: Type(done) is not Boolean");return{value:e,done:t}},RegExpExec:function(e,t){if("Object"!==this.Type(e))throw new s("R must be an Object");if("String"!==this.Type(t))throw new s("S must be a String");var n=this.Get(e,"exec");if(this.IsCallable(n)){var r=this.Call(n,e,[t]);if(null===r||"Object"===this.Type(r))return r;throw new s('"exec" method must return `null` or an Object')}return P(e,t)},ArraySpeciesCreate:function(e,t){if(!this.IsInteger(t)||0>t)throw new s("Assertion failed: length must be an integer >= 0");var n,r=0===t?0:t,o=this.IsArray(e);if(o&&(n=this.Get(e,"constructor"),"Object"===this.Type(n)&&h&&f.species&&(n=this.Get(n,f.species),null===n&&(n=void 0))),"undefined"==typeof n)return c(r);if(!this.IsConstructor(n))throw new s("C must be a constructor");return new n(r)},CreateDataProperty:function(e,t,n){if("Object"!==this.Type(e))throw new s("Assertion failed: Type(O) is not Object");if(!this.IsPropertyKey(t))throw new s("Assertion failed: IsPropertyKey(P) is not true");var r=z(e,t),o=r||"function"!=typeof K||K(e),i=r&&(!r.writable||!r.configurable);if(i||!o)return!1;var a={configurable:!0,enumerable:!0,value:n,writable:!0};return V(e,t,a),!0},CreateDataPropertyOrThrow:function(e,t,n){if("Object"!==this.Type(e))throw new s("Assertion failed: Type(O) is not Object");if(!this.IsPropertyKey(t))throw new s("Assertion failed: IsPropertyKey(P) is not true");var r=this.CreateDataProperty(e,t,n);if(!r)throw new s("unable to create data property");return r},ObjectCreate:function(e,t){if(null!==e&&"Object"!==this.Type(e))throw new s("Assertion failed: proto must be null or an object");var n=arguments.length<2?[]:t;if(n.length>0)throw new u("es-abstract does not yet support internal slots");if(null===e&&!q)throw new u("native Object.create support is required to create null objects");return q(e)},AdvanceStringIndex:function(e,t,n){if("String"!==this.Type(e))throw new s("S must be a String");if(!this.IsInteger(t)||0>t||t>b)throw new s("Assertion failed: length must be an integer >= 0 and <= 2**53");if("Boolean"!==this.Type(n))throw new s("Assertion failed: unicode must be a Boolean");if(!n)return t+1;var r=e.length;if(t+1>=r)return t+1;var o=U(e,t);if(55296>o||o>56319)return t+1;var i=U(e,t+1);return 56320>i||i>57343?t+1:t+2},CreateMethodProperty:function(e,t,n){if("Object"!==this.Type(e))throw new s("Assertion failed: Type(O) is not Object");if(!this.IsPropertyKey(t))throw new s("Assertion failed: IsPropertyKey(P) is not true");var r={configurable:!0,enumerable:!1,value:n,writable:!0};return!!V(e,t,r)},DefinePropertyOrThrow:function(e,t,n){if("Object"!==this.Type(e))throw new s("Assertion failed: Type(O) is not Object");if(!this.IsPropertyKey(t))throw new s("Assertion failed: IsPropertyKey(P) is not true");return!!V(e,t,n)},DeletePropertyOrThrow:function(e,t){if("Object"!==this.Type(e))throw new s("Assertion failed: Type(O) is not Object");if(!this.IsPropertyKey(t))throw new s("Assertion failed: IsPropertyKey(P) is not true");var n=delete e[t];if(!n)throw new TypeError("Attempt to delete property failed.");return n},EnumerableOwnNames:function(e){if("Object"!==this.Type(e))throw new s("Assertion failed: Type(O) is not Object");return i(e)},thisNumberValue:function(e){return"Number"===this.Type(e)?e:L(e)},thisBooleanValue:function(e){return"Boolean"===this.Type(e)?e:$(e)},thisStringValue:function(e){return"String"===this.Type(e)?e:M(e)},thisTimeValue:function(e){return H(e)}});delete ee.CheckObjectCoercible,e.exports=ee},function(e,t,n){"use strict";var r=n(88),o=n(50),i=o(o({},r),{SameValueNonNumber:function(e,t){if("number"==typeof e||typeof e!=typeof t)throw new TypeError("SameValueNonNumber requires two non-number values of the same type.");return this.SameValue(e,t)}});e.exports=i},function(e,t,n){"use strict";var r=n(27),o=r("%Object%"),i=r("%TypeError%"),a=r("%String%"),s=n(49),u=n(52),c=n(51),l=n(54),d=n(53),p=n(31),f=n(93),m=n(22),h={ToPrimitive:f,ToBoolean:function(e){return!!e},ToNumber:function(e){return+e},ToInteger:function(e){var t=this.ToNumber(e);return u(t)?0:0!==t&&c(t)?l(t)*Math.floor(Math.abs(t)):t},ToInt32:function(e){return this.ToNumber(e)>>0},ToUint32:function(e){return this.ToNumber(e)>>>0},ToUint16:function(e){var t=this.ToNumber(e);if(u(t)||0===t||!c(t))return 0;var n=l(t)*Math.floor(Math.abs(t));return d(n,65536)},ToString:function(e){return a(e)},ToObject:function(e){return this.CheckObjectCoercible(e),o(e)},CheckObjectCoercible:function(e,t){if(null==e)throw new i(t||"Cannot call method on "+e);return e},IsCallable:p,SameValue:function(e,t){return e===t?0===e?1/e===1/t:!0:u(e)&&u(t)},Type:function(e){return null===e?"Null":"undefined"==typeof e?"Undefined":"function"==typeof e||"object"==typeof e?"Object":"number"==typeof e?"Number":"boolean"==typeof e?"Boolean":"string"==typeof e?"String":void 0},IsPropertyDescriptor:function(e){if("Object"!==this.Type(e))return!1;var t={"[[Configurable]]":!0,"[[Enumerable]]":!0,"[[Get]]":!0,"[[Set]]":!0,"[[Value]]":!0,"[[Writable]]":!0};for(var n in e)if(m(e,n)&&!t[n])return!1;var r=m(e,"[[Value]]"),o=m(e,"[[Get]]")||m(e,"[[Set]]");if(r&&o)throw new i("Property Descriptors may not be both accessor and data descriptors");return!0},IsAccessorDescriptor:function(e){return"undefined"==typeof e?!1:(s(this,"Property Descriptor","Desc",e),m(e,"[[Get]]")||m(e,"[[Set]]")?!0:!1)},IsDataDescriptor:function(e){return"undefined"==typeof e?!1:(s(this,"Property Descriptor","Desc",e),m(e,"[[Value]]")||m(e,"[[Writable]]")?!0:!1)},IsGenericDescriptor:function(e){return"undefined"==typeof e?!1:(s(this,"Property Descriptor","Desc",e),this.IsAccessorDescriptor(e)||this.IsDataDescriptor(e)?!1:!0)},FromPropertyDescriptor:function(e){if("undefined"==typeof e)return e;if(s(this,"Property Descriptor","Desc",e),this.IsDataDescriptor(e))return{value:e["[[Value]]"],writable:!!e["[[Writable]]"],enumerable:!!e["[[Enumerable]]"],configurable:!!e["[[Configurable]]"]};if(this.IsAccessorDescriptor(e))return{get:e["[[Get]]"],set:e["[[Set]]"],enumerable:!!e["[[Enumerable]]"],configurable:!!e["[[Configurable]]"]};throw new i("FromPropertyDescriptor must be called with a fully populated Property Descriptor")},ToPropertyDescriptor:function(e){if("Object"!==this.Type(e))throw new i("ToPropertyDescriptor requires an object");var t={};if(m(e,"enumerable")&&(t["[[Enumerable]]"]=this.ToBoolean(e.enumerable)),m(e,"configurable")&&(t["[[Configurable]]"]=this.ToBoolean(e.configurable)),m(e,"value")&&(t["[[Value]]"]=e.value),m(e,"writable")&&(t["[[Writable]]"]=this.ToBoolean(e.writable)),m(e,"get")){var n=e.get;if("undefined"!=typeof n&&!this.IsCallable(n))throw new TypeError("getter must be a function");t["[[Get]]"]=n}if(m(e,"set")){var r=e.set;if("undefined"!=typeof r&&!this.IsCallable(r))throw new i("setter must be a function");t["[[Set]]"]=r}if((m(t,"[[Get]]")||m(t,"[[Set]]"))&&(m(t,"[[Value]]")||m(t,"[[Writable]]")))throw new i("Invalid property descriptor. Cannot both specify accessors and a value or writable attribute");return t}};e.exports=h},function(e,t){e.exports=function(e){return null===e||"function"!=typeof e&&"object"!=typeof e}},function(e,t,n){"use strict";var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator,o=n(55),i=n(31),a=n(131),s=n(133),u=function(e,t){if("undefined"==typeof e||null===e)throw new TypeError("Cannot call method on "+e);if("string"!=typeof t||"number"!==t&&"string"!==t)throw new TypeError('hint must be "string" or "number"');var n,r,a,s="string"===t?["toString","valueOf"]:["valueOf","toString"];for(a=0;a<s.length;++a)if(n=e[s[a]],i(n)&&(r=n.call(e),o(r)))return r;throw new TypeError("No default value")},c=function(e,t){var n=e[t];if(null!==n&&"undefined"!=typeof n){if(!i(n))throw new TypeError(n+" returned for property "+t+" of object "+e+" is not a function");return n}return void 0};e.exports=function(e){if(o(e))return e;var t="default";arguments.length>1&&(arguments[1]===String?t="string":arguments[1]===Number&&(t="number"));var n;if(r&&(Symbol.toPrimitive?n=c(e,Symbol.toPrimitive):s(e)&&(n=Symbol.prototype.valueOf)),"undefined"!=typeof n){var i=n.call(e,t);if(o(i))return i;throw new TypeError("unable to convert exotic object to primitive")}return"default"===t&&(a(e)||s(e))&&(t="string"),u(e,"default"===t?"number":t)}},function(e,t,n){"use strict";var r=Object.prototype.toString,o=n(55),i=n(31),a={"[[DefaultValue]]":function(e){var t;if(t=arguments.length>1?arguments[1]:"[object Date]"===r.call(e)?String:Number,t===String||t===Number){var n,a,s=t===String?["toString","valueOf"]:["valueOf","toString"];for(a=0;a<s.length;++a)if(i(e[s[a]])&&(n=e[s[a]](),o(n)))return n;throw new TypeError("No default value")}throw new TypeError("invalid [[DefaultValue]] hint supplied")}};e.exports=function(e){return o(e)?e:arguments.length>1?a["[[DefaultValue]]"](e,arguments[1]):a["[[DefaultValue]]"](e)}},function(e,t,n){"use strict";e.exports=n(92)},function(e,t){"use strict";var n="Function.prototype.bind called on incompatible ",r=Array.prototype.slice,o=Object.prototype.toString,i="[object Function]";e.exports=function(e){var t=this;if("function"!=typeof t||o.call(t)!==i)throw new TypeError(n+t);for(var a,s=r.call(arguments,1),u=function(){if(this instanceof a){var n=t.apply(this,s.concat(r.call(arguments)));return Object(n)===n?n:this}return t.apply(e,s.concat(r.call(arguments)))},c=Math.max(0,t.length-s.length),l=[],d=0;c>d;d++)l.push("$"+d);if(a=Function("binder","return function ("+l.join(",")+"){ return binder.apply(this,arguments); }")(u),t.prototype){var p=function(){};p.prototype=t.prototype,a.prototype=new p,p.prototype=null}return a}},function(e,t){t.node=function(e){return void 0!==e&&e instanceof HTMLElement&&1===e.nodeType},t.nodeList=function(e){var n=Object.prototype.toString.call(e);return void 0!==e&&("[object NodeList]"===n||"[object HTMLCollection]"===n)&&"length"in e&&(0===e.length||t.node(e[0]))},t.string=function(e){return"string"==typeof e||e instanceof String},t.fn=function(e){var t=Object.prototype.toString.call(e);return"[object Function]"===t}},function(e,t,n){function r(e,t,n){if(!e&&!t&&!n)throw new Error("Missing required arguments");if(!s.string(t))throw new TypeError("Second argument must be a String");if(!s.fn(n))throw new TypeError("Third argument must be a Function");if(s.node(e))return o(e,t,n);if(s.nodeList(e))return i(e,t,n);if(s.string(e))return a(e,t,n);throw new TypeError("First argument must be a String, HTMLElement, HTMLCollection, or NodeList")}function o(e,t,n){return e.addEventListener(t,n),{destroy:function(){e.removeEventListener(t,n)}}}function i(e,t,n){return Array.prototype.forEach.call(e,function(e){e.addEventListener(t,n)}),{destroy:function(){Array.prototype.forEach.call(e,function(e){e.removeEventListener(t,n)})}}}function a(e,t,n){return u(document.body,e,t,n)}var s=n(96),u=n(87);e.exports=r},function(e,t,n){var r=n(3);e.exports=(r["default"]||r).template({compiler:[7,">= 4.0.0"],main:function(e,t,n,r,o){var i,a,s=null!=t?t:{},u=n.helperMissing,c="function",l=e.escapeExpression,d=e.lambda;return'<div class="follow-actions status-'+l((a=null!=(a=n.initialStatus||(null!=t?t.initialStatus:t))?a:u,typeof a===c?a.call(s,{name:"initialStatus",hash:{},data:o}):a))+'" data-type="'+l((a=null!=(a=n.type||(null!=t?t.type:t))?a:u,typeof a===c?a.call(s,{name:"type",hash:{},data:o}):a))+'" data-id="'+l((a=null!=(a=n.id||(null!=t?t.id:t))?a:u,typeof a===c?a.call(s,{name:"id",hash:{},data:o}):a))+'">\n    <div class="follow"><span class="issuuicons" title="'+l(d(null!=(i=null!=t?t.copy:t)?i.follow:i,t))+'">p</span></div>\n    <div class="following">\n        <span class="issuuicons followed">C</span> <span class="action-text followed-text">'+l(d(null!=(i=null!=t?t.copy:t)?i.followed:i,t))+'</span>\n        <span class="issuuicons unfollow" title="'+l(d(null!=(i=null!=t?t.copy:t)?i.unfollow:i,t))+'">d</span> <span class="action-text unfollowed-text">'+l(d(null!=(i=null!=t?t.copy:t)?i.unfollowed:i,t))+"</span>\n    </div>\n</div>\n"},useData:!0})},function(e,t,n){var r=n(3);e.exports=(r["default"]||r).template({compiler:[7,">= 4.0.0"],main:function(e,t,n,r,o){var i,a,s=null!=t?t:{},u=n.helperMissing,c="function",l=e.escapeExpression;return'<div id="overlay" class="'+l((a=null!=(a=n.skin||(null!=t?t.skin:t))?a:u,typeof a===c?a.call(s,{name:"skin",hash:{},data:o}):a))+'" style="visibility:'+l((a=null!=(a=n.visibility||(null!=t?t.visibility:t))?a:u,typeof a===c?a.call(s,{name:"visibility",hash:{},data:o}):a))+';">\n    <div class="dimmer-content">\n        '+(null!=(a=null!=(a=n.dimmerContent||(null!=t?t.dimmerContent:t))?a:u,i=typeof a===c?a.call(s,{name:"dimmerContent",hash:{},data:o}):a)?i:"")+"\n    </div>\n</div>\n"},useData:!0})},function(e,t,n){var r=n(3);e.exports=(r["default"]||r).template({1:function(e,t,n,r,o){return'                <div class="close_corner issuuicon issuuicon-chevron-x"></div>\n'},compiler:[7,">= 4.0.0"],main:function(e,t,n,r,o){var i,a,s=null!=t?t:{},u=n.helperMissing,c="function",l=e.escapeExpression;return'<div class="centerparent '+l((a=null!=(a=n.trait||(null!=t?t.trait:t))?a:u,typeof a===c?a.call(s,{name:"trait",hash:{},data:o}):a))+" "+l((a=null!=(a=n.boxClass||(null!=t?t.boxClass:t))?a:u,typeof a===c?a.call(s,{name:"boxClass",hash:{},data:o}):a))+'">\n    <div class="vcenter">\n        <div class="overlay-box">\n            '+(null!=(a=null!=(a=n.content||(null!=t?t.content:t))?a:u,i=typeof a===c?a.call(s,{name:"content",hash:{},data:o}):a)?i:"")+"\n"+(null!=(i=n["if"].call(s,null!=t?t.showCloseIcon:t,{name:"if",hash:{},fn:e.program(1,o,0),inverse:e.noop,data:o}))?i:"")+"        </div>\n    </div>\n</div>\n"},useData:!0})},function(e,t,n){var r=n(3);e.exports=(r["default"]||r).template({1:function(e,t,n,r,o){return'checked="checked"'},3:function(e,t,n,r,o){return'                            <a class="w-stackeditor__action ixu-button js-w-stackeditor-btn-delete" href="javascript:void(0);">\n                                Delete\n                            </a>\n'},compiler:[7,">= 4.0.0"],main:function(e,t,n,r,o){var i,a,s=e.lambda,u=e.escapeExpression,c=null!=t?t:{},l=n.helperMissing,d="function";return'<div class="w-stackeditor ixu-modal is-open">\n    <div class="w-stackeditor__inner ixu-modal__inner">\n        <button class="ixu-modal__close-button js-w-stackeditor-btn-cancel"></button>\n            <div class="ixu-modal__content">\n                <h1 class="w-stackeditor__title ixu-heading ixu-heading--pronounced ixu-heading--bold">\n                    '+u(s(null!=(i=null!=t?t.copy:t)?i.title:i,t))+'\n                </h1>\n                <form class="ixu-form-group">\n                    <label class="ixu-form-group__element ixu-form-element">\n                        <div class="ixu-form-element__label">\n                            Stack title\n                        </div>\n                        <span class="js-w-stackeditor-name-error"></span>\n                        <input\n                            class="ixu-textfield"\n                            type="text"\n                            name="name"\n                            value="'+u((a=null!=(a=n.name||(null!=t?t.name:t))?a:l,typeof a===d?a.call(c,{name:"name",hash:{},data:o}):a))+'"\n                            placeholder="Title of your stack"\n                            maxlength="100"\n                        />\n                    </label>\n                    <label class="ixu-form-group__element ixu-form-element">\n                        <div class="ixu-form-element__label">\n                            Stack description\n                        </div>\n                        <span class="js-w-stackeditor-description-error"></span>\n                        <textarea\n                            class="ixu-textfield ixu-textfield--multiline"\n                            name="description"\n                            placeholder="You can add a short description. It will help others find your stack."\n                            rows="4"\n                            maxlength="1000"\n                        >'+u((a=null!=(a=n.description||(null!=t?t.description:t))?a:l,typeof a===d?a.call(c,{name:"description",hash:{},data:o}):a))+'</textarea>\n                    </label>\n                    <label class="ixu-form-group__element ixu-form-element ixu-form-element--horizontal">\n                        <span class="js-w-stackeditor-description-error"></span>\n                        <div class="ixu-checkbox">\n                            <input\n                                class="ixu-checkbox__native"\n                                type="checkbox"\n                                name="secret"\n                                '+(null!=(i=n["if"].call(c,null!=t?t.secret:t,{name:"if",hash:{},fn:e.program(1,o,0),inverse:e.noop,data:o}))?i:"")+'\n                            />\n                            <div class="ixu-checkbox__faux"></div>\n                        </div>\n                        <div class="ixu-form-element__label">\n                            Unlisted stack. Only users with the direct link will be able to see it.\n                        </div>\n                    </label>\n\n                    <div class="w-stackeditor__actions">\n                        <button class="w-stackeditor__action ixu-button ixu-button--pronounced js-w-stackeditor-btn-save" type="submit">\n                            <span class="text">'+u(s(null!=(i=null!=t?t.copy:t)?i.saveButton:i,t))+"</span>\n                        </button>\n"+(null!=(i=n["if"].call(c,null!=t?t.deletable:t,{name:"if",hash:{},fn:e.program(3,o,0),inverse:e.noop,data:o}))?i:"")+'                    </div>\n\n                    <p class="w-stackeditor__api-error js-w-stackeditor-api-error text-center"></p>\n                </form>\n            </div>\n        </div>\n    </div>\n</div>\n'},useData:!0})},function(e,t,n){var r=n(3);e.exports=(r["default"]||r).template({compiler:[7,">= 4.0.0"],main:function(e,t,n,r,o){var i,a=e.lambda,s=e.escapeExpression;return'<div class="w-stackeditor ixu-modal is-open">\n    <div class="ixu-modal__inner w-stackeditor__inner">\n        <button class="ixu-modal__close-button js-w-deletestack-btn-cancel"></button>\n            <div class="ixu-modal__content">\n                <h2 class="w-stackeditor__item ixu-heading ixu-heading--bold ixu-heading--pronounced">\n                    '+s(a(null!=(i=null!=t?t.copy:t)?i.deleteStackHeadline:i,t))+'\n                </h2>\n                <div class="ixu-paragraph w-stackeditor__item">\n                    '+(null!=(i=a(null!=(i=null!=t?t.copy:t)?i.deleteStackParagraph:i,t))?i:"")+'\n                </div>\n                <div class="w-stackeditor__actions">\n                    <button\n                        class="w-stackeditor__action ixu-button ixu-button--danger js-w-deletestack-btn-confirm"\n                        tabindex="2"\n                    >\n                        '+s(a(null!=(i=null!=t?t.copy:t)?i.deleteStackPositive:i,t))+'\n                    </button>\n                    <button\n                        class="w-stackeditor__action ixu-button js-w-deletestack-btn-cancel"\n                        autofocus="autofocus"\n                        tabindex="1"\n                    >\n                        '+s(a(null!=(i=null!=t?t.copy:t)?i.cancel:i,t))+"\n                    </button>\n                </div>\n            </div>\n        </div>\n    </div>\n</div>\n";
},useData:!0})},function(e,t,n){var r=n(3);e.exports=(r["default"]||r).template({1:function(e,t,n,r,o){return"selected"},3:function(e,t,n,r,o){return"selectiononly"},5:function(e,t,n,r,o){return'href="'+e.escapeExpression(e.lambda(null!=t?t.stackUrl:t,t))+'"'},7:function(e,t,n,r,o){var i;return'                <span class="centerer">\n                    <span class="hoverer">\n                        <img '+(null!=(i=n["if"].call(null!=t?t:{},null!=t?t.coverUrl:t,{name:"if",hash:{},fn:e.program(8,o,0),inverse:e.program(10,o,0),data:o}))?i:"")+" />\n                    </span>\n                </span>\n"},8:function(e,t,n,r,o){return' src="'+e.escapeExpression(e.lambda(null!=t?t.coverUrl:t,t))+'" '},10:function(e,t,n,r,o){return' style="width:180px; height: 240px;" '},12:function(e,t,n,r,o){var i;return'                    <canvas width="180" height="240"></canvas>\n                    <span class="nopubs" '+(null!=(i=n["if"].call(null!=t?t:{},null!=(i=null!=t?t.stack:t)?i.secret:i,{name:"if",hash:{},fn:e.program(13,o,0),inverse:e.noop,data:o}))?i:"")+">"+e.escapeExpression(e.lambda(null!=(i=null!=t?t.copy:t)?i.emptystack:i,t))+"</span>\n"},13:function(e,t,n,r,o){return'style="display: none;"'},15:function(e,t,n,r,o){return'                <svg class="w-stack-selection-icon" viewBox="0 0 16 16">\n                    <path d="M4.64 13.438L.22 8.986c-.296-.297-.296-.763 0-1.04.296-.296.76-.296 1.036 0l3.89 3.902 9.594-9.625c.296-.297.76-.297 1.036 0 .296.296.296.763 0 1.04L5.696 13.416c-.148.15-.338.233-.528.233s-.38-.063-.53-.212z" />\n                </svg>\n'},17:function(e,t,n,r,o){var i;return'                <span class="hint">'+e.escapeExpression(e.lambda(null!=(i=null!=t?t.copy:t)?i.openstack:i,t))+"</span>\n"},19:function(e,t,n,r,o){return'    <div class="actionwrapper">\n        <a class="action editstack issuuicon issuuicon-cog" href="javascript:void(0);"></a>\n    </div>\n'},21:function(e,t,n,r,o){var i,a=null!=t?t:{};return'            <ul class="counts">\n                <li class="ixu-paragraph ixu-paragraph--small">\n                    '+e.escapeExpression(e.lambda(null!=(i=null!=t?t.stack:t)?i.docCount:i,t))+" documents\n                </li>\n\n"+(null!=(i=n["if"].call(a,null!=(i=null!=t?t.stack:t)?i.subscriberCount:i,{name:"if",hash:{},fn:e.program(22,o,0),inverse:e.noop,data:o}))?i:"")+"            </ul>\n\n"+(null!=(i=n.unless.call(a,null!=(i=null!=t?t.options:t)?i.hideOwner:i,{name:"unless",hash:{},fn:e.program(24,o,0),inverse:e.noop,data:o}))?i:"")+"\n"+(null!=(i=n.unless.call(a,null!=(i=null!=t?t.options:t)?i.hideDescription:i,{name:"unless",hash:{},fn:e.program(27,o,0),inverse:e.noop,data:o}))?i:"")},22:function(e,t,n,r,o){var i;return'                    <li class="ixu-paragraph ixu-paragraph--small">\n                        '+e.escapeExpression(e.lambda(null!=(i=null!=t?t.stack:t)?i.subscriberCount:i,t))+" subscribers\n                    </li>\n"},24:function(e,t,n,r,o){var i;return'                <div class="ixu-paragraph ixu-paragraph--small">\n                    <a '+(null!=(i=n.unless.call(null!=t?t:{},null!=(i=null!=t?t.options:t)?i.selectionOnly:i,{name:"unless",hash:{},fn:e.program(25,o,0),inverse:e.noop,data:o}))?i:"")+">\n                        "+e.escapeExpression(e.lambda(null!=(i=null!=t?t.stack:t)?i.ownerDisplayName:i,t))+"\n                    </a>\n                </div>\n"},25:function(e,t,n,r,o){return'href="'+e.escapeExpression(e.lambda(null!=t?t.profileUrl:t,t))+'"'},27:function(e,t,n,r,o){var i;return null!=(i=n["if"].call(null!=t?t:{},null!=(i=null!=t?t.stack:t)?i.description:i,{name:"if",hash:{},fn:e.program(28,o,0),inverse:e.noop,data:o}))?i:""},28:function(e,t,n,r,o){var i;return null!=(i=n.unless.call(null!=t?t:{},null!=(i=null!=t?t.options:t)?i.selectionOnly:i,{name:"unless",hash:{},fn:e.program(29,o,0),inverse:e.noop,data:o}))?i:""},29:function(e,t,n,r,o){var i,a=e.lambda,s=e.escapeExpression;return'                        <p\n                            class="ixu-paragraph ixu-paragraph--small description"\n                            title="'+s(a(null!=(i=null!=t?t.stack:t)?i.description:i,t))+'"\n                        >\n                            <a href="'+s(a(null!=t?t.stackUrl:t,t))+'" tabindex="-1">\n                                '+s(n.smarttruncate.call(null!=t?t:{},null!=(i=null!=t?t.stack:t)?i.description:i,{name:"smarttruncate",hash:{},data:o}))+"\n                            </a>\n                        </p>\n"},compiler:[7,">= 4.0.0"],main:function(e,t,n,r,o){var i,a=null!=t?t:{},s=e.lambda,u=e.escapeExpression;return'<div class="stack '+(null!=(i=n["if"].call(a,null!=(i=null!=t?t.stack:t)?i.selected:i,{name:"if",hash:{},fn:e.program(1,o,0),inverse:e.noop,data:o}))?i:"")+" "+(null!=(i=n["if"].call(a,null!=(i=null!=t?t.options:t)?i.selectionOnly:i,{name:"if",hash:{},fn:e.program(3,o,0),inverse:e.noop,data:o}))?i:"")+'" data-stackid="'+u(s(null!=(i=null!=t?t.stack:t)?i.id:i,t))+'">\n    <a '+(null!=(i=n.unless.call(a,null!=(i=null!=t?t.options:t)?i.selectionOnly:i,{name:"unless",hash:{},fn:e.program(5,o,0),inverse:e.noop,data:o}))?i:"")+'>\n        <span class="stack-cover v'+u(s(null!=t?t.version:t,t))+'">\n            <span class="cover-container">\n'+(null!=(i=n.each.call(a,null!=t?t.pubs:t,{name:"each",hash:{},fn:e.program(7,o,0),inverse:e.program(12,o,0),data:o}))?i:"")+'            </span>\n\n            <span class="secret" '+(null!=(i=n.unless.call(a,null!=(i=null!=t?t.stack:t)?i.secret:i,{name:"unless",hash:{},fn:e.program(13,o,0),inverse:e.noop,data:o}))?i:"")+'><span class="issuuicon issuuicon-eye-closed"></span></span>\n'+(null!=(i=n["if"].call(a,null!=(i=null!=t?t.options:t)?i.selectionOnly:i,{name:"if",hash:{},fn:e.program(15,o,0),inverse:e.program(17,o,0),data:o}))?i:"")+"        </span>\n\n    </a>\n"+(null!=(i=n["if"].call(a,null!=t?t.showEditButton:t,{name:"if",hash:{},fn:e.program(19,o,0),inverse:e.noop,data:o}))?i:"")+'\n    <div class="metadata">\n        <h3 title="'+u(s(null!=(i=null!=t?t.stack:t)?i.name:i,t))+'">\n            <a\n                '+(null!=(i=n.unless.call(a,null!=(i=null!=t?t.options:t)?i.selectionOnly:i,{name:"unless",hash:{},fn:e.program(5,o,0),inverse:e.noop,data:o}))?i:"")+'\n                class="w-stack-heading ixu-heading ixu-heading--tiny ixu-heading--pronounced ixu-heading--bold"\n                tabindex="-1"\n            >\n                '+u(s(null!=(i=null!=t?t.stack:t)?i.name:i,t))+"\n            </a>\n        </h3>\n"+(null!=(i=n.unless.call(a,null!=(i=null!=t?t.options:t)?i.miniVersion:i,{name:"unless",hash:{},fn:e.program(21,o,0),inverse:e.noop,data:o}))?i:"")+"    </div>\n\n    "+(null!=(i=s(null!=t?t.followMenuMarkup:t,t))?i:"")+"\n</div>\n"},useData:!0})},function(e,t,n){var r=n(3);e.exports=(r["default"]||r).template({compiler:[7,">= 4.0.0"],main:function(e,t,n,r,o){var i;return'<div class="createstack stack">\n    <a href="javascript:void(0);">\n    <span class="stack-cover v1">\n        <span class="cover-container">\n            <span class="centerer">\n                <span class="hoverer">\n                    <div style="width:180px; height: 240px;" />\n                </span>\n            </span>\n            <span class="centerer">\n                <span class="hoverer">\n                    <div style="width:180px; height: 240px;" />\n                </span>\n            </span>\n            <span class="centerer">\n                <span class="hoverer">\n                    <div style="width:180px; height: 240px;" />\n                </span>\n            </span>\n        </span>\n        <svg class="w-stack-plus" viewBox="0 0 16 16">\n            <g><path d="M8 15.908c-.35 0-.644-.294-.644-.644V.736c0-.35.295-.644.644-.644.35 0 .644.294.644.644v14.528c0 .35-.295.644-.644.644z"></path><path d="M15.264 8.644H.736C.386 8.644.092 8.35.092 8c0-.35.294-.644.644-.644h14.528c.35 0 .644.295.644.644 0 .35-.294.644-.644.644z"></path></g>\n        </svg>\n    </span>\n    </a>\n    <div class="metadata">\n        <h3 class="ixu-heading ixu-heading--tiny ixu-heading--pronounced ixu-heading--bold">\n            '+e.escapeExpression(e.lambda(null!=(i=null!=t?t.copy:t)?i.createnewstack:i,t))+"\n        </h3>\n    </div>\n</div>\n"},useData:!0})},function(e,t,n){var r=n(3);e.exports=(r["default"]||r).template({compiler:[7,">= 4.0.0"],main:function(e,t,n,r,o){var i,a=null!=t?t:{},s=n.helperMissing,u="function",c=e.escapeExpression;return'<div class="stream__element--o-o-ads" id="'+c((i=null!=(i=n.id||(null!=t?t.id:t))?i:s,typeof i===u?i.call(a,{name:"id",hash:{},data:o}):i))+'" style="top: '+c((i=null!=(i=n.y||(null!=t?t.y:t))?i:s,typeof i===u?i.call(a,{name:"y",hash:{},data:o}):i))+"px; left: "+c((i=null!=(i=n.x||(null!=t?t.x:t))?i:s,typeof i===u?i.call(a,{name:"x",hash:{},data:o}):i))+"px; width: "+c((i=null!=(i=n.width||(null!=t?t.width:t))?i:s,typeof i===u?i.call(a,{name:"width",hash:{},data:o}):i))+"px; height: "+c((i=null!=(i=n.height||(null!=t?t.height:t))?i:s,typeof i===u?i.call(a,{name:"height",hash:{},data:o}):i))+'px;">\n    <div class="center-block o-o-ads--gpt">\n        <div id="'+c((i=null!=(i=n.adId||(null!=t?t.adId:t))?i:s,typeof i===u?i.call(a,{name:"adId",hash:{},data:o}):i))+'" class="o-o-ads--gpt__ad"></div>\n        <p class="o-o-ads--gpt__text">Advertisement</p>\n    </div>\n</div>\n'},useData:!0})},function(e,t,n){var r=n(3);e.exports=(r["default"]||r).template({compiler:[7,">= 4.0.0"],main:function(e,t,n,r,o){var i,a=null!=t?t:{},s=n.helperMissing,u="function",c=e.escapeExpression;return'<div class="stream__element--triple-lift-ad"\n     id="'+c((i=null!=(i=n.id||(null!=t?t.id:t))?i:s,typeof i===u?i.call(a,{name:"id",hash:{},data:o}):i))+'" style="top: '+c((i=null!=(i=n.y||(null!=t?t.y:t))?i:s,typeof i===u?i.call(a,{name:"y",hash:{},data:o}):i))+"px; left: "+c((i=null!=(i=n.x||(null!=t?t.x:t))?i:s,typeof i===u?i.call(a,{name:"x",hash:{},data:o}):i))+"px; width: "+c((i=null!=(i=n.width||(null!=t?t.width:t))?i:s,typeof i===u?i.call(a,{name:"width",hash:{},data:o}):i))+"px; height: "+c((i=null!=(i=n.height||(null!=t?t.height:t))?i:s,typeof i===u?i.call(a,{name:"height",hash:{},data:o}):i))+'px;">\n     <div id="'+c((i=null!=(i=n.adId||(null!=t?t.adId:t))?i:s,typeof i===u?i.call(a,{name:"adId",hash:{},data:o}):i))+'" class=""></div>\n</div>\n'},useData:!0})},function(e,t,n){var r=n(3);e.exports=(r["default"]||r).template({1:function(e,t,n,r,o){var i;return'src="'+e.escapeExpression((i=null!=(i=n.coverImage||(null!=t?t.coverImage:t))?i:n.helperMissing,"function"==typeof i?i.call(null!=t?t:{},{name:"coverImage",hash:{},data:o}):i))+'"'},3:function(e,t,n,r,o){return"Preview"},5:function(e,t,n,r,o){return"Read now"},compiler:[7,">= 4.0.0"],main:function(e,t,n,r,o){var i,a,s=null!=t?t:{},u=n.helperMissing,c="function",l=e.escapeExpression,d=e.lambda;return'<div class="publication" id="'+l((a=null!=(a=n.id||(null!=t?t.id:t))?a:u,typeof a===c?a.call(s,{name:"id",hash:{},data:o}):a))+'" style="top: '+l((a=null!=(a=n.y||(null!=t?t.y:t))?a:u,typeof a===c?a.call(s,{name:"y",hash:{},data:o}):a))+"px; left: "+l((a=null!=(a=n.x||(null!=t?t.x:t))?a:u,typeof a===c?a.call(s,{name:"x",hash:{},data:o}):a))+"px;"+l((a=null!=(a=n.debugStyle||(null!=t?t.debugStyle:t))?a:u,typeof a===c?a.call(s,{name:"debugStyle",hash:{},data:o}):a))+'">\n    <div class="publication-content">\n    '+(null!=(a=null!=(a=n.debugTxt||(null!=t?t.debugTxt:t))?a:u,i=typeof a===c?a.call(s,{name:"debugTxt",hash:{},data:o}):a)?i:"")+'\n    <a href="/'+l(d(null!=(i=null!=t?t.content:t)?i.ownerUsername:i,t))+"/docs/"+l(d(null!=(i=null!=t?t.content:t)?i.publicationName:i,t))+'" style="height:'+l((a=null!=(a=n.imgHeight||(null!=t?t.imgHeight:t))?a:u,typeof a===c?a.call(s,{name:"imgHeight",hash:{},data:o}):a))+'px" class="cover" >\n        <img '+(null!=(i=n["if"].call(s,null!=t?t.coverImage:t,{name:"if",hash:{},fn:e.program(1,o,0),inverse:e.noop,data:o}))?i:"")+' style="height:'+l((a=null!=(a=n.imgHeight||(null!=t?t.imgHeight:t))?a:u,typeof a===c?a.call(s,{name:"imgHeight",hash:{},data:o}):a))+'px" />\n        <span class="hint" style="line-height:'+l((a=null!=(a=n.imgHeight||(null!=t?t.imgHeight:t))?a:u,typeof a===c?a.call(s,{name:"imgHeight",hash:{},data:o}):a))+'px;" >'+(null!=(i=n["if"].call(s,null!=(i=null!=t?t.content:t)?i.isPreview:i,{name:"if",hash:{},fn:e.program(3,o,0),inverse:e.program(5,o,0),data:o}))?i:"")+'</span>\n    </a>\n    <div class="metadata">\n        <h3 class="title"><a href="/'+l(d(null!=(i=null!=t?t.content:t)?i.ownerUsername:i,t))+"/docs/"+l(d(null!=(i=null!=t?t.content:t)?i.publicationName:i,t))+'" class="unstyled type-discreet">'+l(d(null!=(i=null!=t?t.content:t)?i.title:i,t))+'</a></h3>\n        <p class="ownername">\n            <a href="/'+l(d(null!=(i=null!=t?t.content:t)?i.ownerUsername:i,t))+'">'+l(d(null!=(i=null!=t?t.content:t)?i.ownerUsername:i,t))+'</a>\n        </p>\n        <p class="description">\n            <a href="/'+l(d(null!=(i=null!=t?t.content:t)?i.ownerUsername:i,t))+"/docs/"+l(d(null!=(i=null!=t?t.content:t)?i.publicationName:i,t))+'" class="unstyled">'+l((a=null!=(a=n.shortDescription||(null!=t?t.shortDescription:t))?a:u,typeof a===c?a.call(s,{name:"shortDescription",hash:{},data:o}):a))+"</a>\n        </p>\n    </div>\n    </div>\n</div>\n"},useData:!0})},function(e,t,n){var r=n(3);e.exports=(r["default"]||r).template({1:function(e,t,n,r,o){var i;return'src="'+e.escapeExpression((i=null!=(i=n.coverImage||(null!=t?t.coverImage:t))?i:n.helperMissing,"function"==typeof i?i.call(null!=t?t:{},{name:"coverImage",hash:{},data:o}):i))+'"'},3:function(e,t,n,r,o){return"Preview"},5:function(e,t,n,r,o){return"Read now"},compiler:[7,">= 4.0.0"],main:function(e,t,n,r,o){var i,a,s=e.lambda,u=e.escapeExpression,c=null!=t?t:{},l=n.helperMissing,d="function";return'<div class="publication white" data-docid="'+u(s(null!=(i=null!=t?t.content:t)?i.revisionId:i,t))+"-"+u(s(null!=(i=null!=t?t.content:t)?i.publicationId:i,t))+'" id="'+u((a=null!=(a=n.id||(null!=t?t.id:t))?a:l,typeof a===d?a.call(c,{name:"id",hash:{},data:o}):a))+'" style="top: '+u((a=null!=(a=n.y||(null!=t?t.y:t))?a:l,typeof a===d?a.call(c,{name:"y",hash:{},data:o}):a))+"px; left: "+u((a=null!=(a=n.x||(null!=t?t.x:t))?a:l,typeof a===d?a.call(c,{name:"x",hash:{},data:o}):a))+'px;">\n    <div class="publication-content">\n    <a href="/'+u(s(null!=(i=null!=t?t.content:t)?i.ownerUsername:i,t))+"/docs/"+u(s(null!=(i=null!=t?t.content:t)?i.publicationName:i,t))+'" style="height:'+u((a=null!=(a=n.imgHeight||(null!=t?t.imgHeight:t))?a:l,typeof a===d?a.call(c,{name:"imgHeight",hash:{},data:o}):a))+'px" class="cover" >\n        <img '+(null!=(i=n["if"].call(c,null!=t?t.coverImage:t,{name:"if",hash:{},fn:e.program(1,o,0),inverse:e.noop,data:o}))?i:"")+' style="height:'+u((a=null!=(a=n.imgHeight||(null!=t?t.imgHeight:t))?a:l,typeof a===d?a.call(c,{name:"imgHeight",hash:{},data:o}):a))+'px" />\n        <span class="hint" style="line-height:'+u((a=null!=(a=n.imgHeight||(null!=t?t.imgHeight:t))?a:l,typeof a===d?a.call(c,{name:"imgHeight",hash:{},data:o}):a))+'px;" >'+(null!=(i=n["if"].call(c,null!=(i=null!=t?t.content:t)?i.isPreview:i,{name:"if",hash:{},fn:e.program(3,o,0),inverse:e.program(5,o,0),data:o}))?i:"")+'</span>\n    </a>\n    <a class="delete-doc issuuicons" href="javascript:void(0);">d</a>\n    <div class="metadata">\n        <h3 class="title"><a href="/'+u(s(null!=(i=null!=t?t.content:t)?i.ownerUsername:i,t))+"/docs/"+u(s(null!=(i=null!=t?t.content:t)?i.publicationName:i,t))+'" class="unstyled type-discreet" tabindex="-1">'+u(s(null!=(i=null!=t?t.content:t)?i.title:i,t))+'</a></h3>\n        <p class="ownername">\n            <a href="/'+u(s(null!=(i=null!=t?t.content:t)?i.ownerUsername:i,t))+'">'+u(s(null!=(i=null!=t?t.content:t)?i.ownerDisplayName:i,t))+'</a>\n        </p>\n        <p class="description">\n            <a href="/'+u(s(null!=(i=null!=t?t.content:t)?i.ownerUsername:i,t))+"/docs/"+u(s(null!=(i=null!=t?t.content:t)?i.publicationName:i,t))+'" class="unstyled" tabindex="-1">'+u((a=null!=(a=n.shortDescription||(null!=t?t.shortDescription:t))?a:l,typeof a===d?a.call(c,{name:"shortDescription",hash:{},data:o}):a))+"</a>\n        </p>\n    </div>\n    </div>\n</div>\n"},useData:!0})},function(e,t,n){var r=n(3);e.exports=(r["default"]||r).template({1:function(e,t,n,r,o){var i;return'src="'+e.escapeExpression((i=null!=(i=n.coverImage||(null!=t?t.coverImage:t))?i:n.helperMissing,"function"==typeof i?i.call(null!=t?t:{},{name:"coverImage",hash:{},data:o}):i))+'"'},3:function(e,t,n,r,o){return"Preview"},5:function(e,t,n,r,o){return"Read now"},7:function(e,t,n,r,o){return'                    <div class="ribbon-wrapper"><div class="ribbon">Featured</div></div>\n'},9:function(e,t,n,r,o){var i,a,s=e.lambda,u=e.escapeExpression;return'                <p class="description">\n                    <a href="/'+u(s(null!=(i=null!=t?t.content:t)?i.ownerUsername:i,t))+"/docs/"+u(s(null!=(i=null!=t?t.content:t)?i.publicationName:i,t))+'" class="unstyled" tabindex="-1">'+u((a=null!=(a=n.shortDescription||(null!=t?t.shortDescription:t))?a:n.helperMissing,"function"==typeof a?a.call(null!=t?t:{},{name:"shortDescription",hash:{},data:o}):a))+"</a>\n                </p>\n"},11:function(e,t,n,r,o){var i,a=e.lambda,s=e.escapeExpression;return'        <div class="added-to">\n            <div class="delete-link">\n                <span class="issuuicon issuuicon-remove type-discreet type-small" data-toggle="tooltip"></span>\n                <span class="menu type-discreet default-padding arrow-top" data-tooltip="tooltip">Unfollow '+s(a(null!=(i=null!=(i=null!=t?t.content:t)?i.reason:i)?i.title:i,t))+'</span>\n            </div>\n            <p>\n                <a href="'+s(a(null!=(i=null!=(i=null!=t?t.content:t)?i.reason:i)?i.url:i,t))+'" class="type-discreet type-small" title="'+s(a(null!=(i=null!=(i=null!=t?t.content:t)?i.reason:i)?i.title:i,t))+" by "+s(a(null!=(i=null!=(i=null!=t?t.content:t)?i.reason:i)?i.ownerDisplayName:i,t))+'">\n                    <span class="issuuicon issuuicon-stack"></span> '+s(a(null!=(i=null!=(i=null!=t?t.content:t)?i.reason:i)?i.title:i,t))+" by "+s(a(null!=(i=null!=(i=null!=t?t.content:t)?i.reason:i)?i.ownerDisplayName:i,t))+"\n                </a>\n            </p>\n        </div>\n"},compiler:[7,">= 4.0.0"],main:function(e,t,n,r,o){var i,a,s=null!=t?t:{},u=n.helperMissing,c="function",l=e.escapeExpression,d=e.lambda;return'<div class="publication theme-light" id="'+l((a=null!=(a=n.id||(null!=t?t.id:t))?a:u,typeof a===c?a.call(s,{name:"id",hash:{},data:o}):a))+'" style="top: '+l((a=null!=(a=n.y||(null!=t?t.y:t))?a:u,typeof a===c?a.call(s,{name:"y",hash:{},data:o}):a))+"px; left: "+l((a=null!=(a=n.x||(null!=t?t.x:t))?a:u,typeof a===c?a.call(s,{name:"x",hash:{},data:o}):a))+"px;"+l((a=null!=(a=n.debugStyle||(null!=t?t.debugStyle:t))?a:u,typeof a===c?a.call(s,{name:"debugStyle",hash:{},data:o}):a))+'" data-identifier="'+l(d(null!=(i=null!=(i=null!=t?t.content:t)?i.reason:i)?i.identifier:i,t))+'" data-title="'+l(d(null!=(i=null!=(i=null!=t?t.content:t)?i.reason:i)?i.title:i,t))+'"  data-type="'+l(d(null!=(i=null!=(i=null!=t?t.content:t)?i.reason:i)?i.type:i,t))+'">\n    <div class="publication-content">\n        <div>\n            '+(null!=(a=null!=(a=n.debugTxt||(null!=t?t.debugTxt:t))?a:u,i=typeof a===c?a.call(s,{name:"debugTxt",hash:{},data:o}):a)?i:"")+'\n            <a href="/'+l(d(null!=(i=null!=t?t.content:t)?i.ownerUsername:i,t))+"/docs/"+l(d(null!=(i=null!=t?t.content:t)?i.publicationName:i,t))+'" style="height:'+l((a=null!=(a=n.imgHeight||(null!=t?t.imgHeight:t))?a:u,typeof a===c?a.call(s,{name:"imgHeight",hash:{},data:o}):a))+'px;" class="cover" >\n                <img '+(null!=(i=n["if"].call(s,null!=t?t.coverImage:t,{name:"if",hash:{},fn:e.program(1,o,0),inverse:e.noop,data:o}))?i:"")+' style="height:'+l((a=null!=(a=n.imgHeight||(null!=t?t.imgHeight:t))?a:u,typeof a===c?a.call(s,{name:"imgHeight",hash:{},data:o}):a))+'px;" />\n                <span class="hint" style="line-height:'+l((a=null!=(a=n.imgHeight||(null!=t?t.imgHeight:t))?a:u,typeof a===c?a.call(s,{name:"imgHeight",hash:{},data:o}):a))+'px;" >'+(null!=(i=n["if"].call(s,null!=(i=null!=t?t.content:t)?i.isPreview:i,{name:"if",hash:{},fn:e.program(3,o,0),inverse:e.program(5,o,0),data:o}))?i:"")+"</span>\n"+(null!=(i=n["if"].call(s,null!=(i=null!=t?t.content:t)?i.isEditorsPick:i,{name:"if",hash:{},fn:e.program(7,o,0),inverse:e.noop,data:o}))?i:"")+'                <div class="ribbon-wrapper new-ribbon"><div class="ribbon">New</div></div>\n            </a>\n            <div class="metadata">\n                <h3 class="title"><a href="/'+l(d(null!=(i=null!=t?t.content:t)?i.ownerUsername:i,t))+"/docs/"+l(d(null!=(i=null!=t?t.content:t)?i.publicationName:i,t))+'" class="unstyled type-discreet" tabindex="-1"><span class="new-pub-icon"></span>'+l(d(null!=(i=null!=t?t.content:t)?i.title:i,t))+'</a></h3>\n                <p class="ownername">\n                    <a href="/'+l(d(null!=(i=null!=t?t.content:t)?i.ownerUsername:i,t))+'">'+l(d(null!=(i=null!=t?t.content:t)?i.ownerDisplayName:i,t))+"</a>\n                </p>\n"+(null!=(i=n["if"].call(s,null!=t?t.isGoodDescription:t,{name:"if",hash:{},fn:e.program(9,o,0),inverse:e.noop,data:o}))?i:"")+"            </div>\n        </div>\n    </div>\n"+(null!=(i=n["if"].call(s,null!=(i=null!=(i=null!=t?t.content:t)?i.reason:i)?i.isStack:i,{name:"if",hash:{},fn:e.program(11,o,0),inverse:e.noop,data:o}))?i:"")+'    <div class="spinner-box">\n        <div class="spin"></div>\n    </div>\n</div>\n'},useData:!0})},function(e,t,n){var r=n(3);e.exports=(r["default"]||r).template({compiler:[7,">= 4.0.0"],main:function(e,t,n,r,o){var i,a,s=null!=t?t:{},u=n.helperMissing,c="function",l=e.escapeExpression,d=e.lambda;return'<div class="image-infobox" id="'+l((a=null!=(a=n.id||(null!=t?t.id:t))?a:u,typeof a===c?a.call(s,{name:"id",hash:{},data:o}):a))+'" style="top: '+l((a=null!=(a=n.y||(null!=t?t.y:t))?a:u,typeof a===c?a.call(s,{name:"y",hash:{},data:o}):a))+"px; left: "+l((a=null!=(a=n.x||(null!=t?t.x:t))?a:u,typeof a===c?a.call(s,{name:"x",hash:{},data:o}):a))+"px; width:"+l((a=null!=(a=n.width||(null!=t?t.width:t))?a:u,typeof a===c?a.call(s,{name:"width",hash:{},data:o}):a))+"px; height:"+l((a=null!=(a=n.height||(null!=t?t.height:t))?a:u,typeof a===c?a.call(s,{name:"height",hash:{},data:o}):a))+"px;"+l((a=null!=(a=n.debugStyle||(null!=t?t.debugStyle:t))?a:u,typeof a===c?a.call(s,{name:"debugStyle",hash:{},data:o}):a))+' overflow:hidden;">\n    '+(null!=(a=null!=(a=n.debugTxt||(null!=t?t.debugTxt:t))?a:u,i=typeof a===c?a.call(s,{name:"debugTxt",hash:{},data:o}):a)?i:"")+'\n    <a href="'+l(d(null!=(i=null!=t?t.content:t)?i.link:i,t))+'">\n        <img src="'+l((a=null!=(a=n.imgBase||(null!=t?t.imgBase:t))?a:u,typeof a===c?a.call(s,{name:"imgBase",hash:{},data:o}):a))+l(d(null!=(i=null!=t?t.content:t)?i.image:i,t))+'">\n    </a>\n</div>\n'},useData:!0})},function(e,t,n){var r=n(3);e.exports=(r["default"]||r).template({1:function(e,t,n,r,o){var i;return'src="'+e.escapeExpression((i=null!=(i=n.coverImage||(null!=t?t.coverImage:t))?i:n.helperMissing,"function"==typeof i?i.call(null!=t?t:{},{name:"coverImage",hash:{},data:o}):i))+'"'},3:function(e,t,n,r,o){return"Preview"},5:function(e,t,n,r,o){return"Read now"},compiler:[7,">= 4.0.0"],main:function(e,t,n,r,o){var i,a,s=null!=t?t:{},u=n.helperMissing,c="function",l=e.escapeExpression,d=e.lambda;return'<div class="publication" id="'+l((a=null!=(a=n.id||(null!=t?t.id:t))?a:u,typeof a===c?a.call(s,{name:"id",hash:{},data:o}):a))+'" style="top: '+l((a=null!=(a=n.y||(null!=t?t.y:t))?a:u,typeof a===c?a.call(s,{name:"y",hash:{},data:o}):a))+"px; left: "+l((a=null!=(a=n.x||(null!=t?t.x:t))?a:u,typeof a===c?a.call(s,{name:"x",hash:{},data:o}):a))+"px;"+l((a=null!=(a=n.debugStyle||(null!=t?t.debugStyle:t))?a:u,typeof a===c?a.call(s,{name:"debugStyle",hash:{},data:o}):a))+'">\n    <div class="publication-content">\n    '+(null!=(a=null!=(a=n.debugTxt||(null!=t?t.debugTxt:t))?a:u,i=typeof a===c?a.call(s,{name:"debugTxt",hash:{},data:o}):a)?i:"")+'\n    <a href="/'+l(d(null!=(i=null!=t?t.content:t)?i.ownerUsername:i,t))+"/docs/"+l(d(null!=(i=null!=t?t.content:t)?i.publicationName:i,t))+'" style="height:'+l((a=null!=(a=n.imgHeight||(null!=t?t.imgHeight:t))?a:u,typeof a===c?a.call(s,{name:"imgHeight",hash:{},data:o}):a))+'px" class="cover" >\n        <img '+(null!=(i=n["if"].call(s,null!=t?t.coverImage:t,{name:"if",hash:{},fn:e.program(1,o,0),inverse:e.noop,data:o}))?i:"")+' style="height:'+l((a=null!=(a=n.imgHeight||(null!=t?t.imgHeight:t))?a:u,typeof a===c?a.call(s,{name:"imgHeight",hash:{},data:o}):a))+'px" />\n        <span class="hint" style="line-height:'+l((a=null!=(a=n.imgHeight||(null!=t?t.imgHeight:t))?a:u,typeof a===c?a.call(s,{name:"imgHeight",hash:{},data:o}):a))+'px;" >'+(null!=(i=n["if"].call(s,null!=(i=null!=t?t.content:t)?i.isPreview:i,{name:"if",hash:{},fn:e.program(3,o,0),inverse:e.program(5,o,0),data:o}))?i:"")+'</span>\n    </a>\n    <div class="metadata">\n        <h3 class="title"><a href="/'+l(d(null!=(i=null!=t?t.content:t)?i.ownerUsername:i,t))+"/docs/"+l(d(null!=(i=null!=t?t.content:t)?i.publicationName:i,t))+'" class="unstyled type-discreet">'+l(d(null!=(i=null!=t?t.content:t)?i.title:i,t))+'</a></h3>\n        <p class="ownername">\n            <a href="/'+l(d(null!=(i=null!=t?t.content:t)?i.ownerUsername:i,t))+'">'+l(d(null!=(i=null!=t?t.content:t)?i.ownerUsername:i,t))+'</a>\n        </p>\n        <p class="description">\n            <a href="/'+l(d(null!=(i=null!=t?t.content:t)?i.ownerUsername:i,t))+"/docs/"+l(d(null!=(i=null!=t?t.content:t)?i.publicationName:i,t))+'" class="unstyled">'+l((a=null!=(a=n.shortDescription||(null!=t?t.shortDescription:t))?a:u,typeof a===c?a.call(s,{name:"shortDescription",hash:{},data:o}):a))+"</a>\n        </p>\n    </div>\n    </div>\n</div>\n"},useData:!0})},function(e,t,n){var r=n(3);e.exports=(r["default"]||r).template({compiler:[7,">= 4.0.0"],main:function(e,t,n,r,o){return'<div class="stream-spinner beige theme-light">\n    <div class="spinner small loading spin large"></div>\n    <p class="none">\n        Would you believe it? We\'ve got more than 25 million publications on issuu but nothing here. <br />Why don\'t you <a href="/explore">go exploring</a>?\n    </p>\n    <p class="nomore">\n        That\'s it.\n    </p>\n</div>\n'},useData:!0})},function(e,t,n){var r=n(3);e.exports=(r["default"]||r).template({1:function(e,t,n,r,o){return" profile-teaser--personal"},3:function(e,t,n,r,o){var i;return'        <li class="profile-teaser__counts-item">\n            '+e.escapeExpression(e.lambda(null!=(i=null!=t?t.user:t)?i.docCount:i,t))+' <span class="issuuicon issuuicon-file"></span>\n        </li>\n'},compiler:[7,">= 4.0.0"],main:function(e,t,n,r,o){var i,a=null!=t?t:{},s=e.lambda,u=e.escapeExpression;return'<div class="profile-teaser'+(null!=(i=n.unless.call(a,null!=(i=null!=t?t.user:t)?i.isBusiness:i,{name:"unless",hash:{},fn:e.program(1,o,0),inverse:e.noop,data:o}))?i:"")+'">\n    <a class="profile-teaser__cover" href="'+u(s(null!=t?t.profileUrl:t,t))+'">\n        <img class="profile-teaser__cover-image" src="'+u(s(null!=t?t.userPhotoUrl:t,t))+'" alt="'+u(s(null!=(i=null!=t?t.user:t)?i.displayName:i,t))+'">\n        <div class="profile-teaser__cover-overlay">See profile</div>\n    </a>\n    <h3 class="profile-teaser__title">\n        <a href="'+u(s(null!=t?t.profileUrl:t,t))+'" tabindex="-1">'+u(s(null!=(i=null!=t?t.user:t)?i.displayName:i,t))+'</a>\n    </h3>\n    <ul class="profile-teaser__counts">\n'+(null!=(i=n["if"].call(a,null!=(i=null!=t?t.user:t)?i.docCount:i,{name:"if",hash:{},fn:e.program(3,o,0),inverse:e.noop,data:o}))?i:"")+'        <li class="profile-teaser__counts-item">\n            '+u(s(null!=(i=null!=t?t.user:t)?i.stackCount:i,t))+' <span class="issuuicon issuuicon-stack"></span>\n        </li>\n        <li class="profile-teaser__counts-item">\n            '+u(s(null!=(i=null!=t?t.user:t)?i.subscriberCount:i,t))+' <span class="issuuicon issuuicon-people"></span>\n        </li>\n    </ul>\n    <p class="profile-teaser__description">\n        '+u(n.truncTxt.call(a,null!=(i=null!=t?t.user:t)?i.description:i,100,{name:"truncTxt",hash:{},data:o}))+"\n    </p>\n\n    "+(null!=(i=s(null!=t?t.followMenuMarkup:t,t))?i:"")+"\n</div>\n"},useData:!0})},,,,,,,,,,,,,,,,function(e,t,n){(function(t){"use strict";var r=t.Symbol,o=n(130);e.exports=function(){return"function"!=typeof r?!1:"function"!=typeof Symbol?!1:"symbol"!=typeof r("foo")?!1:"symbol"!=typeof Symbol("bar")?!1:o()}}).call(t,function(){return this}())},function(e,t){"use strict";e.exports=function(){if("function"!=typeof Symbol||"function"!=typeof Object.getOwnPropertySymbols)return!1;if("symbol"==typeof Symbol.iterator)return!0;var e={},t=Symbol("test"),n=Object(t);if("string"==typeof t)return!1;if("[object Symbol]"!==Object.prototype.toString.call(t))return!1;if("[object Symbol]"!==Object.prototype.toString.call(n))return!1;var r=42;e[t]=r;for(t in e)return!1;if("function"==typeof Object.keys&&0!==Object.keys(e).length)return!1;if("function"==typeof Object.getOwnPropertyNames&&0!==Object.getOwnPropertyNames(e).length)return!1;var o=Object.getOwnPropertySymbols(e);if(1!==o.length||o[0]!==t)return!1;if(!Object.prototype.propertyIsEnumerable.call(e,t))return!1;if("function"==typeof Object.getOwnPropertyDescriptor){var i=Object.getOwnPropertyDescriptor(e,t);if(i.value!==r||i.enumerable!==!0)return!1}return!0}},function(e,t){"use strict";var n=Date.prototype.getDay,r=function(e){try{return n.call(e),!0}catch(t){return!1}},o=Object.prototype.toString,i="[object Date]",a="function"==typeof Symbol&&"symbol"==typeof Symbol.toStringTag;e.exports=function(e){return"object"!=typeof e||null===e?!1:a?r(e):o.call(e)===i}},function(e,t,n){"use strict";var r=n(22),o=RegExp.prototype.exec,i=Object.getOwnPropertyDescriptor,a=function(e){try{var t=e.lastIndex;return e.lastIndex=0,o.call(e),!0}catch(n){return!1}finally{e.lastIndex=t}},s=Object.prototype.toString,u="[object RegExp]",c="function"==typeof Symbol&&"symbol"==typeof Symbol.toStringTag;e.exports=function(e){if(!e||"object"!=typeof e)return!1;if(!c)return s.call(e)===u;var t=i(e,"lastIndex"),n=t&&r(t,"value");return n?a(e):!1}},function(e,t,n){"use strict";var r=Object.prototype.toString,o=n(129)();if(o){var i=Symbol.prototype.toString,a=/^Symbol\(.*\)$/,s=function(e){return"symbol"!=typeof e.valueOf()?!1:a.test(i.call(e))};e.exports=function(e){if("symbol"==typeof e)return!0;if("[object Symbol]"!==r.call(e))return!1;try{return s(e)}catch(t){return!1}}}else e.exports=function(e){return!1}},function(e,t,n){var r=n(135);t.init=function(e){e.forEach(function(e){var t=e.name,n=e.config||{};switch(t){case"a9":r.init(n)}})},t.requestBids=function(e,t,n,o,i){function a(e){s[e]=!0;var t=Object.keys(s).map(function(e){return s[e]}).filter(Boolean).length;t===o.length&&i()}var s={};o.forEach(function(o){var i=o.name;switch(s[i]=!1,i){case"a9":r.fetchBids(e,t,n,a);break;default:a(i)}})}},function(e,t){var n="a9";t.init=function(e){e.pubID&&(!function(e,t,n,r,o,i,a){function s(n,r){t[e]._Q.push([n,r])}t[e]||(t[e]={init:function(){s("i",arguments)},fetchBids:function(){s("f",arguments)},setDisplayBids:function(){},targetingKeys:function(){return[]},_Q:[]},i=n.createElement(r),i.async=!0,i.src=o,a=n.getElementsByTagName(r)[0],a.parentNode.insertBefore(i,a))}("apstag",window,document,"script","//c.amazon-adsystem.com/aax2/apstag.js"),window.apstag.init({pubID:e.pubID,adServer:"googletag"}))},t.fetchBids=function(e,t,r,o){if(!window.apstag)return void o(n);var i={slotID:e,slotName:t,sizes:Array.isArray(r[0])?r:[r]};window.apstag.fetchBids({slots:[i]},function(){window.apstag.setDisplayBids(),o(n)})}},function(e,t,n){function r(e,t,n){return e[t]={subscribed:n},n}function o(e,t){return e[t]&&e[t].subscribed}function i(e){return"object"!=typeof f[e]&&l.error(new Error("Invalid subscription type")),f[e]}function a(e,t){var n=new c.Deferred,o=i(e);if(!d.isLoggedIn())return n.resolve(!1),n;var a={};
return a[o.apiParam]=t,p.create({action:o.apiActionStop,cache:!1,type:"POST"}).parameters(a).call().then(function(e){n.resolve(r(o,t,!1))},function(){n.resolve(!0)}),n}function s(e,t){var n=new c.Deferred,o=i(e);if(!d.isLoggedIn())return n.resolve(!1),n;var a={};return a[o.apiParam]=t,p.create({action:o.apiActionStart,cache:!1,type:"POST"}).parameters(a).call().then(function(e){n.resolve(r(o,t,!0))},function(){n.resolve(!1)}),n}var u=n(1),c=n(5),l=n(2),d=n(13),p=n(11),f={stack:{apiParam:"stackId",apiParamBatch:"stackIds",apiActionGet:"issuu.stack.get_subscription",apiActionGetBatch:"issuu.stack.get_subscriptions",apiActionStart:"issuu.stack.subscribe",apiActionStop:"issuu.stack.unsubscribe"},publisher:{apiParam:"subscribedUsername",apiActionGet:"issuu.user.get_subscription",apiActionStart:"issuu.user.subscribe",apiActionStop:"issuu.user.unsubscribe"}};t.setInitialSubscription=function(e,t,n){(u.isUndefined(e)||u.isUndefined(t)||u.isUndefined(n))&&l.error(new Error("setInitialSubscription expects three parameters."));var o=i(e);r(o,t,n)},t.getSubscription=function(e,t,n){var a=new c.Deferred,s=i(e);if(!d.isLoggedIn())return a.resolve(!1),a.promise();if(n!==!0&&!u.isUndefined(o(s,t)))return a.resolve(o(s,t)),a.promise();var l={};l[s.apiParam]=t;var f=p.create({action:s.apiActionGet,isReadOnly:!0}).parameters(l);return n===!0&&f.deleteCache(),f.call().then(function(e){a.resolve(r(s,t,void 0!==e))},function(){a.resolve(!1)}),a.promise()},t.toggleSubscription=function(e,t,n){var u,c=i(e);return"boolean"==typeof n&&r(c,t,!n),u=o(c,t)===!0?a(e,t):s(e,t),u.notify(!o(c,t)),u.promise()},t.getSubscriptions=function(e,t){if("stack"!==e)return l.error(new Error("Invalid subscription type, must be of type stack")),null;var n=new c.Deferred,o=i(e),a=u.times(t.length,function(){return!1});if(!d.isLoggedIn())return n.resolve(a),n.promise();var s={};return s[o.apiParamBatch]=t.join(","),p.create({action:o.apiActionGetBatch,isReadOnly:!0}).parameters(s).call().then(function(i){var a=u.map(i,function(n,i){var a=n&&n[e+"_subscription"];return r(o,t[i],a)});n.resolve(a)},function(){n.resolve(a)}),n.promise()}},function(e,t,n){(function(e){function n(e){var t;if(0===e.length)throw new Error("Can not find value for: ",name);return 1===e.length?t="checkbox"===e.attr("type")?e.is(":checked")?"on":"off":e.val():"radio"===e.attr("type")&&(t=$("input:radio[name="+name+"]:checked").val()),t}function r(e,t){var r=e.attr("type");r=r?r.toLowerCase():r;var o=n(e);(e.is("textarea")||e.is("input")&&("text"===r||""===r))&&e.on("keyup",function(){var r=n(e);r!==o&&(t(),o=r)}),(e.is(":radio")||e.is(":checkbox"))&&e.on("change",function(){t()})}var o={onChange:"",field:""};t.init=function(t){function i(){return n(s.field)}function a(e){r(s.field,e)}var s=e.assign(o,t);if(!s.field)throw new Error("You must specify a field.");s.field=$(s.field),s.onChange=s.onChange,s.onChange&&r(s.field,s.onChange);var u={change:a,getValue:i};return u}}).call(t,n(1))},function(e,t,n){(function(e){t.create=function(t,n){function r(t){var n=e.filter(C,function(e){return e.testId===t}),r=n[0]&&n[0].context?n[0].context:$("somethingThatDoesNotExist");return r}function o(){k?x.html(k):x.html(""),x.removeClass("showAsError")}function i(t,r){var o=$("[name="+t+"]",r);if(o.removeClass("error"),(o.parent().is("label")||o.parent().hasClass("checkbox"))&&o.parent().removeClass("error"),n){var i=e.find(n,{id:t});i&&"other"!==t&&$(i.rapportElm).removeClass("showAsError").html("").css("display","none")}}function a(t,n,r){E[t]?(E[t]=e.without(E[t],n),0===E[t].length&&(i(t,r),delete E[t])):i(t,r)}function s(){e.forEach(C,function(e){a(e.name,e.testId,e.context)}),C=[],o()}function u(r,o){if(r)if(x.hasClass("showAsError")||(k=x.html()),x.html()!==r&&t.onReportError&&t.onReportError(r,o.join(",")),n){var i=e.find(n,function(t){return e.reduce(e.map(o,function(n){return e.contains(t.match,n)}),function(e,t){return e&&t})});if(i){var a=$(i.rapportElm);a.addClass("showAsError"),a.html(r);var s=a.data("display");a.css("display",s?s:"block")}}else x.addClass("showAsError"),x.html(r)}function c(e,t){var n=$("[name="+e+"]",t);n.addClass("error"),(n.parent().is("label")||n.parent().hasClass("checkbox"))&&n.parent().addClass("error")}function l(e,t,n){E[e]?E[e]=[].concat(E[e]).concat(t):E[e]=[t],c(e,n)}function d(){if(n){var t=e.find(n,{id:"other"});t&&$(t.rapportElm).html("").css("display","none")}}function p(){if(C.length>0){var t=C[C.length-1],n=t&&t.result&&t.result.error?t.result.error:"Something is wrong here.",r=t&&t.result&&t.result.fields?t.result.fields:[];e.forEach(r,function(e){l(e,t.testId,t.context)}),u(n,r)}else o()}function f(e,t,n,r){C.push({name:e,testId:t,result:n,context:r?$(r):$("body")}),p()}function m(t){var n=[],r=e.map(C,function(e){return e.testId===t?(n.push(e),!1):e});C=e.compact(r),e.forEach(n,function(t){e.forEach(t.result.fields,function(e){a(e,t.testId,t.context)})}),p()}function h(e,t){a(e,t,r(t))}function g(t,n){var r=e.filter(C,function(r){return r===!0||void 0===r?!1:-1!==e.indexOf(r.result.fields,t)&&r.context===n}),o=r[0]&&r[0].result&&r[0].result.error?r[0].result.error:"";return o}function v(e,t){var n=g(e,t);n&&x.html(n)}function y(t,n,r){if(t&&!e.isArray(t))throw new Error("fieldnames should be an array");f("postSubmit","serverError",{error:n,fields:t},r),p()}function b(e,t){m("serverError"),p()}function w(){return{errors:C}}var x;x="object"==typeof t?$(t.reportElmStr):$(t);var C=[],k=x.html(),E={},_={removeAllErrors:s,addError:f,removeError:m,showErrorsIfAny:p,fieldIsValid:h,displayErrorFor:v,addPostSubmitError:y,removePostSubmitError:b,getStatusReport:w,removeOtherErrors:d};return _}}).call(t,n(1))},function(e,t,n){function r(){return{ok:!0,message:""}}function o(e,t){return{ok:!1,message:t||e}}function i(e){return function(){var t=new $.Deferred,n=e.apply(null,Array.prototype.slice.call(arguments));return t.resolve(n),t.promise()}}var a=n(11),s=n(14).__;t.required=function(e,t){return $.trim(e)?r():o(s("This field is required"),t)},t.bothWrong=function(e,t,n){return e||t?r():o(s("Please enter both fields"),n)},t.optional=function(e,n,o){return 0===e.length?r():t[n].apply(null,arguments)},t.requiredIfOtherDontMatch=function(e,t,n,i){return t===n||e?r():o(s("This field is required"),i)},t.requiredIfOtherNonempty=function(e,t,n){return t&&!e?o(s("This field is required"),n):r()},t.length=function(e,t,n,i){return e.length<t||e.length>n?o(s("Please enter between %(minlength)s and %(maxlength)s characters",{minlength:t,maxlength:n}),i):r()},t.minlength=function(e,t,n){return $.trim(e).length<t?o(s("Please enter at least %(minlength)s characters",{minlength:t}),n):r()},t.maxlength=function(e,t,n){return e.length>t?o(s("Please don't enter more than %(maxlength)s characters",{maxlength:t}),n):r()},t.min=function(e,t,n){return isNaN(e)||Number(e)<t?o(s("You must be %(min)s years old to use issuu",{min:t}),n):r()},t.max=function(e,t,n){return isNaN(e)||Number(e)>t?o(s("Please enter a value less than or equal to %(max)s",{max:t}),n):r()},t.range=function(e,t,n,i){return isNaN(e)||Number(e)<t||Number(e)>n?o(s("Please enter a value between %(min)s and %(max)s",{min:t,max:n}),i):r()},t.email=function(e,t){var n=/^((([a-z]|\d|[!#\$%&'\*\+\-\/=\?\^_`{\|}~]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])+(\.([a-z]|\d|[!#\$%&'\*\+\-\/=\?\^_`{\|}~]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])+)*)|((\x22)((((\x20|\x09)*(\x0d\x0a))?(\x20|\x09)+)?(([\x01-\x08\x0b\x0c\x0e-\x1f\x7f]|\x21|[\x23-\x5b]|[\x5d-\x7e]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(\\([\x01-\x09\x0b\x0c\x0d-\x7f]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]))))*(((\x20|\x09)*(\x0d\x0a))?(\x20|\x09)+)?(\x22)))@((([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.)+(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))$/i;return n.test(e)?r():o(s("Please enter a valid email address"),t)},t.url=function(e,t){var n=/^((https?|ftp):\/\/)?(((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:)*@)?(((\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5]))|((([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.)+(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.?)(:\d*)?)(\/((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)+(\/(([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)*)*)?)?(\?((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|[\uE000-\uF8FF]|\/|\?)*)?(\#((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|\/|\?)*)?$/i;return n.test(e)?r():o(s("Please enter a valid URL"),t)},t.number=function(e,t){var n=/^-?(?:\d+|\d{1,3}(?:,\d{3})+)?(?:\.\d+)?$/;return n.test(e)?r():o(s("Please enter a number"),t)},t.digits=function(e,t){var n=/^\d+$/;return n.test(e)?r():o(s("Please use only digits"),t)},t.equalTo=function(e,t,n){return e!==t?o(s("These fields don't match"),n):r()},t.notEqualTo=function(e,t,n){return e===t?o(s("No good. Please try another value"),n):r()},t.username=function(e,t){var n=/^(([a-zA-Z0-9_\-\.]{4,40}|ads)$)/g;return n.test(e)?r():o(s("This is not a valid username"),t)},t.usernameOrEmail=function(e,n){return t.username(e).ok||t.email(e).ok?r():o(s("This is not a valid username or email"),n)},t.docname=function(e,t){var n=/^[a-z0-9_.\-]{1,100}$/;return n.test(e)?r():o(s("This is not a valid document name"),t)},t.usernameAvailablePromise=function(e,t,n){var i=new $.Deferred;return a.create({action:"issuu.user.username_available",cache:!0}).parameters({username:e}).call().then(function(n){e===t()&&i.resolve(r())},function(r){var a,u=r._content&&r._content.error&&r._content.error.code?parseInt(r._content.error.code,10):0;switch(u){case 100:a=s("This username is taken. Why don't you come up with a different one?");break;case 201:a=s("No fancy characters. Stick to 'a-z', '0-9', and '-_'. And give use at least four of them, please.");break;default:a=s("No fancy characters. Stick to 'a-z', '0-9', and '-_'. And give use at least four of them, please.")}e===t()&&i.resolve(o(a,n))}),i.promise()},t.newusername=function(e,n,r){var o=t.username(e);return o.ok===!0?t.usernameAvailablePromise(e,n,r):(new $.Deferred).resolve(o).promise()},t.emailAvailablePromise=function(e,t,n){var i=new $.Deferred;return a.create({action:"issuu.user.email_available",cache:!0}).parameters({email:e}).call().then(function(n){e===t()&&i.resolve(r())},function(r){e===t()&&i.resolve(o('This email is already used for an issuu account. You can <a href="/signin">sign in here</a>',n))}),i.promise()},t.newemail=function(e,n,r){var o=t.email(e);return o.ok?t.emailAvailablePromise(e,n,r):(new $.Deferred).resolve(o).promise()},t.promisify=i,t.promised={required:i(t.required),optional:i(t.optional),requiredIfOtherDontMatch:i(t.requiredIfOtherDontMatch),requiredIfOtherNonempty:i(t.requiredIfOtherNonempty),length:i(t.length),minlength:i(t.minlength),maxlength:i(t.maxlength),min:i(t.min),max:i(t.max),range:i(t.range),email:i(t.email),url:i(t.url),number:i(t.number),digits:i(t.digits),equalTo:i(t.equalTo),notEqualTo:i(t.notEqualTo),usernameAvailable:t.usernameAvailablePromise,emailAvailable:t.emailAvailablePromise,username:i(t.username),docname:i(t.docname),usernameOrEmail:i(t.usernameOrEmail),newusername:t.newusername,newemail:t.newemail,bothWrong:i(t.bothWrong)}},function(e,t,n){(function(e){t.create=function(t){function r(){return K++,z+"-TE"+K}function o(e){var t,n=q.find("[name="+e+"]");if(0===n.length)throw new Error("Can not find value for: ",e);return 1===n.length?t="checkbox"===n.attr("type")?n.is(":checked")?"on":"off":n.val():"radio"===n.attr("type")&&(t=$("input:radio[name="+e+"]:checked").val()),t}function i(e,t){X[e]=t}function a(e){return X[e]}function s(t){var n=e.filter(X,function(n){return n===!0||void 0===n?!1:-1!==e.indexOf(n.fields,t)?!0:!1});return n}function u(){var t=[];return e.forEach(X,function(e,n){void 0===e&&t.push(n)}),t}function c(e,t){Y[e]?Y[e]=[].concat(Y[e]).concat(t):Y[e]=[t]}function l(e,t){J[e]=t}function d(){var t=[];return e.forEach(Y,function(n){e.forEach(n,function(e){t.push(e())})}),t}function p(t){if(1!==arguments.length||!e.isObject(t))throw new Error("Plase pass definition as an object");if(t.extraParams&&!e.isArray(t.extraParams))throw new Error("New style of validator, plase pass definition as an object");Q.push(t);var n=t.func,s=t.fields,d=r();if(i(d,void 0),t.testName&&(G[t.testName]=d),!e.isArray(s))throw new Error("namesArr is not an array: ",s);if("function"!=typeof n)throw new Error("func is not a function: "+s[0]);var p=t.extraParams;return e.forEach(s,function(r,h,g){var v=q.find("[name="+r+"]");if(0===v.length)throw new Error("No element found for name: "+r);var y=function(u){if(t.testName&&ke[d]&&ke[d]===!0)return null;var c=e.map(s,o);c=c.concat(p),t.errorText&&(c=c.concat(t.errorText));var l=n.apply(null,c);return $.when(l).then(function(e){var t;t=e.ok?!0:{testId:d,fields:s,error:e.message},xe.state?t===!0&&(i(d,t),V[r]=void 0):u&&t!==!0||(f(s),i(d,t),m(s,d),ue(r,d,a(d)))},function(e){}),l};c(r,y),t.testName&&l(t.testName.toString(),y),(-1!==["text","password","email","color","date","datetime","datetime-local","month","number","range","search","tel","time","url","week"].indexOf(v.attr("type"))||v.is("textarea"))&&v.keyup(function(){1===u().length&&u()[0]===d?y(!0):(V[r]===!0||void 0!==a(d))&&y()}),(v.is("select")||v.is(":radio")||v.is(":checkbox"))&&v.change(function(){var t=!0;v.is("select")&&e.forEach(g,function(e){V[e]===!0||a(d)||(t=!1)}),t&&y()}),v.focus(function(e){this.originalvalue=o(r),pe(r)}),v.blur(function(t){var n=o(r);if(n&&(V[r]=!0),n!==this.originalvalue){var i=!0;v.is("select")&&e.forEach(g,function(e){V[e]===!0||a(d)||(i=!1)}),i&&y()}le(r)})}),Ee}function f(t){B=P(),e.forEach(t,function(e){Z[e]=s(e)})}function m(t,n){W=P(),B===!1&&W===!0?ne():B===!0&&W===!1&&ie(),e.forEach(t,function(e){ee[e]=s(e),Z[e].length>0&&0===ee[e].length?me(e,!0,n):0===Z[e].length&&ee[e].length>0&&me(e,ee[e],n)})}function h(t,n){return function(){var r=Array.prototype.slice.call(arguments);n&&n.apply(null,r),e.forEach(t,function(e){e.apply(null,r)})}}function g(e){return function(t){return e.push(t),Ee}}function v(e){se.push(e)}function y(e){ce.push(e)}function b(e){de.push(e)}function w(e){fe.push(e)}function x(e){he.push(e)}function C(e){ve.push(e)}function k(e){var t=r();return i(t,e.isAllValid()),e.onAllValid(function(){f(),i(t,!0),m()}),e.onAllNotValid(function(e){f(),i(t,!1),m()}),e.onActivity(function(e,t,n){ue(e,t,n)}),e.onPause(function(){f(),i(t,!0),m()}),e.onUnPause(function(){f(),i(t,e.isAllValid()),m()}),e.onBlured(function(e){le(e)}),e.onFocused(function(e){pe(e)}),e.onFieldEvent(function(e,t){me(e,t)}),be.push(e),Ee}function E(t,n){var r=[];return e.forEach(be,function(e){r.push(e[t].apply(null,n))}),r}function _(e){we.push(e)}function I(t,n){var r=[];return e.forEach(we,function(e){r.push(e[t].apply(null,n))}),r}function S(e){J[e]&&J[e]()}function T(){xe.state=!0,E("pause",[]),ge()}function A(){xe.state=!1,E("unPause",[]),ye()}function P(){var e=[];for(var t in X)X[t]===!0||ke[t]||e.push(t);return 0===e.length}function F(e,t){E("getResultsForField",[e,t]);var n=s(e);n&&t(n)}function O(){var e=E("runAllTests",[]),t=d(),n=e.concat(t);return $.when.apply(null,n).then(function(){return"validator: "+z+" says all tests have run."})}function D(){var n=[];return e.forEach(Y,function(r,o){var i=Ce.init({field:$("[name="+o+"]",t)});i.getValue()&&e.forEach(r,function(e){var r=$("[name="+o+"]",t).is("select");n.push(e(r))})}),n}function R(e){var t=E("testAllFieldsWithContent",[]),n=D(),r=t.concat(n);return $.when.apply(null,r).then(function(){return"validator: "+z+" says all tests have run."})}function j(){return{tests:Y,blurredFields:V,isPaused:xe,validatorId:z,testStatus:X,subValidators:E("getStatusReport",[]),reporters:I("getStatusReport",[]),isAllValid:P()}}function U(t){var n=e.find(Q,{testName:t});if(!n)throw new Error("You are pausing a test that does not exist: "+t);return f(n.fields),ke[G[t]]=!0,m(n.fields,G[t]),Ee}function N(t){var n=e.find(Q,{testName:t});if(!n)throw new Error("You are unPausing a test that does not exist: "+t);return f(n.fields),delete ke[G[t]],m(n.fields,G[t]),Ee}function L(){xe.state=!1,V={},X={},ke={},I("removeAllErrors",[]),ie(),E("resetForm",[])}function M(){X={},V={},E("forgetBlured",[])}function H(){E("cleanupListeners",[])}var B,W,q=t?$(t):void 0,z="VA"+Math.round(Math.random()*(new Date).getTime()/1e6),K=0,V={},G={},X={},Y={},J={},Q=[],Z={},ee={},te=[],ne=h(te,function(){}),re=g(te),oe=[],ie=h(oe,function(){}),ae=g(oe),se=[],ue=h(se,function(e,t,n){I("removePostSubmitError",[e,q]),n===!0?I("removeError",[t]):I("addError",[e,t,n,q])}),ce=[],le=h(ce),de=[],pe=h(de,function(e){I("displayErrorFor",[e,q])}),fe=[],me=h(fe,function(e,t,n){t===!0&&I("fieldIsValid",[e,n])}),he=[],ge=h(he,function(){}),ve=[],ye=h(ve,function(){}),be=[],we=[],xe={state:!1},Ce=n(137),ke={},Ee={addTest:p,onAllValid:re,onAllNotValid:ae,onActivity:v,onBlured:y,onFocused:b,onFieldEvent:w,onPause:x,onUnPause:C,pause:T,unPause:A,pauseTest:U,unPauseTest:N,isAllValid:P,runAllTests:O,testAllFieldsWithContent:R,runTestWithTestName:S,getResultsForField:F,addValidator:k,addReporter:_,getStatusReport:j,resetForm:L,forgetBlured:M,cleanupListeners:H};return Ee}}).call(t,n(1))},function(e,t,n){(function(e){!function(e,r){r(t,n(142))}(this,function(t,n){"use strict";function r(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(o[n]=e[n]);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}function o(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e,o=t.noCache,i=r(t,[]);return o&&(n="".concat(e).concat(-1!==e.indexOf("?")?"&":"?","_=").concat(Date.now()),i=Object.assign({},i,{headers:Object.assign({},i.headers,{"Cache-Control":"no-cache"})})),y(n,i)}function i(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return"undefined"!=typeof document&&(t=document.cookie.replace(/(?:(?:^|.*;\s*)CSRF-TOKEN\s*=\s*([^;]*).*$)|^.*$/,"$1")),n&&n.req&&(t=n.req.cookies["CSRF-TOKEN"]),y(e,Object.assign({},n,{method:n&&n.method?n.method:"POST",headers:Object.assign({"X-Csrf-Token":t},n.headers)}))}n=n&&n.hasOwnProperty("default")?n["default"]:n;var a="issuu-libs-request",s="1.7.0",u={error:n("".concat(a,":").concat(s,":error")),info:n("".concat(a,":").concat(s,":info"))};u.info.log=console.log.bind(console);var c;try{c="production"===e.env.NODE_ENV}catch(l){c=!0}var d=function(e){return Object.keys(e).reduce(function(t,n){return t+"".concat(n,"=").concat(e[n],"; ")},"").slice(0,-2)},p=function(e){return Object.keys(e).map(function(t){return"".concat(encodeURIComponent(t),"=").concat(encodeURIComponent(e[t]))}).join("&")},f="ERROR_REQUEST",m="ERROR_AUTH",h="ERROR_API",g="ERROR_NOT_FOUND",v="ERROR_JSON_DECODE",y=function(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=Date.now();if(n.fetch)t=n.fetch;else{if("undefined"==typeof fetch)throw new Error('No usable fetch function found. Use a polyfill or provide it as "fetch" option');t=fetch}var o=Object.assign({credentials:"same-origin",timeout:c?4e3:void 0},n,{body:JSON.stringify(n.body),req:void 0}),i=n.cookies||{};n.req&&(i=Object.assign({},i,{"site.model.username":n.req.cookies["site.model.username"],"site.model.token":n.req.cookies["site.model.token"]})),o=Object.assign({},o,{headers:Object.assign({Cookie:d(i)},n.headers)});var a=o.method||"GET",s=e;return n.body&&"GET"===a&&(s="".concat(e.split("?")[0],"?").concat(p(n.body||{})),o.body=void 0),t(s,o)["catch"](function(e){return u.error("".concat(a," ").concat(s," ").concat(f," ").concat(e.message)),Promise.reject({type:f,url:s,options:n,nativeError:e})}).then(function(e){return e.text().then(function(e){return o.textResponse?e||"":e?JSON.parse(e):{}})["catch"](function(e){return u.error("".concat(a," ").concat(s," ").concat(v," ").concat(e.message)),Promise.reject({type:v,url:s,nativeError:e})}).then(function(t){var n=Date.now()-r;if(!e.ok){var o;o=403===e.status?m:404===e.status?g:h,u.error("".concat(a," ").concat(s," ").concat(o," ").concat(e.status,": ").concat(e.statusText,", response: %o"),t);var i="string"==typeof t?{payload:t}:t;return Promise.reject(Object.assign({},i,{type:o,url:s}))}return u.info("".concat(a," ").concat(s," ").concat(e.status," ").concat(n,"ms")),t})})};t.ERROR_REQUEST=f,t.ERROR_AUTH=m,t.ERROR_API=h,t.ERROR_NOT_FOUND=g,t.ERROR_JSON_DECODE=v,t.makeRequest=y,t.fetchData=o,t.doAction=i,Object.defineProperty(t,"__esModule",{value:!0})})}).call(t,n(25))},function(e,t,n){(function(r){"use strict";function o(e){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function i(){return"undefined"!=typeof window&&window.process&&("renderer"===window.process.type||window.process.__nwjs)?!0:"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/)?!1:"undefined"!=typeof document&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||"undefined"!=typeof window&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)}function a(t){if(t[0]=(this.useColors?"%c":"")+this.namespace+(this.useColors?" %c":" ")+t[0]+(this.useColors?"%c ":" ")+"+"+e.exports.humanize(this.diff),this.useColors){var n="color: "+this.color;t.splice(1,0,n,"color: inherit");var r=0,o=0;t[0].replace(/%[a-zA-Z%]/g,function(e){"%%"!==e&&(r++,"%c"===e&&(o=r))}),t.splice(o,0,n)}}function s(){var e;return"object"===("undefined"==typeof console?"undefined":o(console))&&console.log&&(e=console).log.apply(e,arguments)}function u(e){try{e?t.storage.setItem("debug",e):t.storage.removeItem("debug")}catch(n){}}function c(){var e;try{e=t.storage.getItem("debug")}catch(n){}return!e&&"undefined"!=typeof r&&"env"in r&&(e=r.env.DEBUG),e}function l(){try{return localStorage}catch(e){}}t.log=s,t.formatArgs=a,t.save=u,t.load=c,t.useColors=i,t.storage=l(),t.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"],e.exports=n(143)(t);var d=e.exports.formatters;d.j=function(e){try{return JSON.stringify(e)}catch(t){return"[UnexpectedJSONParseError]: "+t.message}}}).call(t,n(25))},function(e,t,n){"use strict";function r(e){function t(e){for(var t=0,n=0;n<e.length;n++)t=(t<<5)-t+e.charCodeAt(n),t|=0;return r.colors[Math.abs(t)%r.colors.length]}function r(e){function n(){if(n.enabled){for(var e=arguments.length,t=new Array(e),o=0;e>o;o++)t[o]=arguments[o];var i=n,s=Number(new Date),u=s-(a||s);i.diff=u,i.prev=a,i.curr=s,a=s,t[0]=r.coerce(t[0]),"string"!=typeof t[0]&&t.unshift("%O");var c=0;t[0]=t[0].replace(/%([a-zA-Z%])/g,function(e,n){if("%%"===e)return e;c++;var o=r.formatters[n];if("function"==typeof o){var a=t[c];e=o.call(i,a),t.splice(c,1),c--}return e}),r.formatArgs.call(i,t);var l=i.log||r.log;l.apply(i,t)}}var a;return n.namespace=e,n.enabled=r.enabled(e),n.useColors=r.useColors(),n.color=t(e),n.destroy=o,n.extend=i,"function"==typeof r.init&&r.init(n),r.instances.push(n),n}function o(){var e=r.instances.indexOf(this);return-1!==e?(r.instances.splice(e,1),!0):!1}function i(e,t){return r(this.namespace+("undefined"==typeof t?":":t)+e)}function a(e){r.save(e),r.names=[],r.skips=[];var t,n=("string"==typeof e?e:"").split(/[\s,]+/),o=n.length;for(t=0;o>t;t++)n[t]&&(e=n[t].replace(/\*/g,".*?"),"-"===e[0]?r.skips.push(new RegExp("^"+e.substr(1)+"$")):r.names.push(new RegExp("^"+e+"$")));for(t=0;t<r.instances.length;t++){var i=r.instances[t];i.enabled=r.enabled(i.namespace)}}function s(){r.enable("")}function u(e){if("*"===e[e.length-1])return!0;var t,n;for(t=0,n=r.skips.length;n>t;t++)if(r.skips[t].test(e))return!1;for(t=0,n=r.names.length;n>t;t++)if(r.names[t].test(e))return!0;return!1}function c(e){return e instanceof Error?e.stack||e.message:e}return r.debug=r,r["default"]=r,r.coerce=c,r.disable=s,r.enable=a,r.enabled=u,r.humanize=n(75),Object.keys(e).forEach(function(t){r[t]=e[t]}),r.instances=[],r.names=[],r.skips=[],r.formatters={},r.selectColor=t,r.enable(r.load()),r}e.exports=r},function(e,t,n){!function(e,r){r(t,n(145),n(141),n(201))}(this,function(e,t,n,r){"use strict";function o(e,t){var n=[],r=!0,o=!1,i=void 0;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(u){o=!0,i=u}finally{try{r||null==s["return"]||s["return"]()}finally{if(o)throw i}}return n}function i(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return o(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")}function a(e){return function(t){if(!t||Array.isArray(t)&&0===t.length)return Promise.resolve();var n=Array.isArray(t)?t:[t],r=n.map(function(e){return Object.assign({version:"1.0.0"},e)}),o={type:"monitor",version:"2.2.0",origin:_,data:r};return I(o,e)}}function s(e){return function(t,n,r){if(!t||Array.isArray(t)&&0===t.length)return Promise.resolve();var o=Object.assign({},n,{browser_size:"".concat(window.innerWidth,"x").concat(window.innerWidth),events:Array.isArray(t)?t:[t]}),i={type:"website",version:"2.2.0",origin:_,data:{username:document.cookie.replace(/(?:(?:^|.*;\s*)site.model.username\s*=\s*([^;]*).*$)|^.*$/,"$1")||null,ui_language:document.documentElement&&document.documentElement.lang||null,location:window.location.href.toString(),referrer:r||document.referrer||null,version:"2.2.2",contexts:[o]}};return I(i,e)}}function u(e,t,n,r){var o=document.createElement("script");o.id=e,o.async=!0,o.src=t,o.onload=function(){n&&n()},o.onerror=function(){r&&r(new Error("Failed to load script ".concat(t)))},document.head&&document.head.appendChild(o)}function c(){var e=window.mixpanel||[];if(!e.__SV){try{var t,n,r,o=window.location,i=o.hash;t=function(e,t){return n=e.match(new RegExp(t+"=([^&]*)")),n?n[1]:null},i&&t(i,"state")&&(r=JSON.parse(decodeURIComponent(t(i,"state"))),"mpeditor"===r.action&&(window.sessionStorage.setItem("_mpcehash",i),history.replaceState(r.desiredHash||"",document.title,o.pathname+o.search)))}catch(a){}var s,c,l="mixpanel";window[l]=e,e._i=[],e.init=function(t,n,r){function o(e,t){var n=t.split(".");2===n.length&&(e=e[n[0]],t=n[1]),e[t]=function(){e.push([t].concat(Array.prototype.slice.call(arguments,0)))}}var i=e;for("undefined"!=typeof r?i=e[r]=[]:r=l,i.people=i.people||[],i.toString=function(e){var t=l;return r!==l&&(t+="."+r),e||(t+=" (stub)"),t},i.people.toString=function(){return i.toString(1)+".people (stub)"},s="disable time_event track track_pageview track_links track_forms register register_once alias unregister identify name_tag set_config reset people.set people.set_once people.unset people.increment people.append people.union people.track_charge people.clear_charges people.delete_user".split(" "),c=0;c<s.length;c++)o(i,s[c]);e._i.push([t,n,r])},e.__SV=1.2;var d;d="undefined"!=typeof MIXPANEL_CUSTOM_LIB_URL?MIXPANEL_CUSTOM_LIB_URL:"file:"===document.location.protocol&&S.match(/^\/\//)?"https:"+S:S,u("mixpanel",d)}return window.mixpanel}function l(e,t,n,o){var i=r.parse(t),a=n.reduce(function(e,t){return e[t]=i[t]||null,e},{});if(n.some(function(e){return a[e]}))a[o]=Date.now(),e.register(a);else{var s=parseInt(e.get_property(o),10)||0,u=6048e5,c=Date.now()-s>u;c&&(e.unregister(o),Object.keys(a).forEach(function(t){return e.unregister(t)}))}}function d(e){var t=["issuu_product","issuu_subproduct","issuu_context","issuu_cta"],n=r.parse(e);return t.reduce(function(e,t){return e[t]=n[t]||null,e},{})}function p(e){return window.ga||(u("google-analytics","https://www.google-analytics.com/analytics.js"),window.ga=function(){for(var e=arguments.length,t=new Array(e),n=0;e>n;n++)t[n]=arguments[n];(window.ga.q=window.ga.q||[]).push(t)},window.ga.l=+new Date,window.ga("create",{trackingId:e,cookieDomain:"auto"})),window.ga}function f(e){return window.__qc||(window._qevents=[],u("quantcast","https://secure.quantserve.com/quant.js")),function(){window.__qc&&(window.__qc.qpixelsent=[]),window._qevents.push({qacct:e})}}function m(e,t){return t.noPlanInfo?Promise.resolve():k&&!t.forcePlanCheck?k:k=n.fetchData("/res/licensing/".concat(e,"/publisher_plan")).then(function(e){return"ok"===e.rsp.stat?Promise.resolve(e.rsp._content):Promise.reject(e.rsp._content)}).then(function(e){return e.plan})["catch"](function(e){return C.error("could not get user license, %o",e),"free"})}function h(e){if("undefined"!=typeof document){var t=new RegExp("(?:(?:^|.*;\\s*)".concat(e,"\\s*\\=\\s*([^;]*).*$)|^.*$"));return document.cookie.replace(t,"$1")}return""}function g(e){var t=h("site.model.username"),n=h("site.model.token");return t&&n?m(t,e).then(function(e){return{username:t,current_plan:e}}):Promise.resolve({})}function v(e){if(E&&window.mixpanel)return E;var t=new Promise(function(t){return c().init(e,{loaded:t})}).then(function(){l(window.mixpanel,window.location.search,["utm_source","utm_medium","utm_campaign","utm_content","utm_term"],"utm_timestamp"),l(window.mixpanel,window.location.search,["embed_id","embed_domain","embed_context","embed_cta"],"embed_timestamp")}),n=function(e){return new Promise(function(t){return setTimeout(t,e)})};return E=function(e){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return Promise.all([g(o),Promise.race([t,n(500)])]).then(function(t){var o=i(t,1),a=o[0],s=Object.assign({},a,r,d(window.location.search)),u=window.mixpanel.track(e,s);return u?C.info('tracking "'.concat(u.event,'" with payload %o'),u.properties):C.info('(deffered) tracking "'.concat(e,'" with payload %o'),s),n(500)})["catch"](function(e){C.error("error while attempting to track, %o",e)})},E.__native=window.mixpanel,E}function y(e){return window.fbq?window.fbq:(window.fbq=function(){for(var e=arguments.length,t=new Array(e),n=0;e>n;n++)t[n]=arguments[n];if(window.fbq.callMethod){var r;(r=window.fbq).callMethod.apply(r,t)}else window.fbq.queue.push(t)},window._fbq||(window._fbq=window.fbq),
window.fbq.push=window.fbq,window.fbq.loaded=!0,window.fbq.version="2.0",window.fbq.queue=[],u("facebook-pixel","https://connect.facebook.net/en_US/fbevents.js"),window.fbq("init",e),C.info("facebook tracker initialized"),window.fbq)}function b(e,t){return function(n,r){var o=new Image(1,1);C.info("tracking Adwords Conversion (id: ".concat(e," label: ").concat(t,") with ").concat(n," ").concat(r)),o.src="https://www.googleadservices.com/pagead/conversion/".concat(e,"/?value=").concat(n,"&currency_code=").concat(r,"&label=").concat(t,"&guid=ON&script=0")}}t=t&&t.hasOwnProperty("default")?t["default"]:t;var w="issuu-libs-tracking-micro",x="3.9.3",C={error:t("".concat(w,":").concat(x,":error")),info:t("".concat(w,":").concat(x,":info"))};C.info.log=console.log.bind(console);var k,E,_="".concat(w,"-v").concat(x),I=function(e,t){var n=t.pingbackHost||"pingback.tissuu.com",r=t.pingbackUrl||"//".concat(n,"/ping"),o=t.logger||C,i=t.fetch||window.fetch;return i(r,{method:"post",credentials:"include",headers:{Accept:"application/json","Content-Type":"text/plain;charset=UTF-8"},body:JSON.stringify(e)}).then(function(){return o.info("pingback sent with payload %o",e)})["catch"](function(t){return o.error("".concat(e.type," pingback failed:"),t)})},S="//cdn.mxpnl.com/libs/mixpanel-2-latest.min.js";e.initWebsite=s,e.initMonitor=a,e.initGoogleAnalytics=p,e.initQuantcast=f,e.initMixpanel=v,e.initFacebookPixel=y,e.initAdwordsConversion=b,Object.defineProperty(e,"__esModule",{value:!0})})},function(e,t,n){(function(r){"use strict";function o(e){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function i(){return"undefined"!=typeof window&&window.process&&("renderer"===window.process.type||window.process.__nwjs)?!0:"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/)?!1:"undefined"!=typeof document&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||"undefined"!=typeof window&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)}function a(t){if(t[0]=(this.useColors?"%c":"")+this.namespace+(this.useColors?" %c":" ")+t[0]+(this.useColors?"%c ":" ")+"+"+e.exports.humanize(this.diff),this.useColors){var n="color: "+this.color;t.splice(1,0,n,"color: inherit");var r=0,o=0;t[0].replace(/%[a-zA-Z%]/g,function(e){"%%"!==e&&(r++,"%c"===e&&(o=r))}),t.splice(o,0,n)}}function s(){var e;return"object"===("undefined"==typeof console?"undefined":o(console))&&console.log&&(e=console).log.apply(e,arguments)}function u(e){try{e?t.storage.setItem("debug",e):t.storage.removeItem("debug")}catch(n){}}function c(){var e;try{e=t.storage.getItem("debug")}catch(n){}return!e&&"undefined"!=typeof r&&"env"in r&&(e=r.env.DEBUG),e}function l(){try{return localStorage}catch(e){}}t.log=s,t.formatArgs=a,t.save=u,t.load=c,t.useColors=i,t.storage=l(),t.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"],e.exports=n(146)(t);var d=e.exports.formatters;d.j=function(e){try{return JSON.stringify(e)}catch(t){return"[UnexpectedJSONParseError]: "+t.message}}}).call(t,n(25))},function(e,t,n){"use strict";function r(e){function t(e){for(var t=0,n=0;n<e.length;n++)t=(t<<5)-t+e.charCodeAt(n),t|=0;return r.colors[Math.abs(t)%r.colors.length]}function r(e){function n(){if(n.enabled){for(var e=arguments.length,t=new Array(e),o=0;e>o;o++)t[o]=arguments[o];var i=n,s=Number(new Date),u=s-(a||s);i.diff=u,i.prev=a,i.curr=s,a=s,t[0]=r.coerce(t[0]),"string"!=typeof t[0]&&t.unshift("%O");var c=0;t[0]=t[0].replace(/%([a-zA-Z%])/g,function(e,n){if("%%"===e)return e;c++;var o=r.formatters[n];if("function"==typeof o){var a=t[c];e=o.call(i,a),t.splice(c,1),c--}return e}),r.formatArgs.call(i,t);var l=i.log||r.log;l.apply(i,t)}}var a;return n.namespace=e,n.enabled=r.enabled(e),n.useColors=r.useColors(),n.color=t(e),n.destroy=o,n.extend=i,"function"==typeof r.init&&r.init(n),r.instances.push(n),n}function o(){var e=r.instances.indexOf(this);return-1!==e?(r.instances.splice(e,1),!0):!1}function i(e,t){return r(this.namespace+("undefined"==typeof t?":":t)+e)}function a(e){r.save(e),r.names=[],r.skips=[];var t,n=("string"==typeof e?e:"").split(/[\s,]+/),o=n.length;for(t=0;o>t;t++)n[t]&&(e=n[t].replace(/\*/g,".*?"),"-"===e[0]?r.skips.push(new RegExp("^"+e.substr(1)+"$")):r.names.push(new RegExp("^"+e+"$")));for(t=0;t<r.instances.length;t++){var i=r.instances[t];i.enabled=r.enabled(i.namespace)}}function s(){r.enable("")}function u(e){if("*"===e[e.length-1])return!0;var t,n;for(t=0,n=r.skips.length;n>t;t++)if(r.skips[t].test(e))return!1;for(t=0,n=r.names.length;n>t;t++)if(r.names[t].test(e))return!0;return!1}function c(e){return e instanceof Error?e.stack||e.message:e}return r.debug=r,r["default"]=r,r.coerce=c,r.disable=s,r.enable=a,r.enabled=u,r.humanize=n(75),Object.keys(e).forEach(function(t){r[t]=e[t]}),r.instances=[],r.names=[],r.skips=[],r.formatters={},r.selectColor=t,r.enable(r.load()),r}e.exports=r},function(e,t,n){function r(){a.log.apply(null,arguments)}function o(e){return p?window._trackedEventsPingback.push(e):window._tracq.push(e)}var i=n(4),a=n(2),s=n(16),u=n(62).Tracker,c=u.defaultWebConfiguration(),l=new u(c),d=i.events;window._tracq=window._tracq||[],l.legacyInterface();var p=s.getIsEnabled();p&&(window._trackedEventsPingback=window._trackedEventsPingback||[],r("tracking","READ ONLY")),t.track=o,i.subscribe(d.trackingEvent,function(e){o(e),r("tracking",e)}),i.subscribe(d.pageView,function(){o("webpageLoad"),r("tracking","Event "+d.pageView+" sent to pingback")}),i.subscribe(d.pageContinuation,function(e){o({event:"streamScrolling",data:{index:e.streamIndex}}),r("tracking","Event "+d.pageContinuation+" sent to pingback")}),i.subscribe(d.documentShare,function(e){var t=d.documentShare;o({event:t,data:{revisionId:e.revisionId,publicationId:e.publicationId,publicationName:e.publicationName,ownerUsername:e.ownerUsername,service:e.service}}),r("tracking","Event "+t+" sent to pingback")}),i.subscribe(d.clippingShare,function(e){o({event:"clippingAction",data:{action:"share",clippingId:e.clippingId,onPage:e.clippingPage,service:e.service,creator:e.clippingIsPublisherClipping?"publisher":"reader"}}),r("tracking","Event clippingShare sent to pingback")}),i.subscribe(d.hideUserClippings,function(e){o({event:"clippingLayer",data:{action:"deactivate"}}),r("tracking","Event clippingLayer-deactivate sent to pingback")}),i.subscribe(d.showUserClippings,function(e){e&&e.dontTrack===!0||(o({event:"clippingLayer",data:{action:"activate"}}),r("tracking","Event clippingLayer-activate sent to pingback"))}),i.subscribe(d.documentDownload,function(e){var t=d.documentDownload;o({event:t,data:{anonymous:e.anonymous,revisionId:e.revisionId,publicationId:e.publicationId,publicationName:e.publicationName,ownerUsername:e.ownerUsername}}),r("tracking","Event "+t+" sent to pingback")}),i.subscribe(d.monitorEvent,function(e){return e&&e.type?(o({event:"monitor",data:e}),void r("tracking","Event monitor",e,"sent to pingback")):void a.error("tracking - Illegal monitor event.")})},function(e,t,n){(function(e){var r=n(2);t.onTransitionEnd=function(e,t,n){function o(){c||(c=!0,a&&window.clearTimeout(a),u.off(s,i),t(),r.log("animationHelper","callback executed",l))}function i(e){r.log("animationHelper","onAnimationEnd",l),this===u.get(0)&&this===e.target&&o()}var a,s="webkitTransitionEnd oTransitionEnd msTransitionEnd mozTransitionEnd transitionend transitionEnd",u=$(e),c=!1,l="id: "+Math.round(1e3*Math.random());r.log("animationHelper","register",l,u.get(0)),n&&(a=setTimeout(function(){r.log("animationHelper","maxDuration timeout fired after(ms): ",n),o()},n)),Modernizr.csstransitions?u.on(s,i):window.setTimeout(t,0)},t.translate3d=function(n,r){var o=e.extend({x:0,y:0,z:0,duration:0,callback:void 0,maxDuration:void 0},r);"function"==typeof o.callback&&t.onTransitionEnd(n,o.callback,o.maxDuration);var i=$(n).get(0);i.style[Modernizr.prefixed("transitionDuration")]=o.duration+"ms",Modernizr.csstransforms3d?i.style[Modernizr.prefixed("transform")]="translate3d("+o.x+"px, "+o.y+"px, "+o.z+"px)":i.style[Modernizr.prefixed("transform")]="translate("+o.x+"px, "+o.y+"px)"},t.callAfterRepaint=function(e,t){setTimeout(t,50)}}).call(t,n(1))},function(e,t){var n=function(e){function t(){if(s!==!1){var e=[$(window).width(),$(window).height()];if(i.join("x")!==e.join("x")||a!==window.orientation){if(i=e,a=window.orientation,"function"==typeof u.checkFirst&&u.checkFirst()!==!1)return;u.onFire&&u.onFire(e)}}}function n(){return 0===c?void t():(o&&window.clearTimeout(o),void(o=window.setTimeout(t,c)))}function r(){$(window).off("resize",n),$(window).off("orientationchange",n),i=void 0,a=void 0,u=void 0}var o,i,a,s=!0,u=e,c=0;return function(){i=[$(window).width(),$(window).height()],a=window.orientation,u.delay&&(c=u.delay),$(window).on("resize",n),$(window).on("orientationchange",n)}(),{isActive:function(){return s},setActive:function(e){s=e===!1?!1:!0},destroy:r}};e.exports=n},function(e,t,n){var r=n(5),o=n(1),i=n(6),a=n(2),s=n(155),u=n(152);t.create=function(e){function t(){var e=(new Date).getTime()-h;"pending"===g.state()&&(a.log("ads","streamAd","onAdFailed",e),g.reject(),s.adFailed(e))}function c(){var e=(new Date).getTime()-h;v||(a.log("ads","streamAd","onAdViewable",e),v=!0,s.adViewable(e))}function l(){var e=(new Date).getTime()-h;"pending"===g.state()&&(a.log("ads","streamAd","onAdFilled",e),g.resolve(),s.adLoaded(e))}function d(){var e=(new Date).getTime()-h;"pending"===g.state()&&(a.log("ads","streamAd","onAdNotFilled",e),g.reject(),s.adNotLoaded(e))}function p(n){a.log("ads","streamAd","insertAd");var r=u.getAdProvider(),o=u.getAdProviderConfig(r)||{};r.create({rootElm:document.getElementById(n),config:o.adTypes&&o.adTypes[e.adType]||{},callbacks:{onAdFilled:l,onAdNotFilled:d,onAdFailed:t,onAdViewable:c},targeting:e.dfpTargeting}),s.adRequested()}function f(){return u.willShow(e)}function m(e){return f()?(h=(new Date).getTime(),p(e),g.promise()):g.reject()}var h,g=new r.Deferred,v=!1;return function(){a.log("ads","streamAd","create",JSON.stringify(e,null," ")),o.defaults(e,{allowed:!0,adType:"300x250",adsConfig:void 0,isoCountry:void 0,isProductionEnv:!1}),s.configure({isoCountry:e.isoCountry,isProductionEnv:e.isProductionEnv}),u.init({cookie:i,logger:a,adProviders:{dfp:n(151)}},e)}(),{show:m,willShow:f}}},function(e,t,n){function r(e){var t=e.config.network||"/30443627/Issuu_Production_Stream",n=e.config.sizes||[300,250],r=e.config.bidders||[],s=e.config.bidderTimeout;!function(){o.defaults(e.callbacks,{onAdFilled:o.noop,onAdNotFilled:o.noop,onAdViewable:o.noop,onAdFailed:o.noop});var u=e.targeting||[];u.push(["advelvet",[Math.floor(20*Math.random())+1+""]]);var c=e.rootElm.getAttribute("id")||"div-"+Math.round(1e4*Math.random());e.rootElm.setAttribute("id",c);var l=r.map(function(e){return{name:e.name,config:e.config}}),d=r.map(function(e){return{name:e.name,options:e.options}}),p=i.create({bidders:l,bidderTimeout:s});p.addPlacement(c,t,n,u,d),p.addEventListener("slotRenderEnded",function(t){t.slot.getSlotId().getDomId()===c&&(a.log("ads","streamAd","slotRendered",c,t),t.isEmpty||e.callbacks.onAdFilled())}),p.addEventListener("impressionViewable",function(t){t.slot.getSlotId().getDomId()===c&&(a.log("ads","streamAd","impressionViewable",c,t),e.callbacks.onAdViewable())})}()}var o=n(1),i=n(61),a=n(2);t.create=r},function(e,t,n){(function(t){function r(){var e=!1,t=new p(window.location.href).getQueryParamValue("streamAd");return m.indexOf(t)>-1&&(e=t),e}function o(){return r()!==!1}function i(){var e,t=l&&m.indexOf(l.defaultProvider)>-1&&l.defaultProvider;return t=r()||t,d&&d[t]&&(e=d[t]),c.log("ads","streamAd","Debug provider:",r(),"Final provider:",t),e}function a(e){var n=t.findKey(d,function(n){return t.isEqual(n,e)}),r=e&&l&&l.providerConfigs&&l.providerConfigs[n]||{};return c.log("ads","streamAd","adProviderConfig:",r,"providerConfigs key:",n),r}function s(e,t){c=e.logger,d=e.adProviders,l=t.adsConfig,c.log("ads","streamAd","available adsConfig",l)}function u(e){return o()?!0:f.isAllowedExternally(e)?f.isBot()?(c.log("ads","streamAd","no show b/c bot rule"),!1):f.hasAdsConfig(l)?(c.log("ads","streamAd","will show"),!0):(c.log("ads","streamAd","no show b/c adsConfig is undefined"),!1):(c.log("ads","streamAd",'no show b/c external "allowed" rule'),!1)}var c,l,d,p=n(21),f=n(153),m=["dfp"];e.exports={init:s,willShow:u,getAdProviderConfig:a,getAdProvider:i}}).call(t,n(1))},function(e,t,n){function r(e){return"object"==typeof e&&e.allowed===!0}function o(){var e=/(googlebot\/|Googlebot-Mobile|Googlebot-Image|Google favicon|Mediapartners-Google|bingbot|slurp|java|wget|curl|Commons-HttpClient|Python-urllib|libwww|httpunit|nutch|phpcrawl|msnbot|jyxobot|FAST-WebCrawler|FAST Enterprise Crawler|biglotron|teoma|convera|seekbot|gigablast|exabot|ngbot|ia_archiver|GingerCrawler|webmon |httrack|webcrawler|grub.org|UsineNouvelleCrawler|antibot|netresearchserver|speedy|fluffy|bibnum.bnf|findlink|msrbot|panscient|yacybot|AISearchBot|IOI|ips-agent|tagoobot|MJ12bot|dotbot|woriobot|yanga|buzzbot|mlbot|yandexbot|purebot|Linguee Bot|Voyager|CyberPatrol|voilabot|baiduspider|citeseerxbot|spbot|twengabot|postrank|turnitinbot|scribdbot|page2rss|sitebot|linkdex|Adidxbot|blekkobot|ezooms|dotbot|Mail.RU_Bot|discobot|heritrix|findthatfile|europarchive.org|NerdByNature.Bot|sistrix crawler|ahrefsbot|Aboundex|domaincrawler|wbsearchbot|summify|ccbot|edisterbot|seznambot|ec2linkfinder|gslfbot|aihitbot|intelium_bot|facebookexternalhit|yeti|RetrevoPageAnalyzer|lb-spider|sogou|lssbot|careerbot|wotbox|wocbot|ichiro|DuckDuckBot|lssrocketcrawler|drupact|webcompanycrawler|acoonbot|openindexspider|gnam gnam spider|web-archive-net.com.bot|backlinkcrawler|coccoc|integromedb|content crawler spider|toplistbot|seokicks-robot|it2media-domain-crawler|ip-web-crawler.com|siteexplorer.info|elisabot|proximic|changedetection|blexbot|arabot|WeSEE:Search|niki-bot|CrystalSemanticsBot|rogerbot|360Spider|psbot|InterfaxScanBot|Lipperhey SEO Service|CC Metadata Scaper|g00g1e.net|GrapeshotCrawler|urlappendbot|brainobot|fr-crawler|binlar|SimpleCrawler|Livelapbot|Twitterbot|cXensebot|smtbot|bnf.fr_bot|A6-Indexer|ADmantX|Facebot|Twitterbot|OrangeBot|memorybot|AdvBot|MegaIndex|SemanticScholarBot|ltx71|nerdybot|xovibot|BUbiNG|Qwantify|archive.org_bot|Applebot|TweetmemeBot|crawler4j|findxbot|SemrushBot|yoozBot|lipperhey|y!j-asr|Domain Re-Animator Bot|AddThis)/i;return e.test(window.navigator.userAgent)}function i(e){return"object"==typeof e&&a.size(e)>0}var a=n(1);e.exports={isAllowedExternally:r,isBot:o,hasAdsConfig:i}},function(e,t){e.exports=function(e){function t(e,t,n){var r="//"+d+e,o="string"==typeof n?n:JSON.stringify(n);window.fetch?window.fetch(r,{method:"post",headers:t,credentials:"include",body:o}):window.jQuery&&window.jQuery.ajax&&window.jQuery.ajax({type:"POST",url:r,data:o,crossDomain:!0,headers:t,xhrFields:{withCredentials:!0}})}function n(e){var t="object"==typeof window&&window.Raven;t&&t.captureException?t.captureException(e):console.error(e)}function r(){var e=/site\.model\.username=([^;$]+)/,t=document.cookie.match(e);return t&&t.length>=2?t[1]:null}function o(){return window.innerWidth?window.innerWidth:window.document.documentElement&&window.document.documentElement.clientWidth?window.document.documentElement.clientWidth:window.document.body?window.document.body.clientWidth:0}function i(){return window.innerHeight?window.innerHeight:window.document.documentElement&&window.document.documentElement.clientHeight?window.document.documentElement.clientHeight:window.document.body?window.document.body.clientHeight:0}function a(){return window.location.href.toString()}function s(){return window.document.referrer||null}function u(){return-1!==(window.document.referrer||"").indexOf("issuu.com")?"internal":"external"}function c(){return p}function l(){return document.documentElement.lang||null}var d,p="stream-ad-v1.0";return d=e===!0?"pingback.issuu.com":"pingback.tissuu.com",{post:t,handleError:n,getWidth:o,getHeight:i,getUsername:r,getLocation:a,getReferrer:s,getSource:u,getLanguage:l,getOrigin:c,setTimeout:function(e,t){return window.setTimeout(e,t)},clearTimeout:function(e){return window.clearTimeout(e)},setInterval:function(e,t){return window.setInterval(e,t)},clearInterval:function(e){return window.clearInterval(e)},nagleTimeout:1500}}},function(e,t,n){function r(){return i||"unknown"}function o(e){a.log("ads","gutterAd","pingback",e),c.monitor(e),e.type+="."+r(),c.monitor(e),a.log("ads","gutterAd","pingback",e)}var i,a=n(2),s=n(62).Tracker,u=n(154),c=new s(u(!1));t.configure=function(e){i=e.isoCountry,e&&e.isProductionEnv===!0&&(c=new s(u(!0)))},t.adRequested=function(){o({type:"ads-streamAd-requested"})},t.adFailed=function(e){o({type:"ads-streamAd-failed",timeSinceOverlay:e})},t.adLoaded=function(e){o({type:"ads-streamAd-filled",timeSinceOverlay:e})},t.adNotLoaded=function(e){o({type:"ads-streamAd-notfilled",timeSinceOverlay:e})},t.adViewable=function(e){o({type:"ads-streamAd-viewable",timeSinceOverlay:e})}},function(e,t){function n(e,t){function r(e,t){var n=window.document,r=n.createElement("div");return r.innerHTML="&nbsp;",r.setAttribute("class",e),r.setAttribute("style",t),n.body.appendChild(r),r}function o(e){return 0===e.offsetHeight||!document.body.contains(e)||"none"===e.style.display||"hidden"===e.style.visibility}return function(){var t={testNodeClasses:"pub_300x250 pub_300x250m pub_728x90 text-ad textAd text_ad text_ads text-ads text-ad-links",testNodeStyle:"height: 10px !important; font-size: 20px; color: transparent; position: absolute; bottom: 0; left: -10000px;",testInterval:51,testRuns:4},n=r(t.testNodeClasses,t.testNodeStyle),i=0,a=!1,s=setInterval(function(){i++,a=o(n),(a||i===t.testRuns)&&(clearInterval(s),n.parentNode&&n.parentNode.removeChild(n),e(a))},t.testInterval)}(),n}e.exports=n},function(e,t,n){function r(){}function o(e){var t,n=e.config.network,o=e.rootElm.getAttribute("id")||"div-"+Math.round(1e4*Math.random()),s=e.bidders,u=e.bidderTimeout;!function(){var c=e.targeting||[];if(c.push(["advelvet",[Math.floor(20*Math.random())+1+""]]),a.log("ads","widget","gpt","addPlacementWithTargeting",n,c),e.callbacks=Object.assign({onAdFilled:r,onAdViewable:r,onAdFailed:r,onAdUnfilled:r},e.callbacks),a.log("ads","widget","gpt","create",e),!n)return void e.callbacks.onAdFailed();var l=s.map(function(e){return{name:e.name,config:e.config}}),d=s.map(function(e){return{name:e.name,options:e.options}});t=i.create({onError:e.callbacks.onAdFailed,bidders:l,bidderTimeout:u}),e.rootElm.setAttribute("id",o),t.addPlacement(o,n,e.config.sizes,c,d),a.log("ads","widget","gpt","addPlacement",o,n,e.config.sizes,c),t.addEventListener("slotRenderEnded",function(t){t.slot.getSlotElementId()===o&&(a.log("ads","widget","gpt","slotRendered",t),t.isEmpty?e.callbacks.onAdUnfilled():e.callbacks.onAdFilled())}),t.addEventListener("impressionViewable",function(t){t.slot.getSlotElementId()===o&&(a.log("ads","widget","gpt","impressionViewable",t),e.callbacks.onAdViewable())})}()}var i=n(61),a=n(43);t.create=o},function(e,t,n){var r=n(43),o=n(144).initMonitor;t.create=function(e){function t(t,n){var o={type:p+"."+t,countryCode:e.countryCode,timeElapsed:n,screenWidth:Number(window.innerWidth),screenHeight:Number(window.innerHeight),screenResolution:Number(window.innerHeight)*Number(window.innerWidth)};r.log("ads","pingback",o),f(o)}function n(e){t("requested",e)}function i(e){t("failed",e)}function a(e){t("filled",e)}function s(e){t("viewable",e)}function u(e){t("timeout",e)}function c(e){t("unfilled",e)}function l(e){t("blocked",e)}function d(e){t("notblocked",e)}var p,f;return function(){f=o(e&&e.isProductionEnv===!0?{pingbackUrl:"//pingback.issuu.com/ping"}:{pingbackUrl:"//pingback.tissuu.com/ping"}),p=e&&e.trackingKey||"ads-widget"}(),{adRequested:n,adFailed:i,adLoaded:a,adViewable:s,adTimeout:u,adUnfilled:c,adBlockerBlocked:l,adBlockerNotBlocked:d}}},function(e,t,n){(function(t){function r(){return v}function o(){return $("#overlay .overlay-box")}function i(){return $("#overlay")}function a(e){function n(){return o.parentElement}var r={marginClickClose:!0,skin:"default",content:"",contentFunc:function(){return""},dimmerContent:"",unscrollableBackground:!1,onShow:function(){},onInAnimationFinished:function(){},onOutAnimationFinished:function(){},onRemove:function(){},showCloseIcon:!0,allowClose:function(){return!0}},o=t.extend(r,e),i={conf:o,getParentElement:n};return i}function s(e,t,n,r){e.addClass("overlay-box-"+t+"-"+r).removeClass("overlay-box-"+t+"-"+n)}function u(e,t,n){$("#overlay").addClass(e+"-"+n).removeClass(e+"-"+t)}function c(e){$("#overlay").addClass(e+"-pre").addClass(e+"-const")}function l(e){for(var t=$("#overlay").attr("class").split(/\s+/),n=0;n<t.length;n++)-1!==t[n].indexOf(e)&&(h.log("overlay","remove: ",t[n]),$("#overlay").removeClass(t[n]))}function d(e){27===e.keyCode&&p()}function p(e){var t=new $.Deferred,n=v.conf;return n.allowClose()||e?($(document).off("keydown",d),h.log("overlay","curConf.parentElement",n.parentElement),$("html, body").css({overflow:"",height:""}),y>0&&($("body").scrollTop(y),y=0),g.callAfterRepaint(n.parentElement,function(){function e(){h.log("overlay","closed"),v&&v.conf&&v.conf.onRemove&&v.conf.onRemove(),$("#overlay").remove();var e=v;v=!1,setTimeout(function(){e&&e.conf&&e.conf.onOutAnimationFinished&&e.conf.onOutAnimationFinished()},0),t.resolve()}var r;if(Modernizr.csstransitions&&n.parentElement){var o=n.parentElement.css("transition-duration")||"";r=1e3*parseFloat(o.split(",")[0]||0)*2}g.onTransitionEnd(n.parentElement,e,r),s(n.parentElement,n.skin,"end","exit"),u(n.skin,"end","exit")}),t):(h.log("overlay","allowClose prevented closing"),t.reject())}function f(e,t){var r=n(100),o=e.conf,i="number-"+Math.round(1e3*Math.random()),a=o.content||o.contentFunc(),s=t||"pre";a instanceof $?($("#overlay").append(r({content:'<div id="ReplaceMeOverlay"></div>',boxClass:"overlay-box-"+o.skin+"-const overlay-box-"+o.skin+"-"+s,showCloseIcon:o.showCloseIcon,trait:i})),$("#ReplaceMeOverlay").replaceWith(a)):$("#overlay").append(r({content:a,boxClass:"overlay-box-"+o.skin+"-const overlay-box-"+o.skin+"-"+s,showCloseIcon:o.showCloseIcon,trait:i})),o.parentElement=$("."+i),o.parentElement.click(function(e){e.stopPropagation()}),o.marginClickClose&&($("#overlay").click(function(e){p()}),$(document).on("keydown",d)),$("#overlay .close_corner").click(function(e){p()})}function m(e,o){var i=o||"forward";if(-1===t.indexOf(["forward","backward","none"],i))throw new Error("bad direction param.");h.log("overlay","show",e,i);var a={none:{1:"end",2:"end",3:"end"},forward:{1:"pre",2:"end",3:"exit"},backward:{1:"exit",2:"end",3:"pre"}},d=e.conf;if(r()===!1){v=e;var p=n(99);$("body").append(p({visibility:"hidden",skin:d.skin+"-const "+d.skin+"-"+a[i][1],dimmerContent:d.dimmerContent})),f(e,a[i][1]),y||(y=$(window).scrollTop()),$("#overlay").css({visibility:"visible",overflowX:"hidden"});var m=function(){d.unscrollableBackground&&($("html").css({height:"100%"}),$("body").css({overflow:"hidden",height:"100%"})),$("#overlay").css({overflowX:""}),setTimeout(function(){e.conf.onInAnimationFinished()},0)};"none"!==i?(g.onTransitionEnd(d.parentElement,m),g.callAfterRepaint(d.parentElement,function(){u(d.skin,a[i][1],a[i][2]),s(d.parentElement,d.skin,a[i][1],a[i][2])})):m()}else if("none"===i)v.conf.parentElement.remove(),v=e,f(e,a[i][1]),$("#overlay .dimmer-content").html(d.dimmerContent),setTimeout(function(){e.conf.onInAnimationFinished()},0);else{f(e,a[i][1]);var b=v.conf;b.onRemove&&b.onRemove(),$("#overlay .dimmer-content").html(d.dimmerContent),$("#overlay").css({overflowX:"hidden"}),h.log("overlay","conf.parentElement",d.parentElement),g.onTransitionEnd(b.parentElement,function(){$("#overlay").css({overflowX:""}),v.conf.parentElement.remove(),v=e,setTimeout(function(){e.conf.onInAnimationFinished()},0)}),l(b.skin),c(d.skin),u(d.skin,"pre",a[i][2]),g.callAfterRepaint(d.parentElement,function(){s(d.parentElement,d.skin,a[i][1],a[i][2]),s(b.parentElement,b.skin,a[i][2],a[i][3])})}setTimeout(function(){e.conf.onShow(e.conf.parentElement)},0)}var h=n(2),g=n(148),v=!1,y=0;e.exports={create:a,show:m,close:p,showing:r,getElement:o,getOverlayElement:i}}).call(t,n(1))},function(e,t,n){function r(){a.isLoggedIn()||window.location.replace(i.issuuLoginUrl(window.location.href))}var o=n(11),i=n(12),a=n(13);t.createStack=function(e){return r(),o.create({cache:!1,action:"issuu.stack.add",type:"POST"}).parameters({stackTitle:e.get("name"),stackDescription:e.get("description"),access:e.get("secret")?"private":"public"}).deleteCache().call().then(function(e){return e.stack})},t.updateStack=function(e){return r(),o.create({cache:!1,action:"issuu.stack.update",type:"POST"}).parameters({stackId:e.get("id"),stackTitle:e.get("name"),stackDescription:e.get("description"),access:e.get("secret")?"private":"public"}).deleteCache().call().then(function(e){return e.stack})},t.deleteStack=function(e){return r(),o.create({cache:!1,action:"issuu.stack.delete",type:"POST"}).deleteCache().parameters({stackId:e.get("id")}).call()}},function(e,t,n){(function(e){var r=n(3),o=n(12),i=n(13),a=n(68),s=n(14).__,u=n(23),c=n(69),l=n(103),d=n(70),p=3;t.create=function(t,n){function f(){return i.isLoggedIn()&&x.get("ownerUsername").toLowerCase()===i.getUsername().toLowerCase()}function m(){return l({stack:x.getRawData(),pubs:x.getPublications(p).reverse(),stackUrl:x.getUrl(),profileUrl:o.userProfileUrl(x.get("ownerUsername")),version:Math.floor(Math.random()*p)+1,followMenuMarkup:C.followOptions?a.create(C.followOptions):"",showEditButton:f(),options:C,copy:{emptystack:s("No publications added yet"),openstack:s("Open stack")}},{helpers:k})}function h(){var e=x.$.find("canvas");if(e.length&&Modernizr.canvas===!0){var t=x.$.find(".stack-cover"),n=e.get(0).getContext("2d"),r=t.width(),o=Math.round(.9*t.height());e.attr("width",r),e.attr("height",o),"function"==typeof n.setLineDash&&n.setLineDash([9,5]),n.strokeStyle="rgba(0,0,0,0.2)",n.lineWidth=2.2,n.beginPath(),n.moveTo(16.064*r/100,3.78633*o/100),n.lineTo(47.9032*r/100,6.79408*o/100),n.lineTo(83.6528*r/100,2.2*o/100),n.lineTo(83.6528*r/100,5.82133*o/100),n.lineTo(91.7512*r/100,5.63562*o/100),n.lineTo(91.7512*r/100,8.69983*o/100),n.lineTo(97.5*r/100,8.9784*o/100),n.lineTo(92.441*r/100,56.9843*o/100),n.lineTo(97.5*r/100,89.9477*o/100),n.lineTo(91.9812*r/100,90.412*o/100),n.lineTo(92.4402*r/100,94.1406*o/100),n.lineTo(88.547*r/100,93.9791*o/100),n.lineTo(88.417*r/100,97.1903*o/100),n.lineTo(52.8894*r/100,94.5904*o/100),n.lineTo(15.1773*r/100,98.0261*o/100),n.lineTo(15.1773*r/100,94.4047*o/100),n.lineTo(9.77345*r/100,94.219*o/100),n.lineTo(9.77345*r/100,92.2691*o/100),n.lineTo(6.55416*r/100,91.6191*o/100),n.lineTo(10.5782*r/100,52.713*o/100),n.lineTo(2.3*r/100,10.4641*o/100),n.lineTo(10.6932*r/100,10.2784*o/100),n.lineTo(10.4633*r/100,6.47132*o/100),n.lineTo(15.8671*r/100,6.74988*o/100),n.closePath(),n.stroke()}}function g(){return x}function v(){x.$&&(x.$.off("click").find(".editstack").off("click"),x.$.remove(),x.$=void 0)}function y(){C.selectionOnly===!0&&x.$.on("click",function(){x.toggleSelection(),x.$.toggleClass("selected",x.isSelected()),"function"==typeof C.onSelectionChanged&&C.onSelectionChanged(x,x.isSelected())}),f()&&x.$.find(".editstack").on("click",function(){var e={onFinished:function(e){e&&(x.set("name",e.get("name")),x.set("description",e.get("description")),x.set("secret",e.get("secret")),x.$.find(".metadata h3").text(x.get("name")),x.$.find(".metadata .description").text(x.get("description")),x.$.find(".secret").toggle(x.get("secret")),"function"==typeof C.onStackUpdated&&C.onStackUpdated(x))},model:x,onDeleted:C.onStackDeleted};c.create(e)})}function b(e){x.$=$(e),y(),setTimeout(h,0)}function w(){return x.$||b(m()),x.$}var x,C,k=e.extend({},r.helpers,{smarttruncate:function(e,t,n){var o=t,i=n;"number"!=typeof t&&(o=void 0),"number"!=typeof n&&(i=void 0);var a=u.getShortDescription(e,o,i);return a=r.Utils.escapeExpression(a),new r.SafeString(a)}});return function(){C=n||{},x=d.create(t)}(),{getInitializedElement:w,getMarkup:m,didInsertElement:b,getModel:g,removeElement:v}}}).call(t,n(1))},function(e,t,n){var r=n(14).__,o=n(104),i=n(69);t.create=function(e){function t(){return o({copy:{createnewstack:r("Create a new stack")}})}function n(){d.$.on("click",function(){i.create({onFinished:l.onStackCreated})})}function a(e){d.$=$(e),n()}function s(){return d.$||a(t()),d.$}function u(){return d}function c(){d.$&&(d.$.off("click"),d.$.remove(),d.$=void 0)}var l,d={};return function(){l=e||{}}(),{getInitializedElement:s,getMarkup:t,didInsertElement:a,getModel:u,removeElement:c}}},function(e,t,n){e.exports={create:function(e,t,r){function o(e){var t,n;return c&&s.length?(n=Math.floor((e-u)/c),t=(e-u)%c===0?s[n]:u>e?a[e]:a[e-n-1]):t=a[e],t}var i=r||{},a=[],s=[],u=i.adsStart||0,c=i.adsDistance||0,l=[],d={doc:n(28),docExternal:n(28),"300x250":n(56),"300x250-video":n(56),ad:n(28)},p={doc:n(44),docExternal:n(164),"300x250":n(71),"300x250-video":n(71),ad:n(165)},f={type:"300x250-video"},m={type:"300x250"};return function(){if(t){s.push(f);for(var e in p)if(p.hasOwnProperty(e)){var n=p[e];"function"==typeof n.setAdConfiguration&&n.setAdConfiguration(t)}}}(),{getItemCount:function(){return c?a.length+Math.min(Math.ceil((a.length-u)/c),s.length):a.length},getItemHeight:function(e,t){var n=p[o(e).type];return n&&n.getHeight?n.getHeight(o(e),t):void 0},getItemKind:function(e){return o(e).type},allowReuse:function(e){var t=p[e];return t&&"boolean"==typeof t.allowReuse?t.allowReuse:!0},getItemColWidth:function(e){var t=p[o(e).type];return t&&t.cols?t.cols:1},getMinDistanceForKind:function(e){var t=p[e];return t&&t.distance?t.distance:0},initElement:function(e,t){var n=d[t];e.className="stream2__element",n&&(e.innerHTML=n({}));var r=p[t];r&&r.init(e)},updateElement:function(e,t,n,r){var i=p[o(t).type];i&&i.update(e,o(t),t,n,r)},loadMore:function(n){if(l.length)return void l.push(n);if(l.push(n),!e.isThereMore())return l.forEach(function(e){e()}),void(l=[]);if(t&&c&&a.length+e.getPageSize()+s.length>s.length*c+u){for(var r=[],o=0;20>o;o++)r.push(JSON.parse(JSON.stringify(m)));s=s.concat(r)}e.getMore().then(function(e){var t=e;i.filter&&(t=i.filter(t)),t.stream=t.stream.filter(function(e){return!!p[e.type]}),a.push.apply(a,t.stream),l.forEach(function(e){e()}),l=[],i.onUpdate&&i.onUpdate(t)},function(e){l.forEach(function(t){t(e)}),l=[]})},setAdsStartAndDistance:function(e,t){u=e,c=t}}}}},function(e,t,n){(function(t){var r=n(44),o=r.publicationUrl;e.exports=t.defaults({publicationUrl:function(){return o.apply(r,arguments)+"?e=0"}},r)}).call(t,n(1))},function(e,t,n){function r(e){var t=e.creative.docid.split("-");return e.publicationId=t[1],e.publicationCreationTime=null,e.isExplicit=null,e.title=e.creative.title||"",e.ownerUsername=e.creative.username,
e.revisionId=t[0],e.pageCount=null,e.publicationName=e.creative.docname,e.detectedLanguage=null,e.description=e.creative.body||"",e}var o=n(44),i=n(4),a=n(9),s=n(2),u=n(7),c=o._getRoot;e.exports={getHeight:o.getHeight,publicationUrl:o.publicationUrl,imageUrl:o.imageUrl,init:function(e){o.init.call(this,e),e.className+=" stream2-doc-element--targeted"},update:function(e,t,n,i,a){e.setAttribute("data-element-ad-id",t.content.adId),t.coverted||(t.converted=!0,t.content=r(t.content),t.imageUrl=this.imageUrl(t.content.publicationId,t.content.revisionId,t.content.creative.page)),o.update.call(this,e,t,n,i,a)},_onImageLoad:o._onImageLoad,_onImageError:function(e){var t=c(e.target),n=t.getAttribute("data-publicationId"),r=t.getAttribute("data-element-ad-id");i.broadcast(a.ADERROR,{publicationId:n,url:e.target.src,adid:r})},_onClick:function(e){var t=c(e.target),n=c(e.target).getAttribute("data-publicationId"),r=t.getAttribute("data-element-ad-id");s.log("promoted","targeted ad clicked adid: ",r);var i=u.create("ad.",u.SESSION,{expires:120});i.set(n,r),o._onClick(e)},_broadcastDocumentCreated:function(e,t,n,r,o,s){var u=$(e).offset();i.broadcast(a.DOCCREATED,t,{publicationId:n.content.publicationId,revisionId:n.content.revisionId,ownerUsername:n.content.ownerUsername,publicationName:n.content.publicationName,page:1,origin:n.origin,ranking:r,x:u.left,y:u.top,height:o,width:s,adpageId:n.content.adId,adpageToken:n.content.token})}}},function(e,t,n){function r(e){return"string"==typeof e?document.querySelector(e):e.jquery?e[0]:e}function o(e){c.start();var t=e||{},n={columnMaxWidth:250,columnThresholds:[0,480,768],multiColMaxDelta:10,cellPadding:15,spaceBefore:Math.max(500,window.innerHeight),spaceAfter:Math.max(500,window.innerHeight),spinner:'<div class="spin large stream2__spinner"></div>',noMoreResults:t.hideSpinnerMessages?!1:'<div class="stream2__no-more-results">'+a("That's it.")+"</div>",spinnerHeight:100,observeWindowSize:t.observeWindowSize},o=i.create(t.path,t.apiParams,t.apiOptions),p=s.create(o,t.ads||!1,{filter:t.filterApiResponse,onUpdate:t.onStreamUpdated});n.onLayoutChange=function(e,n){t.ads&&(p.setAdsStartAndDistance(d[n].start,d[n].distance),m&&m.render()),t.onStreamRelayout&&t.onStreamRelayout()};var f=r(t.streamcontainer);f.className.match("\\b"+l+"\\b")||(f.className+=" "+l);var m=u(f,p,n);return t.autoStart&&m.forceLoadMore(),{addMoreDocuments:function(){m.forceLoadMore()},preload:function(){var e=$.Deferred();return p.loadMore(function(t){return t?e.reject():e.resolve()}),e},start:function(){m.forceResize(),m.forceLoadMore()},resizeStream:function(){m.forceResize();var e=new $.Deferred;return setTimeout(function(){e.resolve()},30),e},onInvisible:function(){m.dettach()},onVisible:function(){m.attach(),m.forceRender()}}}var i=n(64),a=n(14).__,s=n(163),u=n(169),c=n(74).init(),l="stream2",d={1:{start:1,distance:18,delta:0},2:{start:2,distance:6,delta:40},3:{start:1,distance:10,delta:10},4:{start:2,distance:15,delta:5}};e.exports={create:o}},function(e,t,n){var r=Math.min(window.screen.width,window.screen.height);r>414?e.exports=n(188):e.exports=n(166)},function(e,t){function n(e,t){var n=0;for(n;n<e.length&&!(t<e[n]);n++);return n+1}function r(e,t){var n=t.left-e.left,r=t.top-e.top;return Math.sqrt(n*n+r*r)}function o(e){for(var t,n,r=0,o=e[r];r<e.length;r++,o=e[r])(0===r||t>o)&&(n=r,t=o);return e[0]-t<100?0:n}function i(e,t,n,i){var a=t.getItemColWidth?t.getItemColWidth(n.index):1;a>=e.cols.length&&(a=e.cols.length);var s,u,c;if(a>1)for(var l,d,p,f=0;f<=e.cols.length-a;f+=1){l=e.cols.slice(f,f+a),d=Math.max.apply(null,l),p=0;for(var m=0;m<l.length;m++)p+=d-l[m];(!u||c>p||50>p-c&&u>d)&&(u=d,c=p,s=f)}else s=e.dirty||void 0===n.col||null===n.col?o(e.cols):n.col,u=e.cols[s];u=0===u?0:u+e.cellPadding;var h=s*e.colWidth+s*e.cellPadding,g=a*e.colWidth+(a-1)*e.cellPadding,v={top:u,left:h,width:g,col:s,space:a};if(i){var y=r(v,i);if(t.getMinDistanceForKind&&y<t.getMinDistanceForKind(n.kind))return null}if(c){var b=e.currentMaxDelta[n.kind]||e.multiColMaxDelta;if(c>b)return b<e.absoluteMaxDelta&&(e.currentMaxDelta[n.kind]=b+1),null;e.currentMaxDelta[n.kind]=e.multiColMaxDelta}return v}function a(e,t,n,r,o){n.col=r.col,n.width=r.width,n.top=r.top,n.left=r.left,n.height=t.getItemHeight(n.index,r.width);var i=n.top+n.height;i>e.height&&(e.height=i);for(var a=0;a<r.space;a++)e.cols[n.col+a]=i}function s(e,t,n){var r,o,s,u,c=t.getItemCount();for(s=n||0;c>s;s++)for(r=e.items[s]||{},r.index=s,r.kind=t.getItemKind?t.getItemKind(s):"item",o=i(e,t,r,e.lastPlaced[r.kind]),o?(a(e,t,r,o),e.lastPlaced[r.kind]=o):e.unplaced.push(r),e.items[s]=r,u=0;u<e.unplaced.length;u++)r=e.unplaced[u],o=i(e,t,r,e.lastPlaced[r.kind]),o&&(a(e,t,r,o),e.lastPlaced[r.kind]=o,e.unplaced.splice(u--,1));for(u=0;u<e.unplaced.length;u++)r=e.unplaced[u],r.left=-9999,r.top=-9999,r.height=0,r.width=0;return e.dirty=!1,e}function u(e,t,n){return e.items.filter(function(e){return e.top+e.height>=t&&e.top<n})}function c(e,t,n){for(var r,o,i,a,s,u=0,c=e.items[u];u<e.items.length;u+=1,c=e.items[u])i=t-(c.left+c.width/2),a=n-(c.top+c.height/2),s=Math.sqrt(i*i+a*a),(void 0===o||o>s)&&(o=s,r=u);return e.items[r]}function l(e,t){var r=n(e.thresholds,t);r!==e.cols.length&&(e.dirty=!0,e.cols.splice(r,e.thresholds.length));for(var o=0;r>o;o++)e.cols[o]=0;return e.colWidth=(t-(r-1)*e.cellPadding)/r,e.maxColumnWidth&&(e.colWidth=Math.min(e.colWidth,e.maxColumnWidth)),e.height=0,e.lastPlaced={},e.unplaced=[],e.currentMaxDelta={},e.resized=!0,e}function d(e,t,n){var r={thresholds:t,maxColumnWidth:n&&n.maxColumnWidth,cellPadding:n&&n.cellPadding||10,colWidth:0,cols:[],items:[],height:0,dirty:!0,resized:!1,lastPlaced:{},unplaced:[],multiColMaxDelta:n&&n.multiColMaxDelta||20,absoluteMaxDelta:n&&n.absoluteMaxDelta||40,currentMaxDelta:{}};return r=l(r,e)}e.exports={createLayout:d,resizeLayout:l,updateLayout:s,getVisibleItems:u,getItemAtPoint:c}},function(e,t,n){var r=n(168),o=n(72);e.exports=function(e,t,n){function i(){if(U){U=!1,O=o.getPositionOnPage(E),F=o.getViewportHeight();var e,n;D!==E.clientWidth&&(D=E.clientWidth,e=d(),n=N.cols.length,N=r.resizeLayout(N,D,F),n!==N.cols.length&&w&&w(D,N.cols.length),r.updateLayout(N,t,0),l()),e&&h&&p(e.index)}var i=I-v,s=S+y;o.renderLayout(N,P,t,i,s),t.loadMore&&S>N.height&&R&&!j&&a()}function a(){j=!0,C&&C.parentNode&&C.parentNode.removeChild(C),x&&E.appendChild(x),t.loadMore(s)}function s(){j=!1,x&&x.parentNode&&x.parentNode.removeChild(x),t.getItemCount()>N.items.length?(R=!0,r.updateLayout(N,t,N.items.length),C&&C.parentNode&&C.removeChild(C)):(R=!1,C&&E.appendChild(C)),l(),T=o.requestAnimationFrame(i,T)}function u(){_=o.getScrollPosition();var e=_-O;I=Math.max(e,0),S=e+F,T=o.requestAnimationFrame(i,T)}function c(){U=!0,T=o.requestAnimationFrame(i,T)}function l(){var e=N.height;x&&k&&(e+=k),E.style.height=e+"px",A=N.height}function d(){return _+F>O&&O+A>_?r.getItemAtPoint(N,D/2,I+(S-I)/2):null}function p(e){var t=N.items[e];t&&(t.top<I||t.top+t.height>S)&&(o.scrollTo(t.top+t.height/2-O),u())}function f(){window.addEventListener("scroll",u),h&&window.addEventListener("resize",c)}function m(){window.removeEventListener("scroll",u),window.removeEventListener("resize",c)}if(!(t&&t.initElement&&t.updateElement&&t.getItemHeight))throw Error("Error: Grid needs a valid data provider!");var h,g=n||{},v=g.spaceBefore||500,y=g.spaceAfter||500,b=g.columnThresholds||[0,360,768],w=g.onLayoutChange;h=void 0===g.observeWindowSize||null===g.observeWindowSize?!0:g.observeWindowSize;var x,C,k=g.spinnerHeight;g.spinner&&(x=document.createElement("div"),x.style.position="absolute",x.style.width="100%",x.style.textAlign="center",x.style.height=k+"px",x.style.bottom="0px",x.innerHTML=g.spinner),g.noMoreResults&&(C=document.createElement("div"),C.style.position="absolute",C.style.width="100%",C.style.textAlign="center",C.style.height=k+"px",C.style.bottom="0px",C.innerHTML=g.noMoreResults);var E=e;"string"==typeof E&&(E=document.querySelector(e));var _,I,S,T,A=E.clientHeight,P=o.createElementPool(E),F=o.getViewportHeight(),O=o.getPositionOnPage(E),D=E.clientWidth,R=!0,j=!1,U=!0,N=r.createLayout(E.clientWidth,b,{maxColumnWidth:g.columnMaxWidth,cellPadding:g.cellPadding,multiColMaxDelta:g.multiColMaxDelta});return w&&w(D,N.cols.length),r.updateLayout(N,t,0),f(),l(),u(),i(),{scrollToIndex:p,getVisibleItems:function(){return r.getVisibleItems(N,I,S)},render:function(){U=!0,D=-1,u(),o.returnAllElementsToPool(N,P),T=o.requestAnimationFrame(i,T)},forceRender:function(){U=!0,D=-1,u(),o.returnAllElementsToPool(N,P),i()},update:function(){R=!0,r.updateLayout(N,t,N.items.length),l(),u()},forceLoadMore:function(){R=!0,j||a()},forceResize:function(){this.render()},attach:f,dettach:m}}},function(e,t,n){function r(){return"div_stream_ads_element_300x250_"+a++}var o=n(67),i=n(105),a=0;t.create=function(e,t){var a,s=!1,u=0;!function(){e.template=i,e.adId=r(),e.isRegistered=!1,a=n(8).create(e),a.setHeight(300)}();var c=a.didInsertElement;a.didInsertElement=function(){c(),s=!0;var n=a.getDomElement();n&&(a.isRegistered||(a.isRegistered=!0,setTimeout(function(){o.create({rootElm:document.getElementById(a.adId),dfpTargeting:t.dfpTargeting,adProviderConfig:{sizes:[[300,250]],network:e.mayContainVideo?"/30443627/Issuu_Production_Stream":"/30443627/UAT_No_Video",amazonSourceId:"3385",adRequestTimeout:1e3}}).show()},0)))},a.isInDom=function(){return s};var l=a.setPosition;a.setPosition=function(e){u&&(e.x+=u),l(e)};var d=a.getPosition;a.getPosition=function(){var e=d();return e.x-=u,e},a.getMinWidth=function(){return 300},a.getMinHeight=function(){return 250};var p=a.setWidth;return a.setWidth=function(e){var t=Math.max(e,a.getMinWidth());u=Math.floor((e-t)/2),p(t)},a.willShow=function(){return!0},a}},function(e,t,n){(function(e){var r=n(2),o={1:{start:1,distance:12,delta:0},2:{start:1,distance:5,delta:10},3:{start:1,distance:7,delta:20},4:{start:2,distance:10,delta:20}},i=n(170),a=n(172);t.create=function(t){function n(e){for(var t=0,n=h.length-1;n>t;t++)if(e<=h[t])return t+1;return h.length}function s(t){e.forEach(t,function(e){switch(e.type){case"first":e.mayContainVideo=!0,f.push(i.create(e,v));break;case"300x250":f.push(i.create(e,v));break;case"native":f.push(a.create(e,v))}})}function u(e){return{uniqueId:Math.floor(1e4*Math.random()),type:e}}function c(){s([u("native"),u("300x250")])}var l,d={},p=[],f=[],m=2,h=[],g=0,v=t||{};return d.onLayoutChange=function(t){e.forEach(p,function(e){e.setReady(!1)});var n=t.getColumnCount();l=e.defaults({},o[""+n],{start:4,distance:10,delta:15,deltaInc:1,deltaMax:40}),g=l.delta,h=[];for(var i=1;n>=i;i++)h.push(t.getColumnWidth(i));return f=p.concat(f),p=[],r.log("stream-ads","on Layout update, ads in queue: "+f.length),d},d.getAdForPosition=function(t){if(!l||e.isEmpty(f))return void 0;var r=f[0],o=e.last(p),i=(e.isObject(o)?o.flatIndex:0)||l.start-l.distance;if(r.willShow()&&t-i>=l.distance){var a=g;return g<l.deltaMax&&(g+=l.deltaInc),{item:r,columnsCount:n(r.getMinWidth()),maxDelta:a}}return void 0},d.onAddPositioned=function(t,n){return f=e.without(f,t),g=l.delta,f.length<=m&&c(),t.flatIndex=n,p.push(t),t.setReady(!0),r.log("stream-ads","ads on screen: "+p.length),d},function(){s([u("first")]),c()}(),d}}).call(t,n(1))},function(e,t,n){function r(){return"div_stream_ads_element_native_"+a++}var o=n(150),i=n(106),a=0;t.create=function(e,t){var a,s,u=!1;!function(){e.template=i,e.adId=r(),s=o.create({adType:"native",allowed:!0,isProductionEnv:t.isProductionEnv,dfpTargeting:t.dfpTargeting,isoCountry:t.isoCountry,adsConfig:t.adsConfig}),a=n(8).create(e),a.setHeight(440)}(),a.isInDom=function(){return u};var c=a.didInsertElement;a.didInsertElement=function(){c(),u=!0;var e=a.getDomElement();e&&s.show(a.adId)},a.getMinWidth=function(){return 220};var l=a.setWidth;return a.setWidth=function(e){var t=Math.max(e,a.getMinWidth());l(t)},a.willShow=function(){return s.willShow()},a}},function(e,t,n){function r(e){var t=e.creative.docid.split("-");e.publicationId=t[1],e.publicationCreationTime=null,e.isExplicit=null,e.title=e.creative.title||"",e.ownerUsername=e.creative.username,e.revisionId=t[0],e.pageCount=null,e.publicationName=e.creative.docname,e.detectedLanguage=null,e.description=e.creative.body||""}var o=n(4),i=n(7),a=n(2),s=n(12),u=n(23),c=n(9);t.create=function(e){function t(){l.imgHeight=function(){var e;return e=l.content.height&&l.content.width?Math.round(l.content.height/l.content.width*l.width):0}()}r(e.content);var l=n(8).create(e);l.imgHeight=function(){var e;return e=l.content.height&&l.content.width?Math.round(l.content.height/l.content.width*l.width):0}(),l.coverImage=function(){return s.pageLargeThumbUrl(l.content.publicationId,l.content.revisionId,l.content.creative.page)}(),l.shortDescription=function(){return u.getShortDescription(l.content.description)}();var d=l.setWidth;l.setWidth=function(e){d(e),t()};var p=l.didInsertElement;return l.didInsertElement=function(){p();var e=l.getDomElement();if(e){o.broadcast(c.DOCCREATED,l.id,{publicationId:l.content.publicationId,revisionId:l.content.revisionId,ownerUsername:l.content.ownerUsername,publicationName:l.content.publicationName,adpageId:l.content.adId,adpageToken:l.content.token,page:1,origin:l.origin,ranking:l.flatIndex,x:e.offset().left,y:e.offset().top,width:l.getHeight(),height:l.getWidth()});var t=e.find("a img");t.one("load",function(e){o.broadcast(c.DOCLOADED,l.id),t.off("error")}),t.one("error",function(e){o.broadcast(c.ADERROR,{publicationId:l.content.publicationId,url:l.coverImage,adid:l.content.adId}),t.off("load")}),t.parent("a").on("click",function(e){a.log("promoted","targeted ad clicked adid: ",l.content.adId);var t=i.create("ad.",i.SESSION,{expires:120});t.set(l.content.publicationId,l.content.adId),o.broadcast(c.DOCCLICKED,l.id,{publicationId:l.content.publicationId,url:$(e.currentTarget).attr("href"),clickX:e.clientX,clickY:e.clientY}),o.broadcast(o.events.streamDocumentClicked,{title:l.content.title,event:e})})}},function(){t()}(),l}},function(e,t,n){t.create=function(e){var t=n(73).create(e);return t.publicationUrl=t.publicationUrl+"?e=0",t}},function(e,t,n){(function(e){function r(t,n,r){var o=r||"content";return function(r,i){var a=e.extend({content:r[o]||r.content,origin:r.origin,template:n},i);return t.create(a)}}var o=n(6),i=n(2),a=n(173),s=n(179),u=n(73),c=n(174),l=n(177),d=n(8),p=n(181),f=n(178),m=n(180);t.cookieDebugStyle={key:"stream.debug.style",style1:"style1",style2:"style2"};var h=o.get(window.location.hostname+t.cookieDebugStyle.key);t.onlyKnownTypesAllowed=!0,t.Elements={},t.Elements.ad=r(a,n(107)),t.Elements.promotion=r(s,n(111)),t.Elements.doc=r(u,n(57)),t.Elements.docExternal=r(c,n(57)),t.Elements.removabledoc=r(u,n(108)),t.Elements.infobox=r(l,n(58)),t.Elements.subscriber=r(m,n(29),"user"),t.Elements.publisher=r(m,n(29)),t.Elements.stack=r(p,n(30),"stack"),t.Elements.newstack=r(f,n(30),"stack"),t.Elements.dummy=r(d,n(58)),t.Elements.subscriptionuser=r(m,n(29),"subscription"),t.Elements.subscriptionstack=r(p,n(30),"subscription"),t.Elements.subscriptiondoc=r(u,n(109)),t.Elements.image_infobox=r(n(176),n(110)),t.Elements.like_element=t.Elements.doc,t.Elements.read_history_element=t.Elements.doc,t.get=function(e,n,r){var o="",a="";if(h){var s=e.debug_info||{},u=s.color||"",c=e.origin?'<p style="text-align:center;" >'+e.origin.join(":")+"</p>":"";h===t.cookieDebugStyle.style2?(u=u||"rgba(0, 0, 0, 0.61)",a="padding: 2px; background-color: "+u+";",o+='<div style="z-index:100; width:100%; height:100%; position: absolute; opacity:0.95; text-align:center; background-color: '+u+';">',o+='<h1 style="color:white; font-size: 35pt; bottom: 20px; position: absolute; width:100%">'+n+"</h1>",o+=c,o+="</div>"):(a="padding: 2px; box-sizing: border-box; border:5px solid "+u+";",o+='<p style="font-weight:bolder ; text-align:center;" >'+n+"</p>",o+=c,o+=s.kind||"",s.config_info&&(o+=":"+s.config_info))}var l={flatIndex:n,debugTxt:o,debugStyle:a,options:r},d=t.Elements[e.type];return"function"==typeof d?d(e,l):(i.log("stream","undefined stream element type",e),h||!t.onlyKnownTypesAllowed?t.Elements.dummy(e,l):void 0)},t.dummyElm=function(){var e={debug_info:{color:"blue",kind:"t",config_info:"t"},type:"dummy",content:{width:1,height:1}};return t.get(e,0)}}).call(t,n(1))},function(e,t,n){var r=n(4),o=n(63),i=n(9);t.create=function(e){var t=n(8).create(e);t.imgBase=o.urlBase("content")+"/image-infobox/";var a=t.content.height/(t.content.width||1);t.setWidth=function(e){t.width=e,t.height=Math.round(a*e)};var s=t.didInsertElement;return t.didInsertElement=function(){s();var e=t.getDomElement();e&&(r.broadcast(i.INFOBOXCREATED,t.id,{uniqueId:t.id,infoboxId:""+t.content.id,origin:t.origin,ranking:t.flatIndex,x:e.offset().left,y:e.offset().top,width:t.getHeight(),height:t.getWidth()}),e.find("a").on("click",function(e){var n=$(e.currentTarget).attr("href");r.broadcast(i.INFOBOXCLICKED,t.id,{uniqueId:t.id,infoboxId:""+t.content.id,url:n,origin:t.origin,ranking:t.flatIndex,clickX:e.clientX,clickY:e.clientY}),e.altKey||e.metaKey||e.ctrlKey||e.shiftKey||1!==e.which||(e.preventDefault(),window.setTimeout(function(){window.location=n},50))}))},t}},function(e,t,n){var r=n(4),o=n(9);t.create=function(e){var t=n(8).create(e),i=t.didInsertElement;return t.didInsertElement=function(){i();var e=t.getDomElement();e&&(r.broadcast(o.INFOBOXCREATED,t.id,{uniqueId:t.id,infoboxId:t.content.id,origin:t.origin,ranking:t.flatIndex,x:e.offset().left,y:e.offset().top,width:t.getHeight(),height:t.getWidth()}),e.find("a").on("click",function(e){var n=$(e.currentTarget).attr("href");r.broadcast(o.INFOBOXCLICKED,t.id,{uniqueId:t.id,infoboxId:t.content.id,url:n,origin:t.origin,ranking:t.flatIndex,clickX:e.clientX,clickY:e.clientY}),e.altKey||e.metaKey||e.ctrlKey||e.shiftKey||1!==e.which||(e.preventDefault(),window.setTimeout(function(){window.location=n},50))}))},t}},function(e,t,n){var r=n(162);t.create=function(e){var t,o=e.options,i=r.create(o);e.content.coverMarkup=i.getMarkup(),t=n(8).create(e);var a=t.didInsertElement;return t.didInsertElement=function(){a(),i.didInsertElement(t.getDomElement().children())},t}},function(e,t,n){var r=n(4),o=n(7),i=n(2),a=n(12),s=n(23),u=n(9);t.create=function(e){function t(){c.imgHeight=function(){var e;return e=c.content.height&&c.content.width?Math.round(c.content.height/c.content.width*c.width):0}()}var c=n(8).create(e);c.imgHeight=function(){var e;return e=c.content.height&&c.content.width?Math.round(c.content.height/c.content.width*c.width):0}(),c.coverImage=function(){return a.pageLargeThumbUrl(c.content.publicationId,c.content.revisionId,0)}(),c.shortDescription=function(){return s.getShortDescription(c.content.description)}();var l=c.setWidth;c.setWidth=function(e){l(e),t()};var d=c.didInsertElement;return c.didInsertElement=function(){d();var e=c.getDomElement();if(e){r.broadcast(u.DOCCREATED,c.id,{publicationId:c.content.publicationId,revisionId:c.content.revisionId,ownerUsername:c.content.ownerUsername,publicationName:c.content.publicationName,adpageId:c.content.adId,page:1,origin:c.origin,ranking:c.flatIndex,x:e.offset().left,y:e.offset().top,width:c.getHeight(),height:c.getWidth()});var t=e.find("a img");t.one("load",function(e){r.broadcast(u.DOCLOADED,c.id),t.off("error")}),t.one("error",function(e){r.broadcast(u.ADERROR,{publicationId:c.content.publicationId,url:c.coverImage,adid:c.content.adId}),t.off("load")}),t.parent("a").on("click",function(e){i.log("promoted","promoted document clicked adid: ",c.content.adId);var t=o.create("ad.",o.SESSION,{expires:120});t.set(c.content.publicationId,c.content.adId),r.broadcast(u.DOCCLICKED,c.id,{publicationId:c.content.publicationId,url:$(e.currentTarget).attr("href"),clickX:e.clientX,clickY:e.clientY}),r.broadcast(r.events.streamDocumentClicked,{title:c.content.title,event:e})})}},function(){t()}(),c}},function(e,t,n){(function(e){var r=n(194);t.create=function(t){var o=e.merge({followOptions:t.options&&t.options.showFollowMenu?{type:"user",id:t.content.username,initialStatus:t.content.followStatus||"nofollow"}:void 0},t.options),i=r.create(t.content,o);t.content.publisherMarkup=i.getMarkup();var a=n(8).create(t);return a}}).call(t,n(1))},function(e,t,n){(function(e){var r=n(161);t.create=function(t){var o,i=e.merge({followOptions:t.options&&t.options.showFollowMenu?{type:"stack",id:t.content.id,initialStatus:t.content.followStatus||"nofollow"}:void 0},t.options),a=i.onStackUpdated||function(){};i.onStackUpdated=function(e){o.setHeight(o.getDomElement().height()),a.apply(void 0,arguments)};var s=i.onStackDeleted||function(){};i.onStackDeleted=function(e){o.remove(),s.apply(void 0,arguments)};var u=r.create(t.content,i);t.content.coverMarkup=u.getMarkup(),o=n(8).create(t);var c=o.didInsertElement;return o.didInsertElement=function(){c(),u.didInsertElement(o.getDomElement().children())},o}}).call(t,n(1))},function(e,t,n){(function(e){var r=n(2),o=n(186),i=n(184),a=n(193),s=n(175),u=n(185);t.create=function(t,c){function l(e){y.push(e),v.addElement(e),x.addElement(e),e.didInsertElement()}function d(t,n){var r=[],o="",i=y.length;return e.forEach(e.compact(t),function(e,t){var a=w.get(e,r.length+i,n);a&&(a.setWidth(v.getColumnWidth()),o+=a.getTemplate(),r.push(a))}),$(o).appendTo(b.domElement),window.setTimeout(function(){e.forEach(r,function(e){p(y.length),l(e)}),window.setTimeout(function(){e.forEach(r,function(e){e.setReady(!0)}),b.setHeight(v.getHeight())},0)},0),r}function p(t){function n(n){C.onAddPositioned(n.item,t),n.item.isInDom()||($(n.item.getTemplate()).appendTo(b.domElement),e.defer(function(){n.item.didInsertElement()}))}if(C){var r=C.getAdForPosition(t);r&&(1===r.columnsCount?(r.item.setWidth(v.getColumnWidth()),v.addElement(r.item),n(r)):v.tryAddMultiColumnItem(r.item,r.columnsCount,r.maxDelta,function(){n(r)}))}}function f(e,t){var n=w.get(e,y.length,t);return n&&(n.setWidth(v.getColumnWidth()),$(n.getTemplate()).appendTo(b.domElement),n.didInsertElement(),y.push(n),v.addElement(n),x.addElement(n),n.setReady(!0),b.setHeight(v.getHeight())),n}function m(t,n){var r=$.Deferred(),o={visible:!1,actionDone:!1};return n===!0?(t(),o.visible=!0,o.actionDone=!0,r.resolve(o)):(b.domElement.css("visibility","hidden"),r.notify(e.clone(o)),window.setTimeout(function(){t(),o.actionDone=!0,r.notify(e.clone(o)),window.setTimeout(function(){b.domElement.css("visibility",""),o.visible=!0,r.resolve(o)},1e3)},100)),r.promise()}function h(){var e=b.getWidth();if(E.columnWidth&&E.columnWidth>0)k=E.columnWidth;else{var t=w.dummyElm(),n=$(t.getTemplate()).appendTo(b.domElement);k=n.outerWidth(),n.remove()}E.totalWidth&&E.totalWidth>=k&&(e=E.totalWidth),v=i.create({gutterWidth:E.gutterWidth,gutterHeight:E.gutterHeight,totalWidth:e,columnWidth:k}),C&&C.onLayoutChange(v)}function g(){var e=-1,t=-1;switch(parseInt(o.getIosMajorVersion(),10)){case 4:case 5:e=1,t=3}x=u.create(b.domElement,e,t),void 0!==x.onScroll&&(_=n(66)({onFire:function(){x.onScroll(y)}}))}var v,y,b,w,x,C,k,E,_;t.hasClass("stream-list")||t.addClass("stream-list"),function(){E=e.merge({gutterWidth:-1,gutterHeight:-1,totalWidth:-1,columnWidth:-1},c),b=a.create(t),y=[],w=s,g(),h()}();var I={addElements:d,addElement:f,relayout:function(t){return m(function(){h(),e.forEach(y,function(e,t){p(t),v.addElement(e)}),b.setHeight(v.getHeight()),x.reset(y)},t)},resize:function(e){return m(function(){v.resize.apply(v,arguments),b.setHeight(v.getHeight()),x.reset(y)},e)},getAdsManager:function(){return C},setAdsManager:function(t){e.isObject(t)?e.isFunction(t.getAdForPosition)&&e.isFunction(t.onAddPositioned)&&e.isFunction(t.onLayoutChange)?(C=t,C.onLayoutChange(v)):(C=void 0,r.error("AdManager for stream invalid")):C=void 0},getAdvanceApi:function(){return{options:E,initLayout:h,view:b,getModel:function(){return y},getLayout:function(){return v},getFactory:function(){return w},setModel:function(e){y=e},setLayout:function(e){v=e},setFactory:function(e){w=e}}},destroy:function(){_&&_.destroy(),b.reset()},getContentCount:function(){return y.length}};return I}}).call(t,n(1))},function(e,t,n){var r=n(21),o=n(2),i=n(24),a=i.create("history",i.SESSION,{maxSize:20,items:{expires:1440}}),s=a.getKeys(),u=location.href,c=document.referrer,l=!1,d=1;if(""!==c){var p=new r(c),f=new r(location.href);f.host()===p.host()&&f.protocol()===p.protocol()&&(d=2),l=s.length>=d&&s[s.length-d]===u}var m={seed:Math.round(1e4*Math.random())};if(l){for(var h=0,g=d;g>h;h++)m=a.pop().value;o.log("History","Use history cache with key: "+u+" / data: "+m)}a.push(u,m),t.getData=function(){return m},t.setData=function(e){m=e,a.updateLast(e)},t.getKey=function(e){return m[e]},t.setKey=function(e,n){m[e]=n,t.setData(m)},t.clear=function(){a.clear()}},function(e,t,n){(function(e){var r=n(2);t.create=function(t){function n(e){var n;return n=!e||2>e?t.columnWidth:t.columnWidth+(t.columnWidth+t.gutterWidth)*(e-1)}function o(e){("number"!=typeof e||0>e)&&r.error(new Error("Invalid parameter in layout-manager options."))}function i(t){var n,r=e.last(w[t]);return n=r?r.getPosition().y+r.getHeight():0}function a(){return e.map(w,function(e,t){return i(t)})}function s(t){return e.map(a(),function(e,n,r){var o=[];if(n>=t-1)for(var i=1;t>i;i++)o.push(Math.abs(r[n-i]-e));return o})}function u(r,o,u,c){if(w.length>=o){var l=!1,d=0;if(1===w.length)l=!0;else{var p=e.map(s(o),function(t,n){return{idx:n-o+1,val:e.min(t),height:i(n)}}),m=e.first(e.sortBy(p,["val","height"]));l=!u||m.val<u,d=m.idx}if(l){for(var h=a(),g=0,v=d;d+o>v;v++){w[v].push(r);var y=h[v];y>g&&(g=y)}r.setWidth(n(o)),r.setPosition({x:d*(t.columnWidth+t.gutterWidth),y:f(g)}),e.isFunction(c)&&c(r)}}}function c(e,n){for(var r=w[e],o=e*(t.columnWidth+t.gutterWidth),i=n,a=r.length;a>i;i++){var s=r[i],u=s.getPosition(),c=0;if(0!==i){var l=r[i-1];c=l.getPosition().y+l.getHeight()+t.gutterHeight}(c!==u.y||o!==u.x)&&s.setPosition({x:o,y:c})}}function l(t,n){var r="number"==typeof n?n:0;"number"==typeof t?c(t,r):e.each(w,function(e,t){c(t,r)})}function d(t){e.forEach(t,function(e){p(e)})}function p(e,n,o){if(void 0===e)return r.log("stream","layoutManager:addElement invalid arguments: ",arguments),{x:0,y:0};var a,s=!1,u=n,c=o;if(void 0===u||0>u||u>=w.length){var d=h();a=d.y,u=d.col,c=w[u].length,w[u].push(e)}else void 0===c||0>c||c>=w[u].length?(a=f(i(u)),c=w[u].length,w[u].push(e)):(s=!0,a=f(w[u][c].getPosition().y),w[u].splice(c,0,e));return e.setPosition({x:u*(t.columnWidth+t.gutterWidth),y:a}),s&&l(u,c),{col:u,row:c}}function f(e){var n=e;return e>0&&(n+=t.gutterHeight),n}function m(){return w.length}function h(){var n,r,o=a();return n=e.min(o),r=e.indexOf(o,n),o[0]-n<100&&(r=0,n=o[0]),{y:f(n),col:r,x:r*(t.columnWidth+t.gutterWidth)}}function g(){return w}function v(){return e.max(a())}function y(){var e,n=w.length;return e=n>0?n*t.columnWidth+(n-1)*t.gutterWidth:0}function b(){var e=t.totalWidth+t.gutterWidth,n=t.columnWidth+t.gutterWidth,r=Math.floor(e/n);w=[];for(var o=0;r>o;o++)w.push([])}var w=[];return function(){o(t.totalWidth),o(t.columnWidth);var e=Math.floor(t.totalWidth/t.columnWidth)-1;(null===t.gutterWidth||t.gutterWidth<0)&&(e>0?t.gutterWidth=Math.floor(t.totalWidth%t.columnWidth/e):t.gutterWidth=0),(null===t.gutterHeight||t.gutterHeight<0)&&(e>0||t.gutterWidth>0?t.gutterHeight=t.gutterWidth:t.gutterHeight=25),b()}(),{getColumnWidth:n,tryAddMultiColumnItem:u,getMatrix:g,getColumnCount:m,getHeight:v,getWidth:y,getNextPosition:h,addElement:p,addElements:d,resize:l,reset:b}}}).call(t,n(1))},function(e,t){t.create=function(e,t,n){function r(e){var t=e.getPosition().y,n=t+e.getHeight();return-1===m?n>f:-1===f?m>t:m>t&&n>f}function o(){var r=$(window).scrollTop()-$(e).offset().top,o=window.innerHeight;p=r>d,d=r,f=Math.max(0,d-t*o),f=t>0?Math.max(0,d-t*o):-1,m=n>0?Math.max(0,d+n*o):-1}function i(e){e.setOutOfScreen(!r(e))}function a(e){for(var t=0,n=e.length;n>t;t++)i(e[t])}function s(e,t,n,o){var i=1,a=n,s=t-1;t>n&&(i=-1,a=t+1,s=n);for(var u=t;a>u&&u>s;u+=i){var c=e[u],l=r(c);if(l===o)return u;c.setOutOfScreen(!l)}return-1}function u(e){o(),p?s(e,0,e.length):s(e,e.length-1,-1)}function c(e){d=-1,o(),s(e,0,e.length)}var l={},d=0,p=!0,f=0,m=0;return function(){function e(){}function r(t){return d?e:t}(void 0===t||isNaN(t))&&(t=-1),(void 0===n||isNaN(n))&&(n=-1);var d=0>n&&0>t;d||o(),l.addElement=r(i),l.addElements=r(a),l.updateElements=r(s),l.onScroll=d?void 0:u,l.reset=r(c)}(),l}},function(e,t){function n(){return!!navigator.userAgent.match(/iPad/i)}function r(){return!!navigator.userAgent.match(/iPod/i)}function o(){return!!navigator.userAgent.match(/iPhone/i)}function i(){var e=navigator.userAgent.match(/.*?OS (.+?)_.*/i);return e&&e.length>1&&(n()||r()||o())?e[1]:0}e.exports={getIosMajorVersion:i}},function(e,t,n){var r=n(112);t.create=function(e){function t(){p.find(".loading, .nomore, .none").hide()}function n(){m&&"hidden"!==f&&p.css("display","")}function o(e){"loading"!==f&&(f="loading",t(),n(),p.find(".loading").css("display",""))}function i(e){"none"!==f&&(f="none",t(),n(),p.find(".none").css("display",""))}function a(e){"nomore"!==f&&(f="nomore",t(),n(),p.find(".nomore").css("display",""))}function s(){"hidden"!==f&&(f="hidden",p.hide(),t())}function u(e){m=e,e?p.css("display",""):p.hide()}function c(e){p.css({visibility:e?"":"hidden"})}function l(){p.remove()}var d,p,f,m=!0;return function(){d=$(e),f="hidden",p=$(r()),t(),d.after(p.hide().css({position:"relative",width:"100%",textAlign:"center"}))}(),{loading:o,noResults:i,noMoreResults:a,hide:s,setVisibility:c,setDisplay:u,destroy:l}}},function(e,t,n){(function(e){function r(){}var o=n(14).__,i=n(4),a=n(64),s=n(171),u=n(183),c=n(74).init();t.create=function(t){function l(){H&&(e.merge(V,u.getKey(L)),P.getAdvanceApi().view.setMinHeight(V.viewMinHeight))}function d(){H&&W>V.streamApiCallCount&&(V.streamApiCallCount=W,V.viewMinHeight=P.getAdvanceApi().view.getHeight(),u.setKey(L,V))}function p(e,n){A.isThereMore()||0!==P.getContentCount()||(t.hideSpinnerMessages?T.hide():T.noResults(),D.setActive(!1)),e.stream.length>0&&(W===V.streamApiCallCount-1&&P.getAdvanceApi().view.setMinHeight(0),P.addElements(e.stream,t.elementOptions),F(e),d(),T.hide()),W>0&&i.broadcast(i.events.pageContinuation,{streamIndex:W}),W++,window.setTimeout(function(){"function"==typeof n&&n(e)},0),W<V.streamApiCallCount&&g()}function f(e){if(e.more===!1)t.hideSpinnerMessages?T.hide():T.noMoreResults(),"function"==typeof t.onStreamCompleted&&t.onStreamCompleted(),D.setActive(!1);else if(e.busy===!0);else{D.setActive(!1),T.hide();var n=o("Oh no! There was an error trying to load more publications. You can %(LINK_START)s click here to reload the whole page %(LINK_END)s . %(NEW_LINE)s %(errorcode)s: %(errormessage)s",{errormessage:e&&e._content&&e._content.error?e._content.error.message:"Undefined error",errorcode:e&&e._content&&e._content.error?e._content.error.code:"0",LINK_START:' <a href="">',LINK_END:"</a>",NEW_LINE:"<br />"},{dangerouslySkipEscaping:!0});i.broadcast(i.events.messagehubWarn,n)}"function"==typeof O&&O(e)}function m(){for(var e=0,t=K.length;t>e;e++)K[e]();K=[]}function h(e,t,n){var r=n||{};z?(m(),e.apply(r,t)):K.push(function(){e.apply(r,t)})}function g(e){var n;if(!G){G=!0,0===P.getContentCount()?n=setTimeout(T.loading,500):T.loading();var r=N||A.getMore();N=void 0,r.then(function(n){"function"==typeof t.filterApiResponse&&(n=t.filterApiResponse(n)),G=!1,h(p,[n,e])},function(){h(f,arguments)}).always(function(){clearTimeout(n)})}}function v(){!G&&z&&0===K.length&&g()}function y(){return U!==P.getAdvanceApi().view.getWidth()?P.relayout().done(function(){U=P.getAdvanceApi().view.getWidth(),"function"==typeof t.onStreamRelayout&&t.onStreamRelayout()}):$.Deferred().resolve().promise()}function b(){D=n(66)({distanceToBottom:1500,onFire:v}),B&&(R=n(149)({delay:200,onFire:y}))}function w(){return void 0===N&&(N=A.getMore()),N}function x(){q||(T=n(187).create(t.streamcontainer),q=!0,b(),g(t.onStreamLoaded))}function C(){z=!0,m()}function k(){z=!1}function E(){M!==!0&&(M=!0,C(),T.setDisplay(!0),P.getAdvanceApi().view.setDisplay(!0))}function _(){M!==!1&&(M=!1,k(),T.setDisplay(!1),
P.getAdvanceApi().view.setDisplay(!1))}function I(e){T.setVisibility(e),P.getAdvanceApi().view.setVisibility(e)}function S(){R&&R.destroy(),D&&D.destroy(),T&&T.destroy(),j()}var T,A,P,F,O,D,R,j,U,N,L,M,H=!0,B=!0,W=0,q=!1,z=!0,K=[],V={streamApiCallCount:0,viewMinHeight:0},G=!1;return function(){c.start(),H=t.useHistoryData!==!1,B=t.observeWindowSize!==!1,F=t.onStreamUpdated||r,O=t.onStreamFailed||r,t.apiParams=t.apiParams||{},t.apiParams.seed=t.apiParams.seed||u.getData().seed,A=a.create(t.path,t.apiParams,t.apiOptions),L="stream"+A.getKey(),P=n(182).create($(t.streamcontainer)),j=P.destroy,l(),t.ads&&P.setAdsManager(s.create(t.ads)),t.autoStart!==!1&&x(),U=P.getAdvanceApi().view.getWidth(),P.preload=w,P.start=x,P.onVisible=C,P.onInvisible=k,P.addMoreDocuments=g,P.resizeStream=y,P.setVisibility=I,P.show=E,P.hide=_,P.destroy=S}(),P}}).call(t,n(1))},function(e,t,n){var r=n(4),o=n(2),i=n(9);t.create=function(){function e(e,t){o.log("streamTracker","onStreamAdInserted: ",t),s.track({event:"streamAdInserted",data:{adProvider:t.advertiser,placement:t.placement,streamOrigin:t.origin||null,ranking:t.ranking,timespan:new Date-a}}),s.allowImpressionTracking(e)}function t(e,t){o.log("streamTracker","onStreamAdNotAvailable: ",t),s.track({event:"streamAdNotAvailable",data:{adProvider:t.advertiser,placement:t.placement,streamOrigin:t.origin||null,ranking:t.ranking,timespan:new Date-a}})}var a,s=n(45).create();return s.addElement=function(e,t){var n=s._super.addElement.apply(s,arguments);return o.log("streamTracker","onStreamAdRequest: ",t),a=new Date,s.track({event:"streamAdRequest",data:{adProvider:t.advertiser,placement:t.placement,streamOrigin:t.origin||null,ranking:t.ranking}}),n},s.doImpressionTracking=function(e){var t=e.data;return o.log("streamTracker","onStreamAdImpression: ",t),s.track({event:"streamAdImpression",data:{adProvider:t.advertiser,placement:t.placement,streamOrigin:t.origin||null,ranking:t.ranking}}),s._super.doImpressionTracking(e)},s.start=function(n){var o=s._super.start.apply(s,arguments);return r.subscribe(i.STREAMADREQUEST,s.addElement),r.subscribe(i.STREAMADINSERTED,e),r.subscribe(i.STREAMADNOTAVAILABLE,t),o},s.stop=function(){return r.unsubscribe(i.STREAMADREQUEST,s.addElement),r.unsubscribe(i.STREAMADINSERTED,e),r.unsubscribe(i.STREAMADNOTAVAILABLE,t),s._super.start.stop.apply(s,arguments)},s}},function(e,t,n){var r=n(4),o=n(7),i=n(2),a=n(9);t.create=function(){function e(e,t){if(e&&u.getElement(e)){var n=u.getElement(e).data;i.log("streamTracker","Document click: ",n),u.track({event:"streamDocumentClick",data:{revisionId:n.revisionId,publicationId:n.publicationId,publicationName:n.publicationName,ownerUsername:n.ownerUsername,adpageId:n.adpageId,adpageToken:n.adpageToken,streamOrigin:n.origin||null,streamRanking:n.ranking,clickCoordinates:t.clickX+"x"+t.clickY}});var r="tracking."+n.publicationId+".",a=o.create(r,o.TYPES.LOCAL,{expires:2});a.removeExpiredKeys(),a.set("stream-origin",n.origin),a.set("stream-ranking",n.ranking)}}function t(e){i.log("streamTracker","Document ImageLoading error: ",e),r.broadcast(r.events.monitorEvent,{type:"STREAM_IMG_NOT_FOUND",image_url:e.url,publication_id:e.publicationId})}function s(e){i.log("streamTracker","Ad ImageLoading error: ",e),r.broadcast(r.events.monitorEvent,{type:"STREAM_AD_IMG_NOT_FOUND",image_url:e.url,publication_id:e.publicationId,ad_id:e.adid})}var u=n(45).create();return u.doImpressionTracking=function(e){var t=e.data;return i.log("streamTracker","Document impression: ",t),u.track({event:"streamDocumentLoad",data:{revisionId:t.revisionId,publicationId:t.publicationId,publicationName:t.publicationName,ownerUsername:t.ownerUsername,adpageId:t.adpageId,pageNumber:t.page,streamOrigin:t.origin||null,streamRanking:t.ranking}}),u._super.doImpressionTracking(e)},u.start=function(n){var o=u._super.start.apply(u,arguments);return r.subscribe(a.DOCCREATED,u.addElement),r.subscribe(a.DOCLOADED,u.allowImpressionTracking),r.subscribe(a.DOCERROR,t),r.subscribe(a.DOCCLICKED,e),r.subscribe(a.ADERROR,s),o},u.stop=function(){return r.unsubscribe(a.DOCCREATED,u.addElement),r.unsubscribe(a.DOCLOADED,u.allowImpressionTracking),r.unsubscribe(a.DOCERROR,t),r.unsubscribe(a.ADERROR,s),r.unsubscribe(a.DOCCLICKED,e),u._super.start.stop.apply(u,arguments)},u}},function(e,t,n){var r=n(4),o=n(2),i=n(9);t.create=function(){function e(e,n){o.log("streamTracker","Infobox click: ",n),t.track({event:"infoboxClick",data:{infoboxId:n.infoboxId,link:n.url,streamOrigin:n.origin||null,streamRanking:n.ranking,clickCoordinates:n.clickX+"x"+n.clickY}})}var t=n(45).create();return t.addElement=function(e,n){var r=t._super.addElement.apply(t,arguments);return t.allowImpressionTracking(e),r},t.doImpressionTracking=function(e){var n=e.data;return o.log("streamTracker","Track Infobox impression : ",n),t.track({event:"infoboxLoad",data:{infoboxId:n.infoboxId,streamOrigin:n.origin||null,streamRanking:n.ranking}}),t._super.doImpressionTracking(e)},t.start=function(n){var o=t._super.start.apply(t,arguments);return r.subscribe(i.INFOBOXCREATED,t.addElement),r.subscribe(i.INFOBOXCLICKED,e),o},t.stop=function(){return r.unsubscribe(i.INFOBOXCREATED,t.addElement),r.unsubscribe(i.INFOBOXCLICKED,e),t._super.start.stop.apply(t,arguments)},t}},function(e,t,n){(function(e){function n(){}t.consolidateFn=function(e){var t;return t="function"!=typeof e?n:e},t.getter=function(e,n,r){var o=t.consolidateFn(r);return function(){var t=e[n];return o(t),t}},t.setter=function(e,n,r){var o=t.consolidateFn(r);return function(t){return e[n]=t,o(t),t}},t.addSuperFn=function(t){var n={_super:t._super};return e.forOwn(t,function(t,r){e.isFunction(t)&&(n[r]=t)}),t._super=n,t}}).call(t,n(1))},function(e,t){t.create=function(e){var t=0;return{domElement:e,getWidth:function(){return e.width()},setWidth:function(t){e.width(t)},getHeight:function(){return e.height()},setMinHeight:function(n){t=n,e.height()<t&&e.height(t)},setDisplay:function(t){t?e.show():e.hide()},setHeight:function(n){n>t&&e.height(n)},reset:function(){t=0,e.css("height","")},setVisibility:function(t){e.css({visibility:t?"":"hidden"})}}}},function(e,t,n){var r=n(3),o=n(1),i=n(12),a=n(13),s=n(68),u=n(113),c=n(195);t.create=function(e,t){function n(){return u({user:d.getRawData(),profileUrl:d.getUrl(),userPhotoUrl:i.userLargePhotoUrl(d.get("username"),a.isLoggedIn()&&d.get("username")===a.getUsername()),followMenuMarkup:p.followOptions?s.create(p.followOptions):"",options:p},{helpers:f})}function l(){return d}var d,p,f=o.extend({},r.helpers,{truncTxt:function(e,t){var n,o=r.Utils.escapeExpression(e);return o?o.length>t?(n=o.substr(0,t),n.lastIndexOf(" ")>n.length-5&&(n=o.substr(0,n.lastIndexOf(" "))),n+="..."):n=o:n="",new r.SafeString(n)}});return function(){p=t||{},d=c.create(e)}(),{getMarkup:n,getModel:l}}},function(e,t,n){var r=n(12);t.create=function(e){function t(e){return void 0!==c[e]?c[e]:""}function n(e,t){c[e]=t}function o(){c.selected=!0}function i(){c.selected=!1}function a(){c.selected=!c.selected}function s(){return c.selected}function u(){return r.userProfileUrl(c.username)}var c={};return function(){c.selected=e.selected||!1,c.description=e.description||e.about||"",c.docCount=e.docCount||e.documentCount||e.numPublications||0,c.subscriberCount=e.subscriberCount||e.numFollowers||0,c.stackCount=e.stackCount||e.numStacks||0,c.username=(e.username||e.ownerUsername||"").toLowerCase(),c.displayName=e.displayName||e.ownerDisplayName||c.username,c.isBusiness=e.isBusiness||"business"===e.accountType||"B"===e.account||!1,c.isPersonal=!c.isBusiness}(),{get:t,set:n,select:o,deselect:i,toggleSelection:a,isSelected:s,getUrl:u,getRawData:function(){return c}}}},function(e,t,n){(function(e){function n(e,t){for(var n=0,r=e.length-1;r>=0;r--){var o=e[r];"."===o?e.splice(r,1):".."===o?(e.splice(r,1),n++):n&&(e.splice(r,1),n--)}if(t)for(;n--;n)e.unshift("..");return e}function r(e,t){if(e.filter)return e.filter(t);for(var n=[],r=0;r<e.length;r++)t(e[r],r,e)&&n.push(e[r]);return n}var o=/^(\/?|)([\s\S]*?)((?:\.{1,2}|[^\/]+?|)(\.[^.\/]*|))(?:[\/]*)$/,i=function(e){return o.exec(e).slice(1)};t.resolve=function(){for(var t="",o=!1,i=arguments.length-1;i>=-1&&!o;i--){var a=i>=0?arguments[i]:e.cwd();if("string"!=typeof a)throw new TypeError("Arguments to path.resolve must be strings");a&&(t=a+"/"+t,o="/"===a.charAt(0))}return t=n(r(t.split("/"),function(e){return!!e}),!o).join("/"),(o?"/":"")+t||"."},t.normalize=function(e){var o=t.isAbsolute(e),i="/"===a(e,-1);return e=n(r(e.split("/"),function(e){return!!e}),!o).join("/"),e||o||(e="."),e&&i&&(e+="/"),(o?"/":"")+e},t.isAbsolute=function(e){return"/"===e.charAt(0)},t.join=function(){var e=Array.prototype.slice.call(arguments,0);return t.normalize(r(e,function(e,t){if("string"!=typeof e)throw new TypeError("Arguments to path.join must be strings");return e}).join("/"))},t.relative=function(e,n){function r(e){for(var t=0;t<e.length&&""===e[t];t++);for(var n=e.length-1;n>=0&&""===e[n];n--);return t>n?[]:e.slice(t,n-t+1)}e=t.resolve(e).substr(1),n=t.resolve(n).substr(1);for(var o=r(e.split("/")),i=r(n.split("/")),a=Math.min(o.length,i.length),s=a,u=0;a>u;u++)if(o[u]!==i[u]){s=u;break}for(var c=[],u=s;u<o.length;u++)c.push("..");return c=c.concat(i.slice(s)),c.join("/")},t.sep="/",t.delimiter=":",t.dirname=function(e){var t=i(e),n=t[0],r=t[1];return n||r?(r&&(r=r.substr(0,r.length-1)),n+r):"."},t.basename=function(e,t){var n=i(e)[2];return t&&n.substr(-1*t.length)===t&&(n=n.substr(0,n.length-t.length)),n},t.extname=function(e){return i(e)[3]};var a="b"==="ab".substr(-1)?function(e,t,n){return e.substr(t,n)}:function(e,t,n){return 0>t&&(t=e.length+t),e.substr(t,n)}}).call(t,n(25))},function(e,t,n){"use strict";var r;if(!Object.keys){var o=Object.prototype.hasOwnProperty,i=Object.prototype.toString,a=n(77),s=Object.prototype.propertyIsEnumerable,u=!s.call({toString:null},"toString"),c=s.call(function(){},"prototype"),l=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"],d=function(e){var t=e.constructor;return t&&t.prototype===e},p={$applicationCache:!0,$console:!0,$external:!0,$frame:!0,$frameElement:!0,$frames:!0,$innerHeight:!0,$innerWidth:!0,$outerHeight:!0,$outerWidth:!0,$pageXOffset:!0,$pageYOffset:!0,$parent:!0,$scrollLeft:!0,$scrollTop:!0,$scrollX:!0,$scrollY:!0,$self:!0,$webkitIndexedDB:!0,$webkitStorageInfo:!0,$window:!0},f=function(){if("undefined"==typeof window)return!1;for(var e in window)try{if(!p["$"+e]&&o.call(window,e)&&null!==window[e]&&"object"==typeof window[e])try{d(window[e])}catch(t){return!0}}catch(t){return!0}return!1}(),m=function(e){if("undefined"==typeof window||!f)return d(e);try{return d(e)}catch(t){return!1}};r=function(e){var t=null!==e&&"object"==typeof e,n="[object Function]"===i.call(e),r=a(e),s=t&&"[object String]"===i.call(e),d=[];if(!t&&!n&&!r)throw new TypeError("Object.keys called on a non-object");var p=c&&n;if(s&&e.length>0&&!o.call(e,0))for(var f=0;f<e.length;++f)d.push(String(f));if(r&&e.length>0)for(var h=0;h<e.length;++h)d.push(String(h));else for(var g in e)p&&"prototype"===g||!o.call(e,g)||d.push(String(g));if(u)for(var v=m(e),y=0;y<l.length;++y)v&&"constructor"===l[y]||!o.call(e,l[y])||d.push(l[y]);return d}}e.exports=r},function(e,t){"use strict";function n(e,t){return Object.prototype.hasOwnProperty.call(e,t)}e.exports=function(e,t,r,o){t=t||"&",r=r||"=";var i={};if("string"!=typeof e||0===e.length)return i;var a=/\+/g;e=e.split(t);var s=1e3;o&&"number"==typeof o.maxKeys&&(s=o.maxKeys);var u=e.length;s>0&&u>s&&(u=s);for(var c=0;u>c;++c){var l,d,p,f,m=e[c].replace(a,"%20"),h=m.indexOf(r);h>=0?(l=m.substr(0,h),d=m.substr(h+1)):(l=m,d=""),p=decodeURIComponent(l),f=decodeURIComponent(d),n(i,p)?Array.isArray(i[p])?i[p].push(f):i[p]=[i[p],f]:i[p]=f}return i}},function(e,t){"use strict";var n=function(e){switch(typeof e){case"string":return e;case"boolean":return e?"true":"false";case"number":return isFinite(e)?e:"";default:return""}};e.exports=function(e,t,r,o){return t=t||"&",r=r||"=",null===e&&(e=void 0),"object"==typeof e?Object.keys(e).map(function(o){var i=encodeURIComponent(n(o))+r;return Array.isArray(e[o])?e[o].map(function(e){return i+encodeURIComponent(n(e))}).join(t):i+encodeURIComponent(n(e[o]))}).join(t):o?encodeURIComponent(n(o))+r+encodeURIComponent(n(e)):""}},function(e,t,n){"use strict";t.decode=t.parse=n(198),t.encode=t.stringify=n(199)},function(e,t){"use strict";function n(e){return decodeURIComponent(e.replace(/\+/g," "))}function r(e){for(var t,r=/([^=?&]+)=?([^&]*)/g,o={};t=r.exec(e);o[n(t[1])]=n(t[2]));return o}function o(e,t){t=t||"";var n=[];"string"!=typeof t&&(t="?");for(var r in e)i.call(e,r)&&n.push(encodeURIComponent(r)+"="+encodeURIComponent(e[r]));return n.length?t+n.join("&"):""}var i=Object.prototype.hasOwnProperty;t.stringify=o,t.parse=r},function(e,t){function n(e){var t;if("SELECT"===e.nodeName)e.focus(),t=e.value;else if("INPUT"===e.nodeName||"TEXTAREA"===e.nodeName){var n=e.hasAttribute("readonly");n||e.setAttribute("readonly",""),e.select(),e.setSelectionRange(0,e.value.length),n||e.removeAttribute("readonly"),t=e.value}else{e.hasAttribute("contenteditable")&&e.focus();var r=window.getSelection(),o=document.createRange();o.selectNodeContents(e),r.removeAllRanges(),r.addRange(o),t=r.toString()}return t}e.exports=n},function(e,t,n){"use strict";var r=n(17),o=n(47),i=n(48),a=n(79),s=n(80),u=n(204),c=r.call(Function.apply,a),l=function(e,t){i.RequireObjectCoercible(e);var n=[t];return arguments.length>2&&n.push(arguments[2]),c(e,n)};o(l,{getPolyfill:s,implementation:a,shim:u}),e.exports=l},function(e,t,n){"use strict";var r=n(80),o=n(47);e.exports=function(){var e=r();return o(String.prototype,{padStart:e},{padStart:function(){return String.prototype.padStart!==e}}),e}},function(e,t){function n(){}n.prototype={on:function(e,t,n){var r=this.e||(this.e={});return(r[e]||(r[e]=[])).push({fn:t,ctx:n}),this},once:function(e,t,n){function r(){o.off(e,r),t.apply(n,arguments)}var o=this;return r._=t,this.on(e,r,n)},emit:function(e){var t=[].slice.call(arguments,1),n=((this.e||(this.e={}))[e]||[]).slice(),r=0,o=n.length;for(r;o>r;r++)n[r].fn.apply(n[r].ctx,t);return this},off:function(e,t){var n=this.e||(this.e={}),r=n[e],o=[];if(r&&t)for(var i=0,a=r.length;a>i;i++)r[i].fn!==t&&r[i].fn._!==t&&o.push(r[i]);return o.length?n[e]=o:delete n[e],this}},e.exports=n},,function(e,t,n){var r;(function(e,o){!function(i){function a(e){throw RangeError(O[e])}function s(e,t){for(var n=e.length,r=[];n--;)r[n]=t(e[n]);return r}function u(e,t){var n=e.split("@"),r="";n.length>1&&(r=n[0]+"@",e=n[1]),e=e.replace(F,".");var o=e.split("."),i=s(o,t).join(".");return r+i}function c(e){for(var t,n,r=[],o=0,i=e.length;i>o;)t=e.charCodeAt(o++),t>=55296&&56319>=t&&i>o?(n=e.charCodeAt(o++),56320==(64512&n)?r.push(((1023&t)<<10)+(1023&n)+65536):(r.push(t),o--)):r.push(t);return r}function l(e){return s(e,function(e){var t="";return e>65535&&(e-=65536,t+=j(e>>>10&1023|55296),e=56320|1023&e),t+=j(e)}).join("")}function d(e){return 10>e-48?e-22:26>e-65?e-65:26>e-97?e-97:x}function p(e,t){return e+22+75*(26>e)-((0!=t)<<5)}function f(e,t,n){var r=0;for(e=n?R(e/_):e>>1,e+=R(e/t);e>D*k>>1;r+=x)e=R(e/D);return R(r+(D+1)*e/(e+E))}function m(e){var t,n,r,o,i,s,u,c,p,m,h=[],g=e.length,v=0,y=S,b=I;for(n=e.lastIndexOf(T),0>n&&(n=0),r=0;n>r;++r)e.charCodeAt(r)>=128&&a("not-basic"),h.push(e.charCodeAt(r));for(o=n>0?n+1:0;g>o;){for(i=v,s=1,u=x;o>=g&&a("invalid-input"),c=d(e.charCodeAt(o++)),(c>=x||c>R((w-v)/s))&&a("overflow"),v+=c*s,p=b>=u?C:u>=b+k?k:u-b,!(p>c);u+=x)m=x-p,s>R(w/m)&&a("overflow"),s*=m;t=h.length+1,b=f(v-i,t,0==i),R(v/t)>w-y&&a("overflow"),y+=R(v/t),v%=t,h.splice(v++,0,y)}return l(h)}function h(e){var t,n,r,o,i,s,u,l,d,m,h,g,v,y,b,E=[];for(e=c(e),g=e.length,t=S,n=0,i=I,s=0;g>s;++s)h=e[s],128>h&&E.push(j(h));for(r=o=E.length,o&&E.push(T);g>r;){for(u=w,s=0;g>s;++s)h=e[s],h>=t&&u>h&&(u=h);for(v=r+1,u-t>R((w-n)/v)&&a("overflow"),n+=(u-t)*v,t=u,s=0;g>s;++s)if(h=e[s],t>h&&++n>w&&a("overflow"),h==t){for(l=n,d=x;m=i>=d?C:d>=i+k?k:d-i,!(m>l);d+=x)b=l-m,y=x-m,E.push(j(p(m+b%y,0))),l=R(b/y);E.push(j(p(l,0))),i=f(n,v,r==o),n=0,++r}++n,++t}return E.join("")}function g(e){return u(e,function(e){return A.test(e)?m(e.slice(4).toLowerCase()):e})}function v(e){return u(e,function(e){return P.test(e)?"xn--"+h(e):e})}var y=("object"==typeof t&&t&&!t.nodeType&&t,"object"==typeof e&&e&&!e.nodeType&&e,"object"==typeof o&&o);(y.global===y||y.window===y||y.self===y)&&(i=y);var b,w=2147483647,x=36,C=1,k=26,E=38,_=700,I=72,S=128,T="-",A=/^xn--/,P=/[^\x20-\x7E]/,F=/[\x2E\u3002\uFF0E\uFF61]/g,O={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},D=x-C,R=Math.floor,j=String.fromCharCode;b={version:"1.3.2",ucs2:{decode:c,encode:l},decode:m,encode:h,toASCII:v,toUnicode:g},r=function(){return b}.call(t,n,t,e),!(void 0!==r&&(e.exports=r))}(this)}).call(t,n(81)(e),function(){return this}())},function(e,t,n){"use strict";function r(){this.protocol=null,this.slashes=null,this.auth=null,this.host=null,this.port=null,this.hostname=null,this.hash=null,this.search=null,this.query=null,this.pathname=null,this.path=null,this.href=null}function o(e,t,n){if(e&&c.isObject(e)&&e instanceof r)return e;var o=new r;return o.parse(e,t,n),o}function i(e){return c.isString(e)&&(e=o(e)),e instanceof r?e.format():r.prototype.format.call(e)}function a(e,t){return o(e,!1,!0).resolve(t)}function s(e,t){return e?o(e,!1,!0).resolveObject(t):t}var u=n(207),c=n(209);t.parse=o,t.resolve=a,t.resolveObject=s,t.format=i,t.Url=r;var l=/^([a-z0-9.+-]+:)/i,d=/:[0-9]*$/,p=/^(\/\/?(?!\/)[^\?\s]*)(\?[^\s]*)?$/,f=["<",">",'"',"`"," ","\r","\n","	"],m=["{","}","|","\\","^","`"].concat(f),h=["'"].concat(m),g=["%","/","?",";","#"].concat(h),v=["/","?","#"],y=255,b=/^[+a-z0-9A-Z_-]{0,63}$/,w=/^([+a-z0-9A-Z_-]{0,63})(.*)$/,x={javascript:!0,"javascript:":!0},C={javascript:!0,"javascript:":!0},k={http:!0,https:!0,ftp:!0,gopher:!0,file:!0,"http:":!0,"https:":!0,"ftp:":!0,"gopher:":!0,"file:":!0},E=n(200);r.prototype.parse=function(e,t,n){if(!c.isString(e))throw new TypeError("Parameter 'url' must be a string, not "+typeof e);var r=e.indexOf("?"),o=-1!==r&&r<e.indexOf("#")?"?":"#",i=e.split(o),a=/\\/g;i[0]=i[0].replace(a,"/"),e=i.join(o);var s=e;if(s=s.trim(),!n&&1===e.split("#").length){var d=p.exec(s);if(d)return this.path=s,this.href=s,this.pathname=d[1],d[2]?(this.search=d[2],t?this.query=E.parse(this.search.substr(1)):this.query=this.search.substr(1)):t&&(this.search="",this.query={}),this}var f=l.exec(s);if(f){f=f[0];var m=f.toLowerCase();this.protocol=m,s=s.substr(f.length)}if(n||f||s.match(/^\/\/[^@\/]+@[^@\/]+/)){var _="//"===s.substr(0,2);!_||f&&C[f]||(s=s.substr(2),this.slashes=!0)}if(!C[f]&&(_||f&&!k[f])){for(var I=-1,S=0;S<v.length;S++){var T=s.indexOf(v[S]);-1!==T&&(-1===I||I>T)&&(I=T)}var A,P;P=-1===I?s.lastIndexOf("@"):s.lastIndexOf("@",I),-1!==P&&(A=s.slice(0,P),s=s.slice(P+1),this.auth=decodeURIComponent(A)),I=-1;for(var S=0;S<g.length;S++){var T=s.indexOf(g[S]);-1!==T&&(-1===I||I>T)&&(I=T)}-1===I&&(I=s.length),this.host=s.slice(0,I),s=s.slice(I),this.parseHost(),this.hostname=this.hostname||"";var F="["===this.hostname[0]&&"]"===this.hostname[this.hostname.length-1];if(!F)for(var O=this.hostname.split(/\./),S=0,D=O.length;D>S;S++){var R=O[S];if(R&&!R.match(b)){for(var j="",U=0,N=R.length;N>U;U++)j+=R.charCodeAt(U)>127?"x":R[U];if(!j.match(b)){var L=O.slice(0,S),$=O.slice(S+1),M=R.match(w);M&&(L.push(M[1]),$.unshift(M[2])),$.length&&(s="/"+$.join(".")+s),this.hostname=L.join(".");break}}}this.hostname.length>y?this.hostname="":this.hostname=this.hostname.toLowerCase(),F||(this.hostname=u.toASCII(this.hostname));var H=this.port?":"+this.port:"",B=this.hostname||"";this.host=B+H,this.href+=this.host,F&&(this.hostname=this.hostname.substr(1,this.hostname.length-2),"/"!==s[0]&&(s="/"+s))}if(!x[m])for(var S=0,D=h.length;D>S;S++){var W=h[S];if(-1!==s.indexOf(W)){var q=encodeURIComponent(W);q===W&&(q=escape(W)),s=s.split(W).join(q)}}var z=s.indexOf("#");-1!==z&&(this.hash=s.substr(z),s=s.slice(0,z));var K=s.indexOf("?");if(-1!==K?(this.search=s.substr(K),this.query=s.substr(K+1),t&&(this.query=E.parse(this.query)),s=s.slice(0,K)):t&&(this.search="",this.query={}),s&&(this.pathname=s),k[m]&&this.hostname&&!this.pathname&&(this.pathname="/"),this.pathname||this.search){var H=this.pathname||"",V=this.search||"";this.path=H+V}return this.href=this.format(),this},r.prototype.format=function(){var e=this.auth||"";e&&(e=encodeURIComponent(e),e=e.replace(/%3A/i,":"),e+="@");var t=this.protocol||"",n=this.pathname||"",r=this.hash||"",o=!1,i="";this.host?o=e+this.host:this.hostname&&(o=e+(-1===this.hostname.indexOf(":")?this.hostname:"["+this.hostname+"]"),this.port&&(o+=":"+this.port)),this.query&&c.isObject(this.query)&&Object.keys(this.query).length&&(i=E.stringify(this.query));var a=this.search||i&&"?"+i||"";return t&&":"!==t.substr(-1)&&(t+=":"),this.slashes||(!t||k[t])&&o!==!1?(o="//"+(o||""),n&&"/"!==n.charAt(0)&&(n="/"+n)):o||(o=""),r&&"#"!==r.charAt(0)&&(r="#"+r),a&&"?"!==a.charAt(0)&&(a="?"+a),n=n.replace(/[?#]/g,function(e){return encodeURIComponent(e)}),a=a.replace("#","%23"),t+o+n+a+r},r.prototype.resolve=function(e){return this.resolveObject(o(e,!1,!0)).format()},r.prototype.resolveObject=function(e){if(c.isString(e)){var t=new r;t.parse(e,!1,!0),e=t}for(var n=new r,o=Object.keys(this),i=0;i<o.length;i++){var a=o[i];n[a]=this[a]}if(n.hash=e.hash,""===e.href)return n.href=n.format(),n;if(e.slashes&&!e.protocol){for(var s=Object.keys(e),u=0;u<s.length;u++){var l=s[u];"protocol"!==l&&(n[l]=e[l])}return k[n.protocol]&&n.hostname&&!n.pathname&&(n.path=n.pathname="/"),n.href=n.format(),n}if(e.protocol&&e.protocol!==n.protocol){if(!k[e.protocol]){for(var d=Object.keys(e),p=0;p<d.length;p++){var f=d[p];n[f]=e[f]}return n.href=n.format(),n}if(n.protocol=e.protocol,e.host||C[e.protocol])n.pathname=e.pathname;else{for(var m=(e.pathname||"").split("/");m.length&&!(e.host=m.shift()););e.host||(e.host=""),e.hostname||(e.hostname=""),""!==m[0]&&m.unshift(""),m.length<2&&m.unshift(""),n.pathname=m.join("/")}if(n.search=e.search,n.query=e.query,n.host=e.host||"",n.auth=e.auth,n.hostname=e.hostname||e.host,n.port=e.port,n.pathname||n.search){var h=n.pathname||"",g=n.search||"";n.path=h+g}return n.slashes=n.slashes||e.slashes,n.href=n.format(),n}var v=n.pathname&&"/"===n.pathname.charAt(0),y=e.host||e.pathname&&"/"===e.pathname.charAt(0),b=y||v||n.host&&e.pathname,w=b,x=n.pathname&&n.pathname.split("/")||[],m=e.pathname&&e.pathname.split("/")||[],E=n.protocol&&!k[n.protocol];if(E&&(n.hostname="",n.port=null,n.host&&(""===x[0]?x[0]=n.host:x.unshift(n.host)),n.host="",e.protocol&&(e.hostname=null,e.port=null,e.host&&(""===m[0]?m[0]=e.host:m.unshift(e.host)),e.host=null),b=b&&(""===m[0]||""===x[0])),y)n.host=e.host||""===e.host?e.host:n.host,n.hostname=e.hostname||""===e.hostname?e.hostname:n.hostname,n.search=e.search,n.query=e.query,x=m;else if(m.length)x||(x=[]),x.pop(),x=x.concat(m),n.search=e.search,n.query=e.query;else if(!c.isNullOrUndefined(e.search)){if(E){n.hostname=n.host=x.shift();var _=n.host&&n.host.indexOf("@")>0?n.host.split("@"):!1;_&&(n.auth=_.shift(),n.host=n.hostname=_.shift())}return n.search=e.search,n.query=e.query,c.isNull(n.pathname)&&c.isNull(n.search)||(n.path=(n.pathname?n.pathname:"")+(n.search?n.search:"")),n.href=n.format(),n}if(!x.length)return n.pathname=null,n.search?n.path="/"+n.search:n.path=null,n.href=n.format(),n;for(var I=x.slice(-1)[0],S=(n.host||e.host||x.length>1)&&("."===I||".."===I)||""===I,T=0,A=x.length;A>=0;A--)I=x[A],"."===I?x.splice(A,1):".."===I?(x.splice(A,1),T++):T&&(x.splice(A,1),T--);if(!b&&!w)for(;T--;T)x.unshift("..");!b||""===x[0]||x[0]&&"/"===x[0].charAt(0)||x.unshift(""),S&&"/"!==x.join("/").substr(-1)&&x.push("");var P=""===x[0]||x[0]&&"/"===x[0].charAt(0);if(E){n.hostname=n.host=P?"":x.length?x.shift():"";var _=n.host&&n.host.indexOf("@")>0?n.host.split("@"):!1;_&&(n.auth=_.shift(),n.host=n.hostname=_.shift())}return b=b||n.host&&x.length,b&&!P&&x.unshift(""),x.length?n.pathname=x.join("/"):(n.pathname=null,n.path=null),c.isNull(n.pathname)&&c.isNull(n.search)||(n.path=(n.pathname?n.pathname:"")+(n.search?n.search:"")),n.auth=e.auth||n.auth,n.slashes=n.slashes||e.slashes,n.href=n.format(),n},r.prototype.parseHost=function(){var e=this.host,t=d.exec(e);t&&(t=t[0],":"!==t&&(this.port=t.substr(1)),e=e.substr(0,e.length-t.length)),e&&(this.hostname=e)}},function(e,t){"use strict";e.exports={isString:function(e){return"string"==typeof e},isObject:function(e){return"object"==typeof e&&null!==e},isNull:function(e){return null===e},isNullOrUndefined:function(e){return null==e}}},,,function(e,t){e.exports=moment}]);
//# sourceMappingURL=http://sentry.issuu.com:81/issuu-segments/_/_/_/../../../sourcemap/136/segment/index.js.map