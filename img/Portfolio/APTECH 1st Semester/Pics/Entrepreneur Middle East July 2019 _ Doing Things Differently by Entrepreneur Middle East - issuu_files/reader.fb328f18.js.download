!function(e){var c,t=e.babelHelpers={};function l(e){this.value=e}function n(i){var o,a;function s(e,t){try{var n=i[e](t),r=n.value;r instanceof l?Promise.resolve(r.value).then(function(e){s("next",e)},function(e){s("throw",e)}):u(n.done?"return":"normal",n.value)}catch(e){u("throw",e)}}function u(e,t){switch(e){case"return":o.resolve({value:t,done:!0});break;case"throw":o.reject(t);break;default:o.resolve({value:t,done:!1})}(o=o.next)?s(o.key,o.arg):a=null}this._invoke=function(r,i){return new Promise(function(e,t){var n={key:r,arg:i,resolve:e,reject:t,next:null};a?a=a.next=n:(o=a=n,s(r,i))})},"function"!=typeof i.return&&(this.return=void 0)}function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}t.typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},t.jsx=(c="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,r){var i=e&&e.defaultProps,o=arguments.length-3;if(t||0==o||(t={}),t&&i)for(var a in i)void 0===t[a]&&(t[a]=i[a]);else t=t||i||{};if(1==o)t.children=r;else if(1<o){for(var s=Array(o),u=0;u<o;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:c,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),t.asyncIterator=function(e){if("function"==typeof Symbol){if(Symbol.asyncIterator){var t=e[Symbol.asyncIterator];if(null!=t)return t.call(e)}if(Symbol.iterator)return e[Symbol.iterator]()}throw new TypeError("Object is not async iterable")},t.asyncGenerator=("function"==typeof Symbol&&Symbol.asyncIterator&&(n.prototype[Symbol.asyncIterator]=function(){return this}),n.prototype.next=function(e){return this._invoke("next",e)},n.prototype.throw=function(e){return this._invoke("throw",e)},n.prototype.return=function(e){return this._invoke("return",e)},{wrap:function(e){return function(){return new n(e.apply(this,arguments))}},await:function(e){return new l(e)}}),t.asyncGeneratorDelegate=function(r,e){var t={},i=!1;function n(t,n){return i=!0,n=new Promise(function(e){e(r[t](n))}),{done:!1,value:e(n)}}return"function"==typeof Symbol&&Symbol.iterator&&(t[Symbol.iterator]=function(){return this}),t.next=function(e){return i?(i=!1,e):n("next",e)},"function"==typeof r.throw&&(t.throw=function(e){if(i)throw i=!1,e;return n("throw",e)}),"function"==typeof r.return&&(t.return=function(e){return n("return",e)}),t},t.asyncToGenerator=function(e){return function(){var s=e.apply(this,arguments);return new Promise(function(o,a){return function t(e,n){try{var r=s[e](n),i=r.value}catch(e){return void a(e)}if(!r.done)return Promise.resolve(i).then(function(e){t("next",e)},function(e){t("throw",e)});o(i)}("next")})}},t.classCallCheck=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")},t.createClass=function(e,t,n){return t&&r(e.prototype,t),n&&r(e,n),e},t.defineEnumerableProperties=function(e,t){for(var n in t){var r=t[n];r.configurable=r.enumerable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,n,r)}return e},t.defaults=function(e,t){for(var n=Object.getOwnPropertyNames(t),r=0;r<n.length;r++){var i=n[r],o=Object.getOwnPropertyDescriptor(t,i);o&&o.configurable&&void 0===e[i]&&Object.defineProperty(e,i,o)}return e},t.defineProperty=function(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e},t.extends=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},t.get=function e(t,n,r){null===t&&(t=Function.prototype);var i=Object.getOwnPropertyDescriptor(t,n);if(void 0===i){var o=Object.getPrototypeOf(t);return null===o?void 0:e(o,n,r)}if("value"in i)return i.value;var a=i.get;return void 0!==a?a.call(r):void 0},t.inherits=function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)},t.instanceof=function(e,t){return null!=t&&"undefined"!=typeof Symbol&&t[Symbol.hasInstance]?t[Symbol.hasInstance](e):e instanceof t},t.interopRequireDefault=function(e){return e&&e.__esModule?e:{default:e}},t.interopRequireWildcard=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t},t.newArrowCheck=function(e,t){if(e!==t)throw new TypeError("Cannot instantiate an arrow function")},t.objectDestructuringEmpty=function(e){if(null==e)throw new TypeError("Cannot destructure undefined")},t.objectWithoutProperties=function(e,t){var n={};for(var r in e)0<=t.indexOf(r)||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n},t.possibleConstructorReturn=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t},t.selfGlobal=void 0===e?self:e,t.set=function e(t,n,r,i){var o=Object.getOwnPropertyDescriptor(t,n);if(void 0===o){var a=Object.getPrototypeOf(t);null!==a&&e(a,n,r,i)}else if("value"in o&&o.writable)o.value=r;else{var s=o.set;void 0!==s&&s.call(i,r)}return r},t.slicedToArray=function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){i=!0,o=e}finally{try{!r&&s.return&&s.return()}finally{if(i)throw o}}return n}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")},t.slicedToArrayLoose=function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e)){for(var n,r=[],i=e[Symbol.iterator]();!(n=i.next()).done&&(r.push(n.value),!t||r.length!==t););return r}throw new TypeError("Invalid attempt to destructure non-iterable instance")},t.taggedTemplateLiteral=function(e,t){return Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))},t.taggedTemplateLiteralLoose=function(e,t){return e.raw=t,e},t.temporalRef=function(e,t,n){if(e===n)throw new ReferenceError(t+" is not defined - temporal dead zone");return e},t.temporalUndefined={},t.toArray=function(e){return Array.isArray(e)?e:Array.from(e)},t.toConsumableArray=function(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}}("undefined"==typeof global?self:global),(window.webpackJsonp=window.webpackJsonp||[]).push([[2],[,function(e,t,n){"use strict";var r=n(302);n.d(t,"y",function(){return r.a}),n.d(t,"z",function(){return r.b});var i=n(303);n.d(t,"A",function(){return i.a});var o=n(304);n.d(t,"t",function(){return o.a});var a=n(305);n.d(t,"v",function(){return a.a}),n.d(t,"C",function(){return a.b}),n.d(t,"F",function(){return a.c});var s=n(306);n.d(t,"D",function(){return s.a});var u=n(39);n.d(t,"b",function(){return u.d}),n.d(t,"h",function(){return u.j}),n.d(t,"k",function(){return u.l});var c=n(307);n.d(t,"i",function(){return c.a});var l=n(308);n.d(t,"a",function(){return l.a});var d=n(309);n.d(t,"p",function(){return d.a}),n.d(t,"q",function(){return d.b}),n.d(t,"r",function(){return d.c}),n.d(t,"u",function(){return d.d}),n.d(t,"w",function(){return d.e}),n.d(t,"x",function(){return d.f});var p=n(169);n.d(t,"g",function(){return p.a}),n.d(t,"l",function(){return p.b});var h=n(310);n.d(t,"c",function(){return h.a}),n.d(t,"d",function(){return h.b}),n.d(t,"e",function(){return h.c}),n.d(t,"f",function(){return h.d}),n.d(t,"j",function(){return h.e}),n.d(t,"m",function(){return h.f}),n.d(t,"E",function(){return h.g});var f=n(315);n.d(t,"B",function(){return f.a});var m=n(187);n.d(t,"n",function(){return m.a}),n.d(t,"s",function(){return m.b});var g=n(316);n.d(t,"o",function(){return g.a})},function(e,t,n){"use strict";n.d(t,"d",function(){return l});n(723);var r=n(190);n.d(t,"b",function(){return r.a});var i=n(319);n.d(t,"a",function(){return i.a});var o=n(320);n.d(t,"c",function(){return o.a});var C=n(112);n.d(t,"e",function(){return C.c});var a=n(29);n.d(t,"f",function(){return a});var s=n(0),x=n.n(s),O=n(43),S=n(22),R=n(386),I=n(465),P=n(469),k=n(1),A=n(470),N=n(471),L=n(472),D=n(473),M=n(474),H=n(475),F=n(7),U=n(476),B=n(477),j=n(478),z=n(479),G=n(480),V=n(481),W=n(482),u=n(483);if(window.chrome){var c=document.createElement("div");c.style.position="absolute",c.style.left="0px",c.style.top="0px",c.innerHTML=u.a,document.body&&document.body.appendChild(c)}function l(e){!function e(t,n){var r=Object.keys(n),i=Array.isArray(r),o=0;for(r=i?r:r[Symbol.iterator]();;){var a;if(i){if(o>=r.length)break;a=r[o++]}else{if((o=r.next()).done)break;a=o.value}var s=a,u=n[s];"object"!==(void 0===u?"undefined":babelHelpers.typeof(u))||Object(V.a)(u)?null!==t[s]&&void 0!==t[s]||(t[s]=u):t[s]=e(t[s]||{},u)}return t}(e,{document:{initialPageNumber:1},features:{allowUIToOverlayCover:!0,backgroundColor:"#353535",canUseCredentials:!1,fullscreenBackgroundColor:"#353535"},preloadedState:{},trackerConfig:{streamData:{}}});var t=e.metrics,n=e.network,r=e.trackerConfig,i=e.gaTracker,o=e.quantcastTracker,a=e.features,s=e.readMorePlugin,u=e.connector,c=e.experiment;if(!u)throw new Error("Missing data to initialize reader (username && name) | (connector)");var l=W.a.isWebGLSupported();t.monitor("READER3_WEBGL",{webgl:l?1:0,no_webgl:l?0:1}),function(e){e.monitor("READER3_POLYFILLS",{"whatwg-fetch":window.fetch.polyfill?1:0})}(t);var d=e.document?e.document.embedId:void 0,p=new H.a(t),h=Object(G.a)(u,k.m),f=[P.a,A.a,Object(L.a)(t),Object(D.a)(t),Object(C.b)(t),Object(N.a)(r.startTrackingOnLoad),h.middleware,Object(M.a)(t)];if(o){var m=new U.a(o);f.push(Object(B.a)(m,k.m))}if(i){var g=new j.a(i);f.push(Object(z.a)(g,k.m))}var v=new F.b(t,r.sessionId),b=(e.document?e.document.initialPageNumber:1)||1,_=I.a(n,r.sessionId,r.embedTrackingQuery,d,b,a,v,s,l,c),y=O.c,E=Object(O.d)(_,e.preloadedState||{},y(O.a.apply(void 0,f))),T=x.a.createElement(S.a,{store:E},x.a.createElement(R.a,{documentConnector:u,loadStatsTracker:p,featureTracker:v,metrics:t})),w=h.api(E);return window.ISSUU_READER_STORE=E,{reader:window.ISSUU_READER_OBJECT=T,api:window.ISSUU_READER_EXTERNAL_API=w}}},,function(e,t,n){"use strict";n.d(t,"i",function(){return l}),n.d(t,"g",function(){return d}),n.d(t,"h",function(){return p}),n.d(t,"c",function(){return h}),n.d(t,"a",function(){return f}),n.d(t,"d",function(){return m}),n.d(t,"f",function(){return g}),n.d(t,"e",function(){return v}),n.d(t,"b",function(){return r});var y=n(56),E=n(59),l="tooltip-operation",d="link-operation",p="shadow-operation",h="depth-map-operation",f="bending-page-operation",m="fill-bending-page-operation",g="highlight-operation",v="highlight-flash-operation",T={_pool:[],created:0,get:function(e,t,n,r){if(this._pool.length){var i=this._pool.pop();return i.x=e,i.y=t,i.width=n,i.height=r,i}return this.created++,{x:e,y:t,width:n,height:r}},release:function(e){this._pool.push(e)},unreleasedCount:function(){return this.created-this._pool.length}},r=(w.prototype.getChildTree=function(e){return[]},w.prototype.requestRedraw=function(){this.root._pendingRedraw=!0},w.prototype.getChildrenToTraverse=function(){return this.children},w.prototype.getVisibleChildren=function(){var i=T.get(0,0,this.width,this.height),o=[];return w.traverse(this,function(e,t,n,r){return 0===r||(Object(E.a)(i,t)&&e.isVisible&&o.push(e),!1)},this.getViewportCTM()),T.release(i),o},w.prototype.getVisibleDescendants=function(){var i=T.get(0,0,this.width,this.height),o=[];return w.traverse(this,function(e,t,n,r){return 0===r||Object(E.a)(i,t)&&e.isVisible&&o.push(e),!0},this.getViewportCTM()),T.release(i),o},w.prototype.overlaps=function(e){var t=this.bbox,n=Object(E.a)(e,t);return T.release(t),n},w.prototype.shouldComponentUpdate=function(e){if(this.props===e)return!1;var t=Object.keys(this.props),n=Object.keys(e);if(t.length!==n.length)return!0;for(var r=0;r<t.length;r++){var i=t[r];if(this.props[i]instanceof y.a&&e[i]instanceof y.a&&!this.props[i].isEqualWith(e[i]))return!0;if(this.props[i]!==e[i])return!0}return!1},w.prototype.getViewportCTM=function(){var e=this.transform;return this.parent&&(e=this.parent.getViewportCTM().multiply(e)),e},w.prototype.componentDidMount=function(){},w.prototype.componentWillUpdate=function(e){},w.prototype.componentDidUpdate=function(e){},w.prototype.componentWillUnmount=function(){},w.prototype.appendWebglOps=function(e,t,n){},w.prototype.beforeDraw=function(e){},w.prototype.draw=function(e,t){},w.prototype.afterDraw=function(e){},w.prototype.getCustomCursor=function(){return!1},w.prototype.forceUpdate=function(){w.updateProps(this,this.props,!0)},w.updateProps=function(e,t,n){var r={type:Object.getPrototypeOf(e).constructor,props:t};w.buildTree(r,e,e,null,n)},w.buildTree=function(e,t,n,r,i,o){var a=1<arguments.length&&void 0!==t?t:null,s=2<arguments.length&&void 0!==n?n:null,u=3<arguments.length&&void 0!==r?r:null,c=4<arguments.length&&void 0!==i&&i,l=5<arguments.length&&void 0!==o?o:0;if(!e&&a)return a;var d=e.type,p=e.props;if(a){if(d.prototype!==Object.getPrototypeOf(a))throw new Error("Unsupported update. Trying to replace "+Object.getPrototypeOf(a).constructor.name+" with "+d.prototype.constructor.name);var h=Object.assign({},a.props,p),f=c||a.shouldComponentUpdate(h);f&&a.componentWillUpdate(h);var m=a.props;if(a.props=h,f){var g=a.getChildTree(!0),v=a.children||[];g.forEach(function(e,t){w.buildTree(e,v[t],s,null,c,l+1)}),a.componentDidUpdate(m),a.requestRedraw()}return a}var b=new d(p,u);return b.owner=s,b.children=b.getChildTree().map(function(e){return w.buildTree(e,a,b,b,c,l+1)}),b.componentDidMount(),b},w.createElement=function(e,t){return{type:e,props:t||{}}},w.traverse=function(e,t,n,r){var i=2<arguments.length&&void 0!==n?n:new y.a,o=3<arguments.length&&void 0!==r?r:0,a=i.transformRect(T.get(0,0,e.width,e.height));if(t(e,a,i,o)){var s=e.getChildrenToTraverse();if(s&&s.length){var u=s.slice(0).sort(function(e,t){return e.zOrder-t.zOrder}),c=Array.isArray(u),l=0;for(u=c?u:u[Symbol.iterator]();;){var d;if(c){if(l>=u.length)break;d=u[l++]}else{if((l=u.next()).done)break;d=l.value}var p=d,h=i.matrix[0],f=i.matrix[1],m=i.matrix[2],g=i.matrix[3],v=i.matrix[4],b=i.matrix[5];i.mMultiply(p.transform);var _=i.transformRect(T.get(0,0,p.width,p.height));Object(E.a)(a,_)&&w.traverse(p,t,i,o+1),i.mSet(h,f,m,g,v,b),T.release(_)}}T.release(a)}else T.release(a)},w.drawWebgl=function(e,c,t){var n=c.gl;if(n){var r={width:n.drawingBufferWidth,height:n.drawingBufferHeight},i=[];w.drawTree(e,t,null,function(e,t){e.appendWebglOps(i,t,r)}),n.clearColor(0,0,0,0),n.clearStencil(0),n.clear(n.COLOR_BUFFER_BIT|n.DEPTH_BUFFER_BIT|n.STENCIL_BUFFER_BIT),i.forEach(function(e){var t,n,r,i,o,a,s,u;switch(e.type){case l:(t=c.linkTooltip).draw.apply(t,e.args);break;case d:(n=c.link).draw.apply(n,e.args);break;case p:(r=c.shadowDraw).draw.apply(r,[c.shadow.depthMapTexture].concat(e.args));break;case f:(i=c.bendingPage).draw.apply(i,e.args);break;case m:(o=c.bendingPage).fill.apply(o,e.args);break;case h:(a=c.shadow).computeDepthMap.apply(a,e.args);break;case g:(s=c.highlights).draw.apply(s,e.args);break;case v:(u=c.highlights).drawSelected.apply(u,e.args);break;default:throw new Error("Unknown 3d operation: "+e.type)}})}},w.draw2d=function(e,n,t){n.clearRect(t.x,t.y,t.width,t.height),w.drawTree(e,t,null,function(e,t){e.draw(n,t)})},w.drawTree=function(e,t,n,r){if(e._pendingRedraw&&(e._pendingRedraw=!1),e.isVisible){var i=n?new Float32Array(n.matrix):null;n?n.mMultiply(e.transform):n=(new y.a).mMultiply(e.getViewportCTM());var o=n.transformRect(T.get(0,0,e.width,e.height));if(Object(E.a)(t,o)){e.beforeDraw(o),r(e,o);var a=e.getChildrenToTraverse();a&&a.length&&a.slice(0).sort(function(e,t){return e.zOrder-t.zOrder}).forEach(function(e){return w.drawTree(e,t,n,r)}),e.afterDraw(o)}T.release(o),i&&n.mSetMatrix(i)}},w.connect=function(o,a){var s;function u(e,t){babelHelpers.classCallCheck(this,u);var n=e.store||t.root&&t.root.__store__;if(!n)throw new Error("Cannot connect "+o.toString()+": Cannot get store!");var r=n.getState(),i=babelHelpers.possibleConstructorReturn(this,s.call(this,babelHelpers.extends({},e,{dispatch:n.dispatch},a(r)),t));return i._unsubscribe=function(){},i}return s=o,babelHelpers.inherits(u,s),u.prototype.componentDidMount=function(){var n=this,r=this.root.__store__;if(!r)throw new Error("Root component has no store, cannot connect");this._unsubscribe=r.subscribe(function(){var e=r.getState(),t=Object.assign({dispatch:r.dispatch},n.props,a(e));w.updateProps(n,t)}),o.prototype.componentDidMount.call(this)},u.prototype.componentWillUnmount=function(){this._unsubscribe(),o.prototype.componentWillUnmount.call(this)},babelHelpers.createClass(u,[{key:"displayName",get:function(){return"Connected"+o.name}}]),u},w.unmountTree=function(e){var t=e.children,n=Array.isArray(t),r=0;for(t=n?t:t[Symbol.iterator]();;){var i;if(n){if(r>=t.length)break;i=t[r++]}else{if((r=t.next()).done)break;i=r.value}w.unmountTree(i)}e.componentWillUnmount()},babelHelpers.createClass(w,[{key:"root",get:function(){for(var e=this;e.parent;)e=e.parent;return e}},{key:"inAnimation",get:function(){return!!this.parent&&this.parent.inAnimation}},{key:"hasPendingRedraw",get:function(){return this.root._pendingRedraw}},{key:"transform",get:function(){return this._transform||(this._transform=this.props.transform||new y.a),this._transform}},{key:"viewportBBox",get:function(){return this.getViewportCTM().transformRect(T.get(0,0,this.width,this.height))}},{key:"bbox",get:function(){return this.transform.transformRect(T.get(0,0,this.width,this.height))}},{key:"width",get:function(){return this.props.width||0}},{key:"height",get:function(){return this.props.height||0}},{key:"zOrder",get:function(){return 0}},{key:"isVisible",get:function(){return!0}},{key:"displayName",get:function(){return Object.getPrototypeOf(this).constructor.name}}]),w);function w(e,t){babelHelpers.classCallCheck(this,w),this.props=e,this.parent=t}r.RectPool=T,r.lastTick=0},function(e,t,n){"use strict";n.d(t,"H",function(){return v}),n.d(t,"r",function(){return b}),n.d(t,"x",function(){return _}),n.d(t,"E",function(){return y}),n.d(t,"w",function(){return E}),n.d(t,"u",function(){return T}),n.d(t,"i",function(){return w}),n.d(t,"h",function(){return C}),n.d(t,"I",function(){return x}),n.d(t,"l",function(){return O}),n.d(t,"k",function(){return S}),n.d(t,"B",function(){return R}),n.d(t,"z",function(){return I}),n.d(t,"n",function(){return P}),n.d(t,"t",function(){return k}),n.d(t,"d",function(){return A}),n.d(t,"c",function(){return N}),n.d(t,"a",function(){return L}),n.d(t,"D",function(){return D}),n.d(t,"C",function(){return M}),n.d(t,"q",function(){return H}),n.d(t,"G",function(){return F}),n.d(t,"f",function(){return U}),n.d(t,"g",function(){return B}),n.d(t,"v",function(){return j}),n.d(t,"s",function(){return z}),n.d(t,"p",function(){return G}),n.d(t,"o",function(){return V}),n.d(t,"b",function(){return W}),n.d(t,"e",function(){return Y}),n.d(t,"F",function(){return X}),n.d(t,"y",function(){return q}),n.d(t,"A",function(){return K}),n.d(t,"m",function(){return Q}),n.d(t,"j",function(){return $});var r=n(6),i=n(34),o=n(257),a=n(196),s=n(23),u=n(16),c=n(32),l=n(12),d=n(107),p=n(9),h=n(29),f=n(25),m=n(24);function g(n){return Object(r.a)(function(e){return e.features.controls},function(e){for(var t=0;t<e.length;t++)if(e[t].type===n)return e[t]})}var v=g(h.ZOOM_TYPE),b=g(h.ISSUU_BRANDING_TYPE),_=g(h.NAVIGATION_LINK_TYPE),y=g(h.SHARE_DIALOG_TYPE),E=g(h.NAVIGATION_ARROWS_TYPE),T=function(e){return e.features.links},w=function(e){return e.features.canUseCredentials},C=function(e){return e.features.canLoadAdsInFullscreen},x=Object(r.a)(function(e){return e.reader.zoomLevel},function(e){return 100/(m.b-m.c)*(e-m.c)}),O=function(e){return e.reader.positionInPercent},S=function(e){return e.reader.currentPageNumbers},R=Object(r.a)(function(e){return e.features.readModeRules},p.d,function(e){return e.size.width},function(e){return e.size.height},function(e,t,n,r){return Object(a.a)(n,r,t,e)}),I=Object(r.a)(R,c.b,c.e,function(e,t,n){return e===f.DOUBLE_PAGE_SPREAD?n:t.map(function(e){return{pages:[e]}})}),P=Object(r.a)(S,R,function(e,t){return Object(i.a)(t,e[0])}),k=Object(r.a)(R,l.d,function(e,t){var n=t.pageCount;return Object(i.a)(e,n)}),A=Object(r.a)(P,k,function(e,t){return e===t}),N=Object(r.a)(P,function(e){return 0===e}),L=Object(r.a)(function(e){return e.features},function(e){return e.reader},function(e){return e.headerControls},function(e){return e.find},function(e,t,n,r){var i=e.showControlsUntilFirstInteraction,o=t.interactedWithReader,a=t.hoveringOverControls,s=t.interactingWithControls,u=t.isIdle,c=n.visibleDropdown,l=n.readMoreDropdownVisible,d=r.isVisible;return!!(a||s||null!==c||l||i&&!o||d)||!u}),D=Object(r.a)(function(e){return e.size.width},function(e){return e.size.height},function(e,t){var n=Object(s.a)();return Math.floor(e/n)+"x"+Math.floor(t/n)}),M=Object(r.a)(function(e){return e.size.width},function(e){return e.size.height},function(e,t){var n=Object(s.a)();return e<=200*n||t<=150*n?d.c:e<=400*n||t<=300*n?d.b:d.a}),H=Object(r.a)(M,p.d,function(e,t){return(e===d.c||e===d.b)&&!t}),F=Object(r.a)(M,b,function(e,t){return!(e===d.c||!t)}),U=Object(r.a)(p.d,u.j,function(e){return e.features.backgroundColor},function(e){return e.features.fullscreenBackgroundColor},function(e,t,n,r){return e?r&&t?r:"#353535":n||"#353535"}),B=Object(r.a)(p.d,u.k,function(e){return e.features.backgroundImage},function(e,t,n){if(n&&t&&(e||!n.hideWhenNotInFullscreen))return n}),j=Object(r.a)(p.d,u.l,function(e){return e.features.logo},function(e,t,n){if(n&&t&&(e||!n.hideWhenNotInFullscreen))return n}),z=function(e){return e.config.embedTrackingQuery},G=Object(r.a)(function(e){return e.config.origins.main},l.d,S,function(e,t,n){return""+e+t.path+"/"+n[0]}),V=Object(r.a)(l.d,S,function(e,t){var n="https://issuu.com"+e.path,r=t[0];return 1<r?n+"/"+r:n}),W=Object(r.a)(function(e){return e.headerControls},function(e){var t=e.visibleDropdown,n=e.readMoreDropdownVisible;return null!==t||n}),Y=Object(r.a)(function(e){return e.headerControls.readMoreDropdownVisible},function(e){return e.readmore.exitedFullscreen},function(e){return e.readMorePlugin},u.q,u.o,function(e,t,n,r,i){var o=n&&n.shouldRenderExitFullscreenOverlay(r,i);return e||t&&o}),X=Object(r.a)(p.e,H,function(e,t){return!!(e&&e.overlayOnSmallReaders&&t)}),Z=Object(r.a)(function(e){return e.reader.targetSpreadIndex},P,function(e,t){return-1<e?e:t}),q=Object(r.a)(Z,I,function(e,t){return Object(o.a)(e,t)}),K=Object(r.a)(Z,I,function(e,t){return Object(o.b)(e,t)}),Q=Object(r.a)(S,c.b,function(e,t){return Object(i.c)({pages:e.map(function(e){return t[e-1]})})}),$=Object(r.a)(T,function(e){return!!e&&!e.allowExplicitVideo})},,function(e,t,n){"use strict";n.d(t,"a",function(){return m}),n.d(t,"b",function(){return v});var r="HO_CHANGE_PAGE",i="HO_CHANGE_ZOOM",o="HO_ENTER_FULLSCREEN",a="HO_INPUT_GESTURE",s="HO_INPUT_KEYBOARD",u="HO_INPUT_SLIDER",c="HO_INPUT_BUTTON",l="HO_SHARE_SOCIAL",d="HO_MORE_CONTENT",p="HO_OPEN_FIND",h="HO_FIND",f={BUTTON_ARROW_BACKWARD:[r,c],BUTTON_ARROW_FORWARD:[r,c],BUTTON_CTA_OVERLAY:[c,o],BUTTON_FULLSCREEN:[c,o],BUTTON_ENGAGE_LARGEVIEW:[c],BUTTON_DISENGAGE_LARGEVIEW:[c],BUTTON_ZOOMIN:[i,c],BUTTON_ZOOMOUT:[i,c],BUTTON_LOGO:[c],BUTTON_DOWNLOAD:[c],GESTURE_DRAG_PAGES:[r,a],GESTURE_PINCH_ZOOM:[i,a],DOUBLE_TAP_ZOOM:[i,a],KEYBOARD_BACKWARD:[r,s],KEYBOARD_FORWARD:[r,s],SLIDER_PAGES:[r,u],SLIDER_ZOOM:[i,u],BUTTON_SHARE:[c],SHARE_EMAIL:[l],SHARE_FACEBOOK:[l],SHARE_TWITTER:[l],SHARE_PINTEREST:[l],BUTTON_MORE:[d,c],FULLSCREEN_MORE:[d],PUBLICATION_LINK:[],PUBLICATION_VIDEO_LINK:[],PUBLICATION_INLINE_VIDEO_LINK:[],DOWNLOAD_FROM_ISSUU_LINK:[],NAVIGATION_LINK:[],BUTTON_OPEN_FIND:[c,p,{opportunity:h}],KEYBOARD_OPEN_FIND:[s,p,{opportunity:h}],FIND_QUERY:[{usage:h}],FIND_NEXT:[],FIND_PREV:[],FIND_CLOSE:[],FIND_CLOSE_BLUR:[]},m=Object.keys(f).reduce(function(e,t){return e[t]=t,e},{});function g(e,n){return f[e].reduce(function(e,t){return"string"==typeof t?e.push(t):t.hasOwnProperty(n)&&e.push(t[n]),e},[e])}var v=(b.prototype.opportunity=function(e){var n=this;this._opportunitySent.hasOwnProperty(e)||g(e,"opportunity").forEach(function(e){if(!n._opportunitySent.hasOwnProperty(e)){var t="reader3-features."+e;n.monitorTracker.monitor(t,{opportunity:1,userId:n.userId}),n._opportunitySent[e]=!0}})},b.prototype.usage=function(e){var r=this;g(e,"usage").forEach(function(e){var t="reader3-features."+e,n=r._usageSent.hasOwnProperty(e)?0:1;r.monitorTracker.monitor(t,{usageRepeat:1,usageFirst:n,userId:r.userId}),r._usageSent[e]=!0})},b);function b(e,t){babelHelpers.classCallCheck(this,b),this._opportunitySent={},this._usageSent={},this.monitorTracker=e,this.userId=t}},function(e,t,n){"use strict";n.d(t,"d",function(){return c}),n.d(t,"c",function(){return r}),n.d(t,"b",function(){return i}),n.d(t,"a",function(){return a}),n.d(t,"s",function(){return v}),n.d(t,"i",function(){return b}),n.d(t,"r",function(){return _}),n.d(t,"q",function(){return y}),n.d(t,"k",function(){return E}),n.d(t,"j",function(){return T}),n.d(t,"f",function(){return w}),n.d(t,"e",function(){return C}),n.d(t,"p",function(){return x}),n.d(t,"o",function(){return O}),n.d(t,"n",function(){return S}),n.d(t,"m",function(){return R}),n.d(t,"h",function(){return I}),n.d(t,"g",function(){return P}),n.d(t,"l",function(){return k});var s=n(36),u=n(5),c="SET_TARGET_SPREAD_INDEX",r="SET_INTERACTING_WITH_CONTROLS",i="SET_INTERACTED_WITH_READER",o="SET_HOVERING_OVER_CONTROLS",a="READER_ZOOM_LEVEL_CHANCED",l="LARGE_VIEW_HIDE",d="LARGE_VIEW_SHOW_ENGAGED",p="LARGE_VIEW_SHOW_DISENGAGED",h="LARGE_VIEW_BUTTON_PROMOTED",f="LARGE_VIEW_BUTTON_NOT_PROMOTED",m="LARGE_VIEW_BUTTON_CLICKED",g="FOLLOW_BUTTON_CLICKED",v={SET_TARGET_SPREAD_INDEX:c,SET_INTERACTING_WITH_CONTROLS:r,SET_INTERACTED_WITH_READER:i,SET_HOVERING_OVER_CONTROLS:o,READER_ZOOM_LEVEL_CHANCED:a,LARGE_VIEW_HIDE:l,LARGE_VIEW_SHOW_ENGAGED:d,LARGE_VIEW_SHOW_DISENGAGED:p,LARGE_VIEW_BUTTON_PROMOTED:h,LARGE_VIEW_BUTTON_NOT_PROMOTED:f,LARGE_VIEW_BUTTON_CLICKED:m,FOLLOW_BUTTON_CLICKED:g};function b(){return{type:l}}function _(){return{type:d}}function y(){return{type:p}}function E(){return{type:h}}function T(){return{type:f}}function w(){return{type:m}}function C(){return{type:g}}function x(e){return{type:r,val:e}}function O(){return{type:i}}function S(e){return{type:o,val:e}}function R(a){return function(e,t){var n=t();if(Object(s.i)(n))n.adOverlay.buttonsEnable&&e(Object(s.e)("closed"));else{var r=Object(u.t)(n),i=Math.max(0,Math.min(a,r));e(function(e){return{type:c,index:e}}(i));var o=t().canvasApi;o&&o.goToSpread(i)}}}function I(){return function(e,t){var n=t(),r=Object(u.A)(n);return-1===r&&(r=0),e(R(r))}}function P(){return function(e,t){var n=t(),r=Object(u.y)(n);return-1===r&&(r=Object(u.t)(n)),e(R(r))}}function k(e,t){return{type:a,isPinching:t,zoomLevel:e}}},function(e,t,n){"use strict";n.d(t,"a",function(){return l}),n.d(t,"b",function(){return d}),n.d(t,"g",function(){return o}),n.d(t,"c",function(){return s}),n.d(t,"e",function(){return p}),n.d(t,"d",function(){return h}),n.d(t,"f",function(){return f});var r=n(6),u=n(62),c=n(116),i=n(197),a=n(29),l="ENTER_FULLSCREEN",d="EXIT_FULLSCREEN",o={ENTER_FULLSCREEN:l,EXIT_FULLSCREEN:d};function s(){var n={enabled:!1,supported:u.e()};return function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:n,t=arguments[1];switch(t.type){case l:return babelHelpers.extends({},e,{enabled:t.fullscreenMethod===c.a});case d:return babelHelpers.extends({},e,{enabled:!1});default:return e}}}var p=Object(r.a)(function(e){return e.features.controls},function(e){for(var t=0;t<e.length;t++)if(e[t].type===a.FULLSCREEN_TYPE)return e[t]}),h=Object(r.a)(p,function(e){return e.fullscreen.enabled},function(e,t){return Object(i.a)(e,t)});function f(o){return function(e,t){var n=t(),r=p(n),i=h(n);r&&r.kind!==a.FULLSCREEN_KIND.FALLBACK&&e(i?function(e,t){t().fullscreen.enabled&&u.c().then(function(){e({type:d,fullscreenMethod:c.a})})}:function(s){return function(e,t){var n=t(),r=n.fullscreen.enabled,i="";if(n.reader.isReady){var o=n.config.embedId;i=s+"?ff",o&&(i+="&e="+o),"control"!==n.experiment.identifier&&(i+="&experiment="+n.experiment.identifier)}var a=document.getElementById("ird3-main");u.e()?!r&&a&&u.b(a).then(function(){e({type:l,fullscreenMethod:c.a})}).then(u.g).then(function(){e({type:d,fullscreenMethod:c.a})}):(window.open(i,"_blank"),e({type:l,fullscreenMethod:c.b}))}}(o))}}},,,function(e,t,n){"use strict";n.d(t,"a",function(){return o}),n.d(t,"b",function(){return s}),n.d(t,"d",function(){return u}),n.d(t,"c",function(){return c});var r=n(6),i=n(1),o="@reader3/document/DOCUMENTLOADED",a={description:"",originalPublishDate:"",documentName:"",username:"",userDisplayName:"",publicationId:"",revisionId:"",title:"",downloadable:!1,isPaywallPreview:!1,isAdsafe:!1};function s(e){return{type:o,doc:e}}var u=Object(r.a)(function(e){return e.metadata},function(e){return e.pages.pages},function(e){return e.config.origins},function(e,t,n){return{documentId:e.revisionId+"-"+e.publicationId,documentName:e.documentName,publicationId:e.publicationId,revisionId:e.revisionId,title:e.title,path:"/"+e.username+"/docs/"+e.documentName,coverUri:t[0]?""+i.k+t[0].imageUri:"",pageCount:t.length,userDisplayName:e.userDisplayName,username:e.username,userProfileImageUri:n.photo+"/"+e.username+"/photo_large.jpg",userProfileUri:n.main+"/"+e.username,description:e.description,originalPublishDate:e.originalPublishDate,isPaywallPreview:e.isPaywallPreview}});function c(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:a,t=arguments[1];switch(t.type){case o:var n=t.doc;return{description:n.description,originalPublishDate:n.originalPublishDate,documentName:n.documentName.toLowerCase(),username:n.username.toLowerCase(),userDisplayName:n.userDisplayName,publicationId:n.publicationId,revisionId:n.revisionId,title:n.title,downloadable:n.downloadable,isPaywallPreview:n.isPaywalled,protectedContentUrlId:n.protectedContentUrlId,isAdsafe:!(!n.contentRating||!n.contentRating.isAdsafe)};default:return e}}},function(e,t,n){"use strict";n.d(t,"g",function(){return r}),n.d(t,"a",function(){return d}),n.d(t,"j",function(){return p}),n.d(t,"h",function(){return h}),n.d(t,"i",function(){return f}),n.d(t,"f",function(){return m}),n.d(t,"e",function(){return v}),n.d(t,"c",function(){return b}),n.d(t,"d",function(){return _}),n.d(t,"l",function(){return y}),n.d(t,"b",function(){return E}),n.d(t,"k",function(){return T});var s=n(5),i=n(24),u=n(44),o=n(9),a=void 0;function c(e){var r=!(0<arguments.length&&void 0!==e)||e;return function(e,t){var n=t();n.reader.isIdle&&e({type:"SET_IS_IDLE",isIdle:!1}),a&&clearTimeout(a),a=null,r&&(a=setTimeout(function(){e({type:"SET_IS_IDLE",isIdle:!0})},function(e){var t=e.reader.zoomLevel;return Object(o.d)(e)||s.F(e)||1!==t?i.d:31536e6}(n)))}}function l(){return function(e,t){t().reader.isIdle||e({type:"SET_IS_IDLE",isIdle:!0}),a&&(clearTimeout(a),a=null)}}function r(a){return function(e,t){var n=[u.j,u.i,u.k].includes(a),r=[u.h,u.a].includes(a),i=s.n(t()),o=s.t(t());e(r&&1<i||n&&i+1<o?l():c())}}function d(){return function(e,t){e(c())}}function p(){return function(e,t){e(c())}}function h(){return function(e,t){e(c())}}function f(){return function(e,t){e(l())}}function m(){return function(e,t){e(c())}}var g=NaN;function v(){return function(e,t){isNaN(g)&&(g=t().reader.zoomLevel),e(1!==g?l():c())}}function b(){return function(e,t){var n=t().reader.zoomLevel;e(1!==g&&1!==n?l():c(!1))}}function _(){return function(e,t){var n=t().reader.zoomLevel;e(1!==g&&1!==n?l():c()),g=NaN}}function y(){return function(e,t){e(c())}}function E(){return function(e,t){e(c())}}function T(){return function(e,t){e(c())}}},,,function(e,t,n){"use strict";n.d(t,"c",function(){return s}),n.d(t,"a",function(){return u}),n.d(t,"b",function(){return c}),n.d(t,"d",function(){return l}),n.d(t,"e",function(){return d}),n.d(t,"f",function(){return p}),n.d(t,"i",function(){return h}),n.d(t,"g",function(){return f}),n.d(t,"h",function(){return m}),n.d(t,"j",function(){return v}),n.d(t,"p",function(){return b}),n.d(t,"k",function(){return _}),n.d(t,"l",function(){return y}),n.d(t,"q",function(){return E}),n.d(t,"o",function(){return T}),n.d(t,"n",function(){return w}),n.d(t,"r",function(){return C}),n.d(t,"m",function(){return x}),n.d(t,"u",function(){return S}),n.d(t,"t",function(){return I}),n.d(t,"s",function(){return P});var r=n(6),i="@licenses/status/NOT_LOADED",o="@licenses/status/LOADED",a="@licenses/status/FAILED",s="customization_set_bg_color",u="customization_disable_share",c="customization_remove_link_below",l="customization_set_bg_image",d="customization_set_logo",p="customization_show_my_other_publications",h="norelated",f="hide_ads_in_reader",m="inpub_ads";function g(i){return Object(r.a)(function(e){return e.licenses},function(e){var t=e.isDisabled,n=e.status,r=e.list;return!(!t&&n!==a)||n===o&&r.includes(i)})}var v=g(s),b=g(u),_=(g(c),g(l)),y=g(d),E=g(p),T=g(h),w=Object(r.a)(function(e){return e.licenses},function(e){var t=e.status,n=e.list;return t===a||t===o&&n.includes(f)}),C=Object(r.a)(function(e){return e.licenses},function(e){var t=e.status,n=e.list;return t===o&&n.includes(m)}),x=Object(r.a)(function(e){return e.licenses},function(e){var t=e.status,n=e.list;return t===o&&n.includes("download")}),O="@reader3/licenses/LICENSES_LOAD_SUCCESS";function S(e){return{list:e,type:O}}var R="@reader3/licenses/LICENSES_LOAD_FAILED";function I(){return{type:R}}function P(){var n={isDisabled:0<arguments.length&&void 0!==arguments[0]&&arguments[0],status:i,list:[]};return function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:n,t=arguments[1];if(!t)return e;switch(t.type){case O:return babelHelpers.extends({},e,{status:o,list:t.list});case R:return babelHelpers.extends({},e,{status:a});default:return e}}}},function(e,t,n){"use strict";n.d(t,"a",function(){return i});var o=n(484),a=n(502),r=n(0),s=n.n(r);function u(){return window.innerWidth<470&&window.innerWidth>window.innerHeight}var i=(p.prototype.load=function(e,t,n,r,i){var o=this;return this.showMore=this.shouldShowMore(r,i),this.showOwnDocuments=this.shouldShowOwnDocuments(r),this.showAd=!i,this.publicationId=t,this.username=n,this.showMore?Object(a.a)(e,t,n,this.showOwnDocuments).then(function(e){return o.streamState=e,!0}):Promise.resolve(!1)},p.prototype.loadComplete=function(){return void 0!==this.streamState},p.prototype.shouldShowOwnDocuments=function(e){return this.show===p.OWN_DOCUMENTS&&e},p.prototype.shouldShowRelated=function(e,t){return this.show===p.RELATED||this.show===p.RELATED_FOR_FREE_PUBLISHERS&&!t||this.show===p.OWN_DOCUMENTS&&!e&&!t},p.prototype.shouldShowMore=function(e,t){return this.shouldShowRelated(e,t)||this.shouldShowOwnDocuments(e)},p.prototype.shouldAlwaysBeOverlay=function(){return this.alwaysOverlay},p.prototype.hasStreamData=function(){return this.loadComplete()&&this.streamState.buttonStream&&0<this.streamState.buttonStream.length},p.prototype.shouldRenderButton=function(e,t,n){return!(this.hideWhenNotInFullscreen&&!n)&&this.hasStreamData()&&this.shouldShowMore(e,t)},p.prototype.shouldRenderExitFullscreenOverlay=function(e,t){return!this.hideWhenNotInFullscreen&&this.hasStreamData()&&this.shouldShowMore(e,t)},p.prototype.getButtonUnreadCount=function(){var e=void 0;return(e=void 0!==this.unreadCount?this.unreadCount:this.streamState&&this.streamState.buttonStream?this.streamState.buttonStream.length:void 0)&&u()&&(e=Math.min(e,3)),e},p.prototype.clearButtonUnreadCount=function(){this.unreadCount=0},p.prototype.render=function(e,t,n,r,i){return s.a.createElement(o.a,{config:e,debug:t,exitedFullscreen:n,embedTrackingQuery:this.embedTrackingQuery,isVisible:r,openInNewTab:this.openInNewTab,publicationId:this.publicationId,shouldHackStreamCount:u(),showAd:this.showAd,showAsOverlay:i,showMore:this.showMore,showOwnDocuments:this.showOwnDocuments,streamState:this.streamState,metrics:this.metrics,username:this.username})},p);function p(e){var t=e.metrics,n=e.embedTrackingQuery,r=void 0===n?"":n,i=e.show,o=void 0===i?p.RELATED:i,a=e.alwaysOverlay,s=void 0!==a&&a,u=e.hideWhenNotInFullscreen,c=void 0!==u&&u,l=e.openInNewTab,d=void 0===l||l;babelHelpers.classCallCheck(this,p),this.showMore=!1,this.showAd=!1,this.embedTrackingQuery="",this.metrics=t,this.show=o,this.embedTrackingQuery=r,this.alwaysOverlay=s,this.hideWhenNotInFullscreen=c,this.openInNewTab=d,this.showOwnDocuments=this.show===p.OWN_DOCUMENTS}i.OWN_DOCUMENTS="READ_MORE_PlUGIN_OWN_DOCUMENTS",i.RELATED_FOR_FREE_PUBLISHERS="READ_MORE_PlUGIN_RELATED_FOR_FREE_PUBLISHERS",i.RELATED="READ_MORE_PlUGIN_RELATED"},,function(e,t,n){"use strict";n.d(t,"b",function(){return l}),n.d(t,"c",function(){return d}),n.d(t,"a",function(){return p}),n.d(t,"j",function(){return x}),n.d(t,"d",function(){return O}),n.d(t,"w",function(){return S}),n.d(t,"h",function(){return R}),n.d(t,"g",function(){return I}),n.d(t,"x",function(){return P}),n.d(t,"e",function(){return k}),n.d(t,"i",function(){return A}),n.d(t,"p",function(){return N}),n.d(t,"q",function(){return L}),n.d(t,"u",function(){return D}),n.d(t,"s",function(){return M}),n.d(t,"l",function(){return H}),n.d(t,"r",function(){return U}),n.d(t,"t",function(){return B}),n.d(t,"k",function(){return j}),n.d(t,"m",function(){return z}),n.d(t,"v",function(){return G}),n.d(t,"o",function(){return V}),n.d(t,"n",function(){return W}),n.d(t,"f",function(){return Y});var r=n(6),i=n(102),o=n(1),a=n(45),s="@reader3/find/TEXT_INFO_STATE_INITIAL",u="@reader3/find/TEXT_INFO_STATE_REQUESTED",c="@reader3/find/TEXT_INFO_STATE_FAILED",l="@reader3/find/LOADING_STATE_LOADING",d="@reader3/find/LOADING_STATE_READY",p="@reader3/find/LOADING_STATE_FAILED",h="@reader3/find/FIND_OPEN_DIALOG",f="@reader3/find/FIND_CLOSE_DIALOG",m="@reader3/find/FIND_SET_CURRENT_RESULT",g="@reader3/find/FIND_SET_TEXT_INFO_URL",v="@reader3/find/FIND_SET_TEXT_INFO_REQUESTED",b="@reader3/find/FIND_SET_TEXT_INFO_FAILED",_="@reader3/find/FIND_SET_TEXT_INFO",y="@reader3/find/FIND_SET_RESULTS",E="@reader3/find/FIND_SET_INPUT_VALUE",T="@reader3/find/FIND_SET_LATEST_QUERY",w={isVisible:!1,results:null,textInfoUrl:null,version:null,currentResultIdx:null,inputFieldValue:"",latestQuery:"",textInfo:s,loadTextInfo:i.b};function C(){return function(e,t){switch(t().find.textInfo){case s:case c:return e(function(t,e){var n=e().find,r=n.textInfoUrl,i=n.loadTextInfo;if(!r)throw new Error("attempting to find with textInfoUrl unset!");return t({type:v}),i(""+o.k+r).then(function(e){return t({type:_,textInfo:e})}).catch(function(){return t({type:b})})});default:return Promise.resolve()}}}function x(){return function(e,t){return e({type:h}),e(C()),Promise.resolve()}}function O(){return{type:f}}function S(n){return function(e,t){return Promise.resolve(e({type:m,idx:n}))}}function R(e){if(e.target instanceof HTMLInputElement)return{type:E,value:e.target.value};throw new Error("type mismatch. Excpected input element!")}function I(s){return function(o,a){return function(r,i){return r({type:T,value:o}),r(C()).then(function(){var e=i().find.textInfo;if(o&&e instanceof Object){var t=s(o,e),n=t.findIndex(function(e){return e.pageNo>=a});return r({type:y,results:t,currentResultIdx:n<0?t.length-1:n})}return r({type:y,results:null,currentResultIdx:null})})}}}function P(e,t){return{type:g,url:e,version:t}}function k(){return function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:w,t=arguments[1];switch(t.type){case h:return babelHelpers.extends({},e,{isVisible:!0});case f:return babelHelpers.extends({},e,{isVisible:!1});case g:return babelHelpers.extends({},e,{textInfoUrl:t.url,version:t.version});case v:return babelHelpers.extends({},e,{textInfo:u});case b:return babelHelpers.extends({},e,{textInfo:c});case _:return babelHelpers.extends({},e,{textInfo:t.textInfo});case y:return babelHelpers.extends({},e,{results:t.results,currentResultIdx:t.currentResultIdx});case m:return babelHelpers.extends({},e,{currentResultIdx:t.idx});case E:return babelHelpers.extends({},e,{inputFieldValue:t.value});case T:return babelHelpers.extends({},e,{latestQuery:t.value});case a.a:if(e.results){var n=t.currentPageNumber,r=e.results.findIndex(function(e){return e.pageNo>=n});return babelHelpers.extends({},e,{currentResultIdx:r<0?e.currentResultIdx:r})}return e;default:return e}}}var A=function(e){return e.find.isVisible},N=function(e){return e.find.latestQuery};function L(e){return!N(e)||e.find.textInfo!==u&&e.find.textInfo!==s?e.find.textInfo===c?p:d:l}var D=Object(r.a)(function(e){return e.find.results},function(e){return e||[]}),M=function(e){return Array.isArray(e.find.results)?e.find.results.length:null},H=function(e){return"number"==typeof e.find.currentResultIdx?e.find.currentResultIdx+1:0},F=Object(r.a)(H,function(e){return e-1}),U=Object(r.a)(D,F,function(e,t){return e.length?(t+1)%e.length:t}),B=Object(r.a)(D,F,function(e,t){return e.length?(t+e.length-1)%e.length:t}),j=Object(r.a)(D,F,function(e,t){return e[t]}),z=function(e){return e.find.inputFieldValue},G=(Object(r.a)(D,U,function(e,t){return e[t]}),Object(r.a)(D,B,function(e,t){return e[t]}),Object(r.a)(function(e){return e.find.textInfo},function(e){return e instanceof Object?e.pages.map(function(e){return{width:e.width,height:e.height,pageNumber:e.pageNumber}}):[]}));function V(e){var t=e.find;return t.latestQuery!==t.inputFieldValue}var W=function(e){return!!e.find.textInfoUrl};function Y(e,t,n,o){return Object(r.a)(e,t,n,D,function(e,t,n,r){if(!e||!n)return[];var i=r.reduce(function(e,t){return e.add(o(n,t.pageNo))},new Set);return Array.from(i).map(function(e){return e*(1/t)})})}},,,,function(e,t,n){"use strict";function r(){return window.devicePixelRatio||1}n.d(t,"a",function(){return r})},function(e,t,n){"use strict";n.d(t,"c",function(){return r}),n.d(t,"b",function(){return i}),n.d(t,"a",function(){return o}),n.d(t,"e",function(){return a}),n.d(t,"f",function(){return s}),n.d(t,"h",function(){return u}),n.d(t,"i",function(){return c}),n.d(t,"g",function(){return l}),n.d(t,"k",function(){return d}),n.d(t,"j",function(){return p}),n.d(t,"d",function(){return h});var r=1,i=5,o=500,a=250,s=20,u=20,c=45,l=20,d=20,p=45,h=3e3},function(e,t,n){"use strict";n.r(t),n.d(t,"DOUBLE_PAGE_SPREAD",function(){return r}),n.d(t,"SINGLE_PAGE_SPREAD",function(){return i}),n.d(t,"RESPONSIVE",function(){return o});var r="DOUBLE_PAGE_SPREAD",i="SINGLE_PAGE_SPREAD",o={HANDHELD_IN_PORTRAIT:"HANDHELD_IN_PORTRAIT",HANDHELD_IN_PORTRAIT_FULLSCREEN:"HANDHELD_IN_PORTRAIT_IN_FULLSCREEN",PHONE_ISH_IN_PORTRAIT:"PHONE_ISH_IN_PORTRAIT"}},function(e,t,n){"use strict";n.d(t,"b",function(){return r}),n.d(t,"d",function(){return i}),n.d(t,"e",function(){return o}),n.d(t,"a",function(){return a}),n.d(t,"c",function(){return s}),n.d(t,"h",function(){return u}),n.d(t,"g",function(){return c}),n.d(t,"f",function(){return l});var r="SWIPE_LEFT",i="SWIPE_RIGHT",o="SWIPE_UP",a="SWIPE_DOWN",s="SWIPE_OTHER",u="ZOOM_OUT",c="ZOOM_IN",l="UNDEFINED"},,function(e,t,n){"use strict";var r=n(61);n.d(t,"f",function(){return r.c}),n.d(t,"g",function(){return r.d});var i=n(301);n.d(t,"d",function(){return i.a});var o=n(317);n.d(t,"e",function(){return o.a});var a=n(318);n.d(t,"c",function(){return a.a});var s=n(245);n.d(t,"b",function(){return s.b}),n.d(t,"a",function(){return s.a})},function(e,t,n){"use strict";n.r(t),n.d(t,"FULLSCREEN_TYPE",function(){return i}),n.d(t,"FULLSCREEN_KIND",function(){return o}),n.d(t,"FULLSCREEN_BUTTON",function(){return a}),n.d(t,"ISSUU_BRANDING_TYPE",function(){return s}),n.d(t,"SHARE_DIALOG_TYPE",function(){return u}),n.d(t,"NAVIGATION_LINK_TYPE",function(){return c}),n.d(t,"ZOOM_TYPE",function(){return l}),n.d(t,"DOWNLOAD_TYPE",function(){return d}),n.d(t,"DOWNLOAD_PROTECTED_TYPE",function(){return p}),n.d(t,"NAVIGATION_ARROWS_TYPE",function(){return h}),n.d(t,"BACKGROUND_IMAGE_STYLE",function(){return f}),n.d(t,"READ_MODE",function(){return m});var r=n(25),i="FEATURE_FULLSCREEN",o={NORMAL:"NORMAL",FALLBACK:"FALLBACK"},a={ALWAYS:"ALWAYS",HIDE:"HIDE_WHEN_NOT_SUPPORTED"},s="FEATURE_ISSUU_BRANDING",u="FEATURE_SHARE_DIALOG",c="FEATURE_NAVIGATION_LINK",l="FEATURE_ZOOM",d="FEATURE_DOWNLOAD",p="FEATURE_DOWNLOAD_PROTECTED",h="FEATURE_NAVIGATION_ARROWS",f={STRETCH:"STRETCH",TOP_LEFT:"TOP_LEFT"},m=r},function(e,t,n){"use strict";n.d(t,"c",function(){return r}),n.d(t,"m",function(){return i}),n.d(t,"k",function(){return o}),n.d(t,"n",function(){return a}),n.d(t,"l",function(){return s}),n.d(t,"b",function(){return u}),n.d(t,"a",function(){return c}),n.d(t,"j",function(){return l}),n.d(t,"i",function(){return d}),n.d(t,"d",function(){return p}),n.d(t,"f",function(){return h}),n.d(t,"h",function(){return f}),n.d(t,"e",function(){return m}),n.d(t,"g",function(){return g});var r="DOCUMENT_LOAD_MESSAGE",i="USER_INTERACTED_MESSAGE",o="PAGE_CHANGE_MESSAGE",a="ZOOM_MESSAGE",s="RESIZE_MESSAGE",u="DOCUMENT_DOWNLOAD_MESSAGE",c="CLIPPING_ACTION_MESSAGE",l="MORE_CONTENT_DOCUMENT_SHOW_MESSAGE",d="MORE_CONTENT_DOCUMENT_CLICK_MESSAGE",p="MONITOR_BATCHED_MESSAGE",h="MONITOR_MESSAGE",f="MONITOR_TRAFFIC_SOURCE",m="MONITOR_DROPPED_FRAMES",g="MONITOR_TIME_TO_COVER"},,function(e,t,n){"use strict";n.d(t,"b",function(){return l}),n.d(t,"e",function(){return d}),n.d(t,"a",function(){return p}),n.d(t,"d",function(){return h}),n.d(t,"c",function(){return f});var r=n(6),i=n(1),o=n(33),a=n(12),s=n(34),u=Object(r.a)(function(e){return e.pages.pages},function(e){return e.map(function(e,t){var n=e.imageUri,r=e.layersInfo;return"object"===(void 0===r?"undefined":babelHelpers.typeof(r))&&r.uri&&(r=babelHelpers.extends({},r,{uri:""+i.k+r.uri})),n=""+i.k+n,babelHelpers.extends({},e,{layersInfo:r,imageUri:n})})}),c=Object(r.a)(u,function(e){return e.links.pages},function(e,r){return e.map(function(e,t){var n=r[t];return n?n.links:[]})}),l=Object(r.a)(u,c,a.d,function(e){return o.d.selectTextInfoPageModels(e)},function(e){return o.d.selectResults(e)},function(e){return o.d.selectCurrentResult(e)},function(e,t,r,i,o,a){return e.map(function(e,n){return babelHelpers.extends({},e,{links:t[n],pageNumber:n+1,documentId:r.documentId,textInfoPage:i.find(function(e){return e.pageNumber===n+1}),findResults:o.reduce(function(e,t){return t.pageNo===n+1&&e.push(t.result),e},[]),selectedFindResult:a&&a.pageNo===n+1?a.result:null})})}),d=Object(r.a)(l,function(e){return Object(s.b)(e)}),p=function(e){return e.metadata.isPaywallPreview},h=function(e){return e.metadata.protectedContentUrlId},f=Object(r.a)(function(e){return e.metadata},function(e){return e.pages.pages},function(e,t){return e.isPaywallPreview?t.reduce(function(e,t,n){return t.isPagePaywalled&&e.push(n+1),e},[]):[]})},function(e,t,n){"use strict";n.d(t,"c",function(){return f}),n.d(t,"a",function(){return l}),n.d(t,"b",function(){return d}),n.d(t,"d",function(){return h});var r=n(6),i=n(362),o=n(49),a=n(34),s=n(113),u=n(12),c=Object(i.a)({Spinner:s.a,isMobile:o.a.isMobile(),jumpToPageNumber:function(e,t){e.canvasApi.jumpToPage(t)},pageNumberToSpreadIndex:a.a,resetZoom:function(e){e.canvasApi.zoomCurrentView(1)},selectCurrentPageNumber:function(e){return e.reader.currentPageNumber},selectPageCount:function(e){return Object(u.d)(e).pageCount},selectReadMode:Object(r.a)(function(e){var t=e.canvasApi;return t&&t.getReadMode()},function(e){return e}),selectSpreadCount:Object(r.a)(function(e){var t=e.canvasApi;return t&&t.getReadMode()},function(e){return Object(u.d)(e)},function(e,t){var n=t.pageCount;return e&&n?Object(a.a)(e,n):0})}),l=c.actions,d=c.components,p=c.createReducer,h=c.selectors;function f(){return p()}},function(e,t,n){"use strict";n.d(t,"a",function(){return i}),n.d(t,"c",function(){return o}),n.d(t,"b",function(){return a});var r=n(25);function i(e,t){return e===r.DOUBLE_PAGE_SPREAD?1===t?0:Math.floor(t/2):t-1}function o(e){return 0<=e.pages.findIndex(function(e){return e.isPagePaywalled})}function a(e){var t=[],n=e.length;if(0<n){t.push({pages:[e[0]]});for(var r=1;r<n-1;r+=2)t.push({pages:[e[r],e[r+1]]});n%2==0&&t.push({pages:[e[n-1]]})}return t}},function(e,t,n){"use strict";n.d(t,"b",function(){return m}),n.d(t,"a",function(){return r});var a=n(30),h=n(487),f=n(498);function m(){try{return window.document.cookie.match(/\bsite.model.username=([^;]+);/)[1]}catch(e){return null}}var r=(i.prototype.monitor=function(e,t,n){var r=2<arguments.length&&void 0!==n&&n,i=Object.assign({type:e},t);this.metricsEvent({type:r?a.f:a.d,data:i})},i.prototype.onDocumentLoaded=function(e,t){var n=e.publicationId,r=e.revisionId,i=e.documentName,o=e.username;this._previousPages=t,this._isTrackerReady=!0,this.metricsEvent({type:a.c,data:{isEmbed:this.isEmbed,isFullscreen:!1,revisionId:r,publicationId:n,publicationName:i,ownerUsername:o,pages:t,pageNumber:t[0],embedId:this.embedId,adpageId:this.adpageId,streamOrigin:this.streamData.origin,streamRanking:this.streamData.ranking}}),this.metricsEvent({type:a.h})},i.prototype.onActivity=function(e){this._isTrackerReady&&e&&!this._interactedWithReader&&(this._interactedWithReader=!0,this.metricsEvent({type:a.m}))},i.prototype.onPageChanged=function(e){this._isTrackerReady&&this._previousPages.join()!==e.join()&&(this._previousPages=e,this.metricsEvent({type:a.k,data:{pages:e}}))},i.prototype.onZoom=function(e){this._isTrackerReady&&this._previousZoom!==e&&(this._previousZoom=e,this.metricsEvent({type:a.n}))},i.prototype.onResize=function(e,t){this._isTrackerReady&&this.metricsEvent({type:a.l,data:{displaySize:e,isFullscreen:t}})},i.prototype.onDownload=function(e){var t=e.revisionId,n=e.publicationId,r=e.documentName,i=e.username;this.metricsEvent({type:a.b,data:{anonymous:!0,revisionId:t,publicationId:n,publicationName:r,ownerUsername:i}})},i.prototype.onClippingActionGotoPage=function(e,t,n){this._isTrackerReady&&this.metricsEvent({type:a.a,data:{clippingId:e,action:"gotoPage",onPage:t,page:n,creator:"publisher"}})},i.prototype.onClippingActionOpenUrl=function(e,t,n){this._isTrackerReady&&this.metricsEvent({type:a.a,data:{clippingId:e,action:"openUrl",onPage:t,creator:"publisher",url:n}})},i.prototype.onTimeToCover=function(e){this.metricsEvent({type:a.g,data:e})},i.prototype.onFrameDrop=function(e){this.metricsEvent({type:a.e,data:{dropped:Math.round(e.droppedFrames),dropped_per_sec:Math.round(Math.min(e.droppedFrames/e.duration*1e3,e.droppedFrames)),duration_in_ms:Math.round(e.duration),webgl:e.webgl}})},i.prototype.onMoreContentDocumentClick=function(e){this._isTrackerReady&&this.metricsEvent({type:a.i,data:e})},i.prototype.onMoreContentDocumentShow=function(e){this._isTrackerReady&&this.metricsEvent({type:a.j,data:e})},i);function i(e){babelHelpers.classCallCheck(this,i),this._isTrackerReady=!1,this._interactedWithReader=!1,this._previousPages=[],this._previousZoom=1,this.metricsEvent=function(e){var t=e.location,n=e.referrer,r=e.monitorEventsOnly,i=e.readerEndPoint,o=e.pingbackOrigin,a=e.source,s=Object(f.a)(),u=s.deviceType,c=s.browserName,l="reader3-v1.0.1916_"+i+"-v1.0.1916",d={pingbackOrigin:o,monitorEventsOnly:r,width:window.innerWidth,height:window.innerHeight,username:m(),location:t,referrer:n,source:a,origin:l,language:"en",deviceType:u,browserName:c,readerEndPoint:i},p=new h.a(d);return function(e){p.onEvent(e)}}(e),this.streamData=e.streamData||{},this.isEmbed=e.isEmbed,this.adpageId=e.adpageId,this.readerEndPoint=e.readerEndPoint,this.embedId=e.embedId}},function(e,t,n){"use strict";n.d(t,"d",function(){return E});var r=n(0),f=n.n(r),i=n(22),o=n(43),a=n(53),s=n.n(a),u=n(1),c=n(82),l=n(47);n.d(t,"h",function(){return l.l}),n.d(t,"i",function(){return l.m});var d=n(9),p=n(12),h=n(379),m=n(381);n.d(t,"b",function(){return l.b}),n.d(t,"c",function(){return l.c}),n.d(t,"a",function(){return l.a}),n.d(t,"f",function(){return l.f}),n.d(t,"e",function(){return l.d}),n.d(t,"g",function(){return l.k});var g,v=function(){try{var e=/.*skipOffset=(\d*)/.exec(window.parent.location.search);if(e&&e[1])return parseInt(e[1],10)}catch(e){}return c.g}(),b={AD_OVERLAY:h.a,IN_STREAM:m.a},_=(g=f.a.Component,babelHelpers.inherits(y,g),y.prototype.componentDidMount=function(){if(window!=window.parent){var e=new u.l(window.document.location.toString());this.hostUrl=e.getHostUrl()}},y.prototype.componentWillUnmount=function(){this.timeoutId&&window.clearTimeout(this.timeoutId)},y.prototype.componentDidUpdate=function(e,t){e.canCreateAd!==this.props.canCreateAd&&this.props.canCreateAd&&this.setState({currentAdType:this.props.adType}),t.currentAdType!==this.state.currentAdType&&null!==this.state.currentAdType&&this.createAd(),e.isOverlayVisible!==this.props.isOverlayVisible&&this.props.isOverlayVisible&&this.startCountDown(),this.props.isOverlayVisible&&this.props.areButtonsEnabled?window.addEventListener("keydown",this.onKeyDown,!1):window.removeEventListener("keydown",this.onKeyDown,!1)},y.prototype.render=function(){var t=this,e=this.props,n=e.areButtonsEnabled,r=e.canCreateAd,i=e.isOverlayVisible,o=e.thumbnailUrl,a=e.documentTitle,s=e.licenses,u=e.metrics,c=e.publicationId,l=e.publisherUsername,d=this.state.currentAdType,p={areButtonsEnabled:n,canCreateAd:r,isOverlayVisible:i,thumbnailUrl:o,documentTitle:a,licenses:s,metrics:u,publicationId:c,publisherUsername:l,onBlocked:function(){t.onClose("blocked")},onClose:function(){t.onClose("closed")},onFailed:function(){t.onClose("failed")},onUnfilled:function(){t.onClose("unfilled")},onIntent:this.onIntent.bind(this),onShow:this.onShow.bind(this)};if(d){var h=b[d];return f.a.createElement(h,babelHelpers.extends({},p,{ref:function(e){return t.adComponent=e}}))}return null},y);function y(e){babelHelpers.classCallCheck(this,y);var r=babelHelpers.possibleConstructorReturn(this,g.call(this,e));return r.createAd=function(){var e=r.props,t=e.currentPageNumbers;e.isFullscreenEnabled;r.adComponent&&(r.adComponent.createAd(r.hostUrl),r.props.onCreateOverlay(t))},r.removeAd=function(){r.adComponent&&r.adComponent.removeAd(),r.timeoutId=null,r.setState({intent:!1}),r.props.onDisableButtons()},r.startCountDown=function(){if(!r.timeoutId){r.timeoutId=window.setTimeout(function(){r.props.onEnableButtons(),c.c&&!r.state.intent&&r.onClose("closed")},v);var e=s()();window.requestAnimationFrame(function(){return r.updateProgress(e,v)})}},r.updateProgress=function(e,t){var n=s()()-e;t<n&&(n=t),r.adComponent&&r.adComponent.updateProgress(n,t),n<t&&window.requestAnimationFrame(function(){return r.updateProgress(e,v)})},r.onKeyDown=function(e){switch(e.keyCode){case 27:case 37:case 38:case 39:case 40:e.metaKey||(window.removeEventListener("keydown",r.onKeyDown,!1),r.onClose("closed"))}},r.onIntent=function(e){r.setState({intent:!0})},r.onClose=function(e){if(r.props.isOverlayCreated){r.props.currentPageNumbers;r.removeAd(),r.props.onCloseOverlay(e),setTimeout(function(){r.setState({currentAdType:null})},500)}},r.onShow=function(){r.props.onShowOverlay()},r.state={currentAdType:null,intent:!1},r}var E=Object(i.b)(function(e){var t=Object(p.d)(e),n=t.username,r=t.publicationId;return{adType:Object(l.i)(e),areButtonsEnabled:e.adOverlay.buttonsEnable,canCreateAd:Object(l.j)(e),currentPageNumbers:e.reader.currentPageNumbers,isFullscreenEnabled:Object(d.d)(e),isOverlayCreated:Object(l.l)(e),isOverlayVisible:Object(l.m)(e),licenses:Object(l.n)(e),thumbnailUrl:Object(l.o)(e),documentTitle:e.metadata.title,publicationId:r,publisherUsername:n}},function(e){return{onCreateOverlay:Object(o.b)(l.e,e),onShowOverlay:Object(o.b)(l.p,e),onCloseOverlay:Object(o.b)(l.d,e),onDisableButtons:Object(o.b)(l.g,e),onEnableButtons:Object(o.b)(l.h,e)}})(_)},function(e,t,n){"use strict";n.d(t,"a",function(){return d}),n.d(t,"d",function(){return i}),n.d(t,"c",function(){return p}),n.d(t,"b",function(){return T}),n.d(t,"f",function(){return r}),n.d(t,"e",function(){return h});var o=n(1),m=n(29),g=n(25),a=n(33),v=n(12),s=n(51),b=n(32),u=n(16),c=n(103),l=n(95),_=n(34),y=n(196),E=n(197),d="@reader3/init/DOCUMENTLOADING",i="@reader3/init/DOCUMENTLOAD_SUCCESS",p="@reader3/init/DOCUMENTLOAD_FAILURE",T="@reader3/init/DOCUMENTLOAD_ABOUT_TO_SUCCESS";function r(e,t,n,r){return{timeStamp:e,pageNumber:t,targetSpreadIndex:n,currentPageNumbers:r,type:i}}function h(i,r){return function(h,f){return h(function(e){return{type:d,timeStamp:e}}(Date.now())),i.whenDocumentBaseFetched().then(function(t){var e=i.whenDocumentExtraFetched().then(function(e){return h(Object(v.b)(Object.assign({},t,e)))}),n=i.whenLicensesFetched().then(function(e){return h(Object(u.u)(e))}).catch(function(e){return h(Object(u.t)())}),r=i.whenAdsenseAccountFetched().then(function(e){return h(Object(c.a)(e))}).catch(function(e){return h(Object(c.b)())});return i.whenDocumentLinksFetched().then(function(e){return h(Object(s.e)(e))}),i.whenDocumentTextFetched().then(function(e){var t=e.textInfoPath,n=e.textInfoVersion;return h(a.a.setTextInfoUrl(t,n))}),Promise.all([e,n,r])}).then(function(){var e=r(),t=e[0],n=e[1];return h(Object(l.c)(t,n))}).then(function(){var e=f(),t=e.size,n=t.width,r=t.height,i=e.reader.initialPageNumber,o=e.features,a=e.fullscreen,s=Math.max(1,Math.min(Object(v.d)(e).pageCount,i)),u=o.controls.find(function(e){return e.type===m.FULLSCREEN_TYPE}),c=Object(E.a)(u,a.enabled),l=Object(y.a)(n,r,c,o.readModeRules),d=Object(_.a)(l,s),p=(l===g.DOUBLE_PAGE_SPREAD?Object(b.e)(e)[d].pages:[Object(b.b)(e)[d]]).map(function(e){return e.pageNumber});return h(function(e,t,n,r){return{timeStamp:e,pageNumber:t,targetSpreadIndex:n,currentPageNumbers:r,type:T}}(Date.now(),s,d,p))}).catch(function(e){Object(o.m)(e,{tags:{errorOrigin:"document-load-fetchDocument"}}),h(function(e,t){return{type:p,error:e,timeStamp:t}}(e,Date.now()))})}}},,function(e,t,n){"use strict";n.d(t,"f",function(){return i}),n.d(t,"l",function(){return o}),n.d(t,"a",function(){return a}),n.d(t,"c",function(){return s}),n.d(t,"e",function(){return u}),n.d(t,"g",function(){return c}),n.d(t,"h",function(){return l}),n.d(t,"b",function(){return d}),n.d(t,"i",function(){return p}),n.d(t,"k",function(){return h}),n.d(t,"d",function(){return f}),n.d(t,"j",function(){return m});var r=ENV||window.ENV,i=r.ISSUU_ENV_NAME,o=r.SCHEME,a=r.API_DNS,s=r.EMBED_DNS,u=r.IMAGE_DNS,c=r.MAIN_DNS,l=r.PHOTO_DNS,d=r.CREATOR_HUB_DNS,p=r.PINGBACK_DNS,h=r.READER3_DNS,f=(r.STATIC_DNS,r.GOOGLE_ANALYTICS_ID),m=r.QUANTCAST_ID},,,,,function(e,t,n){"use strict";n.d(t,"c",function(){return r}),n.d(t,"g",function(){return i}),n.d(t,"b",function(){return o}),n.d(t,"j",function(){return a}),n.d(t,"d",function(){return s}),n.d(t,"h",function(){return u}),n.d(t,"i",function(){return c}),n.d(t,"k",function(){return l}),n.d(t,"a",function(){return d}),n.d(t,"f",function(){return p}),n.d(t,"e",function(){return h});var r=27,i=36,o=35,a=32,s=70,u=37,c=39,l=38,d=40,p=191,h=114},function(e,t,n){"use strict";n.d(t,"a",function(){return c}),n.d(t,"b",function(){return r});var c="READER_POSITION_CHANGED";function r(e,t,n,r,i,o,a,s,u){return{type:c,currentSpreadIndex:t,currentPageNumber:n,currentPageNumbers:r,positionInPercent:i,visiblePageNumbers:e,positionInPercentHasChanged:o,currentPagesHasChanged:a,visiblePagesHasChanged:s,isDragging:u}}},,function(e,t,n){"use strict";n.d(t,"b",function(){return d}),n.d(t,"c",function(){return p}),n.d(t,"a",function(){return h}),n.d(t,"i",function(){return T}),n.d(t,"o",function(){return w}),n.d(t,"k",function(){return C}),n.d(t,"n",function(){return x}),n.d(t,"j",function(){return S}),n.d(t,"m",function(){return R}),n.d(t,"l",function(){return I}),n.d(t,"f",function(){return P}),n.d(t,"e",function(){return k}),n.d(t,"p",function(){return A}),n.d(t,"d",function(){return N}),n.d(t,"h",function(){return L}),n.d(t,"g",function(){return D});var r=n(6),a=(n(1),n(82)),i=n(9),o=n(16),s=n(150),u=n(49),c=n(62),l={adPagesDisplayed:[],buttonsEnable:!1,created:!1,visible:!1},d="AD_OVERLAY_CREATE",p="AD_OVERLAY_SHOW",h="AD_OVERLAY_CLOSE",f="AD_OVERLAY_ENABLE_BUTTONS",m="AD_OVERLAY_DISABLE_BUTTONS",g=u.a.isMobile()?a.e:u.a.isTablet()?a.h:a.b,v=c.e(),b=Object(r.a)(function(e){return e.experiment.identifier},i.d,function(i,o){return a.a.filter(function(e){var t=e.experiments[i],n={displayStates:t&&t.displayStates||e.displayStates,deviceTypes:(t&&t.deviceTypes||e.deviceTypes).filter(function(e){return e!==a.e||e===a.e&&v})},r=o?a.d:a.f;return n.displayStates.includes(r)&&n.deviceTypes.includes(g)})}),_=Object(r.a)(function(e){return e.reader.currentPageNumbers},b,function(n,e){return e.find(function(e){if("function"!=typeof e.page)return n.includes(e.page);var t=e.page;return n.some(function(e){return t(e)})})}),y=Object(r.a)(function(e){return e.reader.currentPageNumbers},function(e){return e.adOverlay.adPagesDisplayed},function(t,e){return e.some(function(e){return t.includes(e)})}),E=Object(r.a)(_,y,function(e,t){return!!e&&!t}),T=Object(r.a)(_,function(e){return e?e.type:null}),w=Object(r.a)(function(e){return e.config.origins.image},function(e){return e.metadata.revisionId},function(e){return e.metadata.publicationId},function(e,t,n){return e+"/"+t+"-"+n+"/jpg/page_1_thumb_large.jpg"}),C=Object(r.a)(function(e){return e.features.canLoadAdOverlay},s.a,o.r,function(e,t,n){return e&&(n||t)}),x=Object(r.a)(o.n,o.r,function(e,t){var n=[];return e&&n.push(o.g),t&&n.push(o.h),n}),O=Object(r.a)(function(e){return e.reader.isReady},b,C,function(e){return 8<=e.pages.pages.length},function(e,t,n,r){return e&&0<t.length&&n&&r}),S=Object(r.a)(O,E,function(e,t){return e&&t}),R=function(e){return e.adOverlay.visible},I=function(e){return e.adOverlay.created},P=function(){return function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:l,t=arguments[1];switch(t.type){case d:var n=e.adPagesDisplayed.concat(t.currentPageNumbers);return babelHelpers.extends({},e,{created:!0,adPagesDisplayed:n});case p:return babelHelpers.extends({},e,{visible:!0});case h:return babelHelpers.extends({},e,{visible:!1,created:!1});case f:return babelHelpers.extends({},e,{buttonsEnable:!0});case m:return babelHelpers.extends({},e,{buttonsEnable:!1});default:return e}}},k=function(e){return{type:d,currentPageNumbers:e}},A=function(){return{type:p}},N=function(e){return{type:h,reason:e}},L=function(){return{type:f}},D=function(){return{type:m}}},,function(e,t,n){"use strict";n.d(t,"a",function(){return a});function r(){return Math.min(window.screen.width,window.screen.height)}function i(){return!!window.FEATURE_TEST_IS_TOUCH||"ontouchstart"in window||0<window.navigator.maxTouchPoints||0<window.navigator.msMaxTouchPoints}function o(){return i()&&r()<480}var a={isTouch:i,isMobile:o,isTablet:function(){return i()&&!o()&&r()<=1024},isPhantom:function(){return"callPhantom"in window},isIOS:function(){return!!navigator.platform&&["iPad Simulator","iPhone Simulator","iPod Simulator","iPad","iPhone","iPod"].includes(navigator.platform)}}},function(e,t,n){"use strict";n.d(t,"c",function(){return u}),n.d(t,"b",function(){return c}),n.d(t,"d",function(){return l}),n.d(t,"a",function(){return d}),n.d(t,"h",function(){return p}),n.d(t,"i",function(){return h}),n.d(t,"e",function(){return f}),n.d(t,"g",function(){return m}),n.d(t,"f",function(){return v});var o=n(16),r=n(9),i=n(58),a=n(116),s=n(12),u="READ_MORE_LOAD_SUCCESS",c="READ_MORE_LOAD_FAILURE",l="SHOW_MORE_DROPDOWN",d="CLOSE_MORE_DROPDOWN";function p(){return{type:u}}function h(){return{type:l}}function f(){return{type:d}}function m(i){return function(t,e){if(i){var n=e(),r=Object(s.d)(n);i.load(n.config.origins.api,r.publicationId,r.username,Object(o.q)(n),Object(o.o)(n)).then(function(e){e&&t(p())}).catch(function(){t({type:c})})}}}var g={loaded:!1,exitedFullscreen:!1,forceOverlay:!1};function v(){return function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:g,t=arguments[1];switch(t.type){case u:return Object.assign({},e,{loaded:!0});case l:return Object.assign({},e,{forceOverlay:!1});case d:return Object.assign({},e,{exitedFullscreen:!1});case r.g.ENTER_FULLSCREEN:return t.fullscreenMethod===a.a?e:Object.assign({},e,{exitedFullscreen:!0,forceOverlay:!0});case r.g.EXIT_FULLSCREEN:return Object.assign({},e,{exitedFullscreen:!0,forceOverlay:!0});case i.a:return Object.assign({},g);default:return e}}}},function(e,t,n){"use strict";n.d(t,"b",function(){return r}),n.d(t,"c",function(){return u}),n.d(t,"a",function(){return c}),n.d(t,"e",function(){return p}),n.d(t,"d",function(){return h}),n.d(t,"f",function(){return f});var i=n(8),o=n(136),a=n(34),s=n(5),r={OPEN_URL:"openUrl",GOTO_PAGE:"gotoPage"},u={SHOPPING:"shopping",VIDEO:"video",EMAIL:"email",URL:"url"},c="LINK_CLICKED",l="@reader3/document/LINKSLOADED",d={loaded:!1,pages:[]};function p(e){return{type:l,clippings:e}}function h(n){return function(e,t){if(e({type:c,linkModel:n}),"gotoPage"===n.type)e(function(e){var r=e.gotoPageNumber;return function(e,t){var n=Object(a.a)(Object(s.B)(t()),r);e(Object(i.m)(n))}}(n));else{if("openUrl"!==n.type)throw new Error("Unsupported link type ("+n.type+")");if("video"===n.urlType)e(function(e){var t=e.url,n=e.videoId,r=e.videoService;return Object(o.d)(r,n,t)}(n));else if("email"===n.urlType)window.open(n.url,"_top");else{if("shopping"!==n.urlType&&"url"!==n.urlType)throw new Error("Unsupported urlType ("+n.urlType+")");window.open(n.url,"_blank")}}}}function f(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:d,t=arguments[1];switch(t.type){case l:for(var n=t.clippings,r=void 0===n?{}:n,i=Object.keys(r).map(function(e){return parseInt(e,10)}).filter(function(e){return!isNaN(e)&&isFinite(e)}),o=Math.max.apply(Math,[0].concat(i)),a=[],s=function(t){a[t]={links:(r[t+1]||[]).map(function(e){return babelHelpers.extends({},e,{page:{pageNumber:t+1}})})}},u=0;u<o;u++)s(u);return{loaded:!0,pages:a};default:return e}}},function(e,t,n){"use strict";n.d(t,"d",function(){return i}),n.d(t,"b",function(){return o}),n.d(t,"a",function(){return a}),n.d(t,"c",function(){return s});var r=n(51);function i(e){return e.type===r.b.OPEN_URL&&e.urlType===r.c.VIDEO}function o(e){return e.type===r.b.OPEN_URL&&e.urlType===r.c.VIDEO&&!!e.inlineData}function a(e){return!!e.inlineData&&e.inlineData.isExplicit}function s(e){return e.type===r.b.OPEN_URL&&e.urlType===r.c.SHOPPING}},,function(e,t,n){"use strict";n.d(t,"a",function(){return u});var r,i=n(0),o=n.n(i),a=n(42),s=n.n(a),u=(r=i.Component,babelHelpers.inherits(c,r),c.prototype.shouldComponentUpdate=function(e,t){return!(s()(this.props,e)&&s()(this.state,t))},c.prototype.render=function(){var e={};return this.props.isHidden&&(e.display="none"),o.a.createElement("button",{className:this.props.className,onClick:this.props.onClick,disabled:this.props.isDisabled,id:this.props.id,dangerouslySetInnerHTML:{__html:this.props.content},style:e,type:"button"},this.props.children)},c);function c(){return babelHelpers.classCallCheck(this,c),babelHelpers.possibleConstructorReturn(this,r.apply(this,arguments))}u.displayName="Button"},function(e,t,n){"use strict";n.d(t,"c",function(){return u}),n.d(t,"b",function(){return c}),n.d(t,"d",function(){return l}),n.d(t,"a",function(){return d}),n.d(t,"e",function(){return h});var r=n(192),o=n(32),i=n(12),a=n(13),s=n(7),u="DOWNLOAD_READY",c="DOWNLOAD_LOADING",l="DOWNLOAD_SUCCESS",d="DOWNLOAD_FAILURE";function p(e,t){e({type:t}),window.setTimeout(function(){e({type:u})},2e3)}function h(){return function(e,t){var n=t();return n.download.status===u?(e(Object(a.a)()),n.featureTracker.usage(s.a.BUTTON_DOWNLOAD),Object(r.a)(n)?e(function(e,t){var n=t(),r=Object(o.d)(n);if(r){var i=n.config.origins.api+"/call/reader/api/purchased-download/"+r;return window.open(i,"_top"),p(e,l)}return p(e,d)}):e(function(t,e){var n=e(),r=n.config.origins.api+"/query?action=issuu.document.download&documentId="+Object(i.d)(n).documentId+"&format=json";t({type:c}),fetch(r).then(function(e){return e.json()}).then(function(e){window.open(e.rsp._content.redirect.url,"_top"),p(t,l)}).catch(function(){p(t,d)})})):e(Object(a.a)())}}},function(e,t,n){"use strict";n.d(t,"a",function(){return r});var o=n(10),a=o.c.create(),s=o.c.create();function u(e){return e}var r=(i.prototype.inverse=function(){var e=o.a.create();return o.a.invert(e,this.matrix),new i(e)},i.prototype.isIdentityMatrix=function(){return 1===this.matrix[0]&&0===this.matrix[1]&&0===this.matrix[2]&&1===this.matrix[3]&&0===this.matrix[4]&&0===this.matrix[5]},i.prototype.isEqualWith=function(e){for(var t=0;t<this.matrix.length;t++)if(this.matrix[t]!==e.matrix[t])return!1;return!0},i.prototype.multiply=function(e){var t=o.a.create();return o.a.multiply(t,this.matrix,e.matrix),new i(t)},i.prototype.mReset=function(){return o.a.identity(this.matrix),this},i.prototype.mMultiply=function(e){return o.a.multiply(this.matrix,this.matrix,e.matrix),this},i.prototype.mTranslate=function(e,t){var n=o.a.create();return o.a.translate(n,this.matrix,o.c.fromValues(e,t)),this.matrix=n,this},i.prototype.mScale=function(e){var t=o.a.create();return o.a.scale(t,this.matrix,o.c.fromValues(e,e)),this.matrix=t,this},i.prototype.mSet=function(e,t,n,r,i,o){return this.matrix[0]=e,this.matrix[1]=t,this.matrix[2]=n,this.matrix[3]=r,this.matrix[4]=i,this.matrix[5]=o,this},i.prototype.mSetMatrix=function(e){return this.mSet(e[0],e[1],e[2],e[3],e[4],e[5])},i.prototype.transformPoint=function(e,t){var n=o.c.create();return o.c.transformMat2d(n,o.c.fromValues(e,t),this.matrix),Array.from(n).map(u)},i.prototype.transformRect=function(e){o.c.transformMat2d(a,o.c.set(a,e.x,e.y),this.matrix),o.c.transformMat2d(s,o.c.set(s,e.x+e.width,e.y+e.height),this.matrix);var t=Math.min(a[0],s[0]),n=Math.max(a[0],s[0]),r=Math.min(a[1],s[1]),i=Math.max(a[1],s[1]);return e.x=u(t),e.y=u(r),e.width=u(n-t),e.height=u(i-r),e},i.prototype.transformCanvasCtx=function(e){e.transform(this.matrix[0],this.matrix[1],this.matrix[2],this.matrix[3],this.matrix[4],this.matrix[5])},i);function i(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:null;babelHelpers.classCallCheck(this,i),this.matrix=e||o.a.create()}},function(e,t,n){"use strict";n.d(t,"b",function(){return r}),n.d(t,"a",function(){return i}),n.d(t,"c",function(){return o}),n.d(t,"d",function(){return a});var r="@reader3/paywall/PAYWALL_PUBLICATION_LOADING",i="@reader3/paywall/PAYWALL_PUBLICATION_LOADED",o="@reader3/paywall/PAYWALL_PUBLICATION_LOADING_ERROR",a={NOTLOADED:"NOTLOADED",LOADING:"LOADING",LOADED:"LOADED",ERROR:"ERROR"}},function(e,t,n){"use strict";n.d(t,"b",function(){return r}),n.d(t,"a",function(){return i});var r="ENABLE_TRACKING",i="EMBED_PREVIEW"},function(e,t,n){"use strict";function r(e,t){var n=e.x,r=e.x+e.width,i=t.x,o=t.x+t.width,a=e.y,s=e.y+e.height,u=t.y,c=t.y+t.height,l=Math.max(0,Math.min(r,o)-Math.max(n,i))*Math.max(0,Math.min(s,c)-Math.max(a,u));return 0<l?l/(t.width*t.height):0}function i(e,t,n){return e>=n.x&&e<n.x+n.width&&t>=n.y&&t<n.y+n.height}function o(e,t,n,r){return n/e<=r/t?n/e:r/t}n.d(t,"a",function(){return r}),n.d(t,"b",function(){return i}),n.d(t,"c",function(){return o})},,function(e,t,n){"use strict";n.d(t,"d",function(){return i}),n.d(t,"b",function(){return o}),n.d(t,"c",function(){return u}),n.d(t,"a",function(){return c});var r,i="FetchNetworkError",o=(r=Error,babelHelpers.inherits(a,r),a);function a(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:-1;babelHelpers.classCallCheck(this,a);var n=babelHelpers.possibleConstructorReturn(this,r.call(this));return n.stack=(new Error).stack,n.message=e,n.name=i,0<(n.code=t)&&(n.sentry_extra={HTTPStatusCode:t}),0!==t&&403!==t||(n.message+=" (--client-only--)"),n}var s,u="BackendModelError",c=(s=Error,babelHelpers.inherits(l,s),l);function l(e,t){babelHelpers.classCallCheck(this,l);var n=babelHelpers.possibleConstructorReturn(this,s.call(this));return n.stack=(new Error).stack,n.name=u,n.code=t,n.message=-1===t?e:e+" (documentStatus: "+t+") (--client-only--)",n}},function(e,t,n){"use strict";n.d(t,"a",function(){return r}),n.d(t,"f",function(){return i}),n.d(t,"e",function(){return u}),n.d(t,"d",function(){return c}),n.d(t,"g",function(){return l}),n.d(t,"b",function(){return d}),n.d(t,"c",function(){return p});var o={request:["requestFullscreen","webkitRequestFullscreen","webkitRequestFullScreen","mozRequestFullScreen","msRequestFullscreen"],exit:["exitFullscreen","webkitCancelFullScreen","webkitExitFullscreen","mozCancelFullScreen","msExitFullscreen"],enabled:["fullscreenEnabled","webkitFullscreenEnabled","mozFullScreenEnabled","msFullscreenEnabled"],element:["fullscreenElement","webkitFullscreenElement","webkitCurrentFullScreenElement","mozFullScreenElement","msFullscreenElement"],change:["fullscreenchange","webkitfullscreenchange","mozfullscreenchange","msfullscreenchange"],error:["fullscreenerror","webkitfullscreenerror","mozfullscreenerror","msfullscreenerror"]};function a(e,t){"onmsfullscreenchange"in document||"msfullscreenerror"in document?document["on"+e]=t:document.addEventListener(e,t)}function s(e,t){"onmsfullscreenchange"in document||"msfullscreenerror"in document?document["on"+e]=null:document.removeEventListener(e,t)}function r(e){var t=o.change.filter(function(e){return"on"+e in document})[0];document.addEventListener(t,e)}function i(e){var t=o.change.filter(function(e){return"on"+e in document})[0];document.removeEventListener(t,e)}function u(){if(function(){var e=navigator.userAgent,t=new RegExp("^Mozilla/5\\.0.*Android.*AppleWebKit.*Chrome/(\\d+).*$","i").exec(e),n=!1;return t&&0<t.length&&(n=parseInt(t[1],10)<=33),n}())return!1;if(function(e){return new RegExp("^Mozilla/5\\.0.*(iPhone|iPad|iPod).*AppleWebKit.*Safari.*$","i").test(e)}(navigator.userAgent))return!1;var e=o.enabled.find(function(e){return e in document});return!!document[e]}function c(){var e=o.element.find(function(e){return e in document});if(e)return document[e];throw new Error("Fullscreen not supported")}function l(){return new Promise(function(t,n){try{var r=o.change.filter(function(e){return"on"+e in document})[0];if(r){a(r,function e(){c()||(s(r,e),t(!0))})}else n("native fullscreen api not supported")}catch(e){n(e)}})}function d(i){return new Promise(function(t,n){try{var e=o.request.filter(function(e){return e in i})[0],r=o.change.filter(function(e){return"on"+e in document})[0];if(e&&r){a(r,function e(){s(r,e),t(!0)}),i[e]()}else n("native fullscreen api not supported")}catch(e){n(e)}})}function p(){return new Promise(function(t,n){try{var e=o.exit.filter(function(e){return e in document})[0],r=o.change.filter(function(e){return"on"+e in document})[0];if(e)if(c()){a(r,function e(){s(r,e),t(!0)}),document[e]()}else t(!0);else n("native fullscreen api not supported")}catch(e){n(e)}})}},,function(e,t,n){"use strict";n.d(t,"b",function(){return i}),n.d(t,"c",function(){return o}),n.d(t,"e",function(){return y}),n.d(t,"a",function(){return E}),n.d(t,"d",function(){return a});var r=n(53),l=n.n(r),c=n(261),d=n(430),_=n(52),i=0,o=1,y=2,E=3;function b(e,t,n){var r=Math.round(e[0]*n.width),i=Math.round(t[0]*n.width),o=Math.round(e[3]*n.height),a=Math.round(t[3]*n.height);return r-i==0&&o-a==0}var a=(p.prototype._getResource=function(e){return this.resources[e-1]||(this.resources[e-1]={hires:void 0,preview:void 0,videoThumbs:[]}),this.resources[e-1]},p.prototype.generateSurfacesUncached=function(e,t,n,r){var i=this.loadingManager.getPageLayers(r);if(!i)return null;var o=this.loadingManager.getPageModel(r);e[0]*=o.width/i.width,e[3]*=o.height/i.height;var a={generator:this.draw2D.draw(null,i,e,t,n,!0),state2D:null,stateWebGL:null,skipCount:0,matrix:e,width_px:t,height_px:n};return this._traditionalRendering(a,this.loadStatsTracker.uncachedFontRenderingTracker()),a.stateWebGL||a.state2D},p.prototype.generateSurfaces=function(e,t,n,r,i,o,a,s){var u=this.loadingManager.getPageLayers(o);if(!u)return{done:!1,ops:[]};var c=this.loadingManager.getPageModel(o);return e[0]*=c.width/u.width,e[3]*=c.height/u.height,a?this.generateAnimatingSurfaces(e,t,r,i,o,u,s):this.generateStaticSurfaces(e,t,n,r,i,o,u,s)},p.prototype.generateStaticSurfaces=function(e,t,n,r,i,o,a,s){var u=this._getResource(o),c=[],l=u.preview,d=u.hires,p=n.width,h=n.height;if(l||(l=this._generatePreview(r,i,a),u.preview=l),!d||d.width_px!==p||d.height_px!==h||!function(e,t,n){return e[4]===t[4]&&e[5]===t[5]&&b(e,t,n)}(e,d.matrix,a)){d&&this._releaseWebGLTexture(d);var f=d?d.state2D:null;(d={generator:this.draw2D.draw(f,a,e,p,h,!0),state2D:null,stateWebGL:null,skipCount:0,matrix:e,width_px:p,height_px:h}).generator.next(),u.hires=d}this._traditionalRendering(d,this.loadStatsTracker.hiresFontRenderingTracker()),this._incrementalRendering(l,!1,s);var m=this._getSurface(l),g=this._generateHiresSurface(d);if(g)c.push(g);else{var v=this._generatePreviewSurface(l,t.width,t.height);v&&c.push(v)}return{done:!(!g||!m),ops:c}},p.prototype.generateAnimatingSurfaces=function(e,t,n,r,i,o,a){var s=this._getResource(i),u=[],c=[],l=s.preview,d=s.hires,p=t.width,h=t.height;l||(l=this._generatePreview(n,r,o),s.preview=l),this._incrementalRendering(l,!0,a);var f=this._generatePreviewSurface(l,p,h);if(f&&(u.push(f),c.push(l)),d&&b(d.matrix,e,o)){var m=this._generateHiresSurface(d);m&&(u.push(m),c.push(d))}var g=function(e,s){return e.map(function(e,t){var n=s[t],r=!!e.src_px&&(e.src_px.x<0||e.src_px.width<=0||e.src_px.x+e.src_px.width>n.width_px),i=!!e.src_px&&(e.src_px.y<0||e.src_px.height<=0||e.src_px.y+e.src_px.height>n.height_px),o=e.dest_px.width<=0,a=e.dest_px.height<=0;return r||i||o||a}).filter(function(e){return!!e})}(u,c);return g.length&&this.loadStatsTracker.onOpsValidationError(g.length),{done:!!f,ops:u}},p.prototype._reuseData=function(t){this.resources=t.resources,this.drawWebGL||t.resources.forEach(function(e){e&&(e.hires&&t._releaseWebGLTexture(e.hires),e.preview&&t._releaseWebGLTexture(e.preview),e.videoThumbs.forEach(function(e){t._releaseWebGLTexture(e)}))})},p.prototype.isPageReady=function(e){return this.loadingManager.isPageReady(e)},p.prototype.generateVideoThumbSurfaces=function(e,t,h){var f=this,m=this._getResource(e),n=this.loadingManager.getPageModel(e),g=t.width/n.width,v=t.height/n.height,b={ops:[],done:!0};return n.links.forEach(function(t){if(Object(_.b)(t)&&(!f.checkExplicit||!Object(_.a)(t))){var e=t,n=f.loadingManager.getVideoThumb(e);if(!n)return void(b.done=!1);var r=m.videoThumbs.find(function(e){return e.id===t.id});r||(r={width_px:n.width,id:t.id,height_px:n.height,state2D:null,stateWebGL:null},m.videoThumbs.push(r));var i=f._generateVideoThumbSurface(r,n,h);if(!i)return void(b.done=!1);var o=r.width_px/(t.width*g),a=r.height_px/(t.height*v);if("youtube"===e.videoService){var s=Math.min(o,a),u=s*t.width*g,c=s*t.height*v;b.ops.push({surface:i,type:y,src_px:{x:(r.width_px-u)/2,y:(r.height_px-c)/2,width:u,height:c},dest_px:{x:t.x*g,y:t.y*v,width:t.width*g,height:t.height*v}})}else if("vimeo"===e.videoService){var l=Math.max(o,a),d=r.width_px/l,p=r.height_px/l;b.ops.push({type:E,dest_px:{x:t.x*g,y:t.y*v,width:t.width*g,height:t.height*v}},{surface:i,type:y,src_px:{x:0,y:0,width:r.width_px,height:r.height_px},dest_px:{x:t.x*g+(t.width*g-d)/2,y:t.y*v+(t.height*v-p)/2,width:d,height:p}})}}}),b},p.prototype._generateVideoThumbSurface=function(e,t,n){var r=e.width_px,i=e.height_px,o=e.state2D;if(!o){if(n+10-l()()<0)return null;o=this.draw2D.drawImage(null,t,r,i),e.state2D=o}var a=this.draw2D.getSurface(o),s=this.drawWebGL;if(s){var u=e.stateWebGL;return u||(u=s.draw(null,a,r,i),e.stateWebGL=u),s.getSurface(u)}return a},p.prototype._getSurface=function(e){return this.drawWebGL&&e.stateWebGL?this.drawWebGL.getSurface(e.stateWebGL):!this.drawWebGL&&e.state2D?this.draw2D.getSurface(e.state2D):null},p.prototype._traditionalRendering=function(e,t){if(e){if(!e.state2D){t.start();for(var n=e.generator.next(50);!n.done;)n=e.generator.next(50);e.state2D=n.value,t.end()}if(this.drawWebGL&&!e.stateWebGL&&e.state2D){var r=this.drawWebGL,i=this.draw2D.getSurface(e.state2D),o=i.width,a=i.height;e.stateWebGL=r.draw(e.stateWebGL,i,o,a)}}},p.prototype._incrementalRendering=function(e,t,n){if(e){var r=e.skipCount<3,i=n+(t&&r?10:50)-l()();if(i<0&&r)e.skipCount++;else if(e.skipCount=0,e.state2D){if(this.drawWebGL&&!e.stateWebGL){var o=this.drawWebGL,a=this.draw2D.getSurface(e.state2D),s=a.width,u=a.height;e.stateWebGL=o.draw(e.stateWebGL,a,s,u)}}else{var c=e.generator.next(i);c.done&&(e.state2D=c.value)}}},p.prototype._generateHiresSurface=function(e){if(!e)return null;var t=e.width_px,n=e.height_px,r=this._getSurface(e);return 0<t&&0<n&&r?{surface:r,type:i,src_px:{x:0,y:0,width:t,height:n},dest_px:{x:-e.matrix[4],y:-e.matrix[5],width:t,height:n}}:null},p.prototype._generatePreviewSurface=function(e,t,n){if(!e)return null;var r=this._getSurface(e);return r?{surface:r,type:o,src_px:{x:0,y:0,width:e.width_px,height:e.height_px},dest_px:{x:0,y:0,width:t,height:n}}:null},p.prototype._generatePreview=function(e,t,n){var r=[e/n.width,0,0,t/n.height,0,0],i={generator:this.draw2D.draw(null,n,r,e,t,!1),state2D:null,stateWebGL:null,skipCount:0,matrix:r,width_px:e,height_px:t};return i.generator.next(),i},p.prototype.setActivePages=function(e,t){var n=this,r=this.loadingManager.setActivePages(e,t);this.resources.forEach(function(e,t){e&&!r.includes(t+1)&&n._releaseResource(e)})},p.prototype._releaseWebGLTexture=function(e){this.drawWebGL&&e.stateWebGL&&(this.drawWebGL.release(e.stateWebGL),e.stateWebGL=null)},p.prototype._releaseResource=function(e){var t=this,n=e.hires,r=e.preview;n&&(n.state2D&&this.draw2D.release(n.state2D),this._releaseWebGLTexture(n)),r&&(r.state2D&&this.draw2D.release(r.state2D),this._releaseWebGLTexture(r)),e.hires=void 0,e.preview=void 0,e.videoThumbs.forEach(function(e){e.state2D&&t.draw2D.release(e.state2D),t._releaseWebGLTexture(e)}),e.videoThumbs.length=0},p.prototype.release=function(){var t=this;this.resources.forEach(function(e){e&&t._releaseResource(e)}),this.resources=[]},p);function p(e){var t=e.useWebGL,n=e.ctx,r=e.hintMaxWidth,i=e.hintMaxHeight,o=e.pageModels,a=e.loadStatsTracker,s=e.renderManager,u=e.checkExplicit;babelHelpers.classCallCheck(this,p),this.checkExplicit=!0,t&&n&&(this.drawWebGL=new c.b(n)),this.draw2D=new c.a(r,i),this.loadStatsTracker=a,this.checkExplicit=u,s?(this.loadingManager=s.loadingManager,this.loadingManager.pageModels=o,this._reuseData(s)):(this.loadingManager=new d.a(o,a),this.resources=new Array(o.length))}},function(e,t,n){"use strict";n.d(t,"a",function(){return r});var _=void 0;function y(e,t,n){var r=e.createShader(n);if(e.shaderSource(r,t),e.compileShader(r),e.getShaderParameter(r,e.COMPILE_STATUS)||e.isContextLost())return r;var i=n===e.FRAGMENT_SHADER?"fragment":"vertex",o=e.getShaderInfoLog(r)||"",a=(e.getSupportedExtensions()||[]).join(",");throw new Error("Cannot compile "+i+" shader: "+o+"\n["+a+"]")}function E(e,t){for(var n=new Set,r=0;r<e;r++){var i=t(r);i&&n.add(i.name)}return n}function r(o,e,t){var n=y(o,e,o.VERTEX_SHADER),r=y(o,t,o.FRAGMENT_SHADER),i=o.createProgram();o.attachShader(i,n),o.attachShader(i,r),function(e,t){if(e.linkProgram(t),!e.getProgramParameter(t,e.LINK_STATUS)&&!e.isContextLost()){var n=e.getProgramInfoLog(t)||"",r=(e.getSupportedExtensions()||[]).join(",");throw new Error("Cannot link shaderprogram: "+n+"\n["+r+"]")}}(o,i);var a=E(o.getProgramParameter(i,o.ACTIVE_UNIFORMS),function(e){return o.getActiveUniform(i,e)}),s=E(o.getProgramParameter(i,o.ACTIVE_ATTRIBUTES),function(e){return o.getActiveAttrib(i,e)}),u={id:i,bind:function(){if(_!==u){_&&_.unbind(),_=u,o.useProgram(u.id);var e=s,t=Array.isArray(e),n=0;for(e=t?e:e[Symbol.iterator]();;){var r;if(t){if(n>=e.length)break;r=e[n++]}else{if((n=e.next()).done)break;r=n.value}var i=r;o.enableVertexAttribArray(u[i])}}},unbind:function(){var e=s,t=Array.isArray(e),n=0;for(e=t?e:e[Symbol.iterator]();;){var r;if(t){if(n>=e.length)break;r=e[n++]}else{if((n=e.next()).done)break;r=n.value}var i=r;o.disableVertexAttribArray(u[i])}},destroy:function(){_&&_===u&&(_.unbind(),_=null),o.detachShader(i,n),o.deleteShader(n),o.detachShader(i,r),o.deleteShader(r),o.deleteProgram(i)}},c=s,l=Array.isArray(c),d=0;for(c=l?c:c[Symbol.iterator]();;){var p;if(l){if(d>=c.length)break;p=c[d++]}else{if((d=c.next()).done)break;p=d.value}var h=p;u[h]=o.getAttribLocation(i,h)}var f=a,m=Array.isArray(f),g=0;for(f=m?f:f[Symbol.iterator]();;){var v;if(m){if(g>=f.length)break;v=f[g++]}else{if((g=f.next()).done)break;v=g.value}var b=v;u[b]=o.getUniformLocation(i,b)}return u}},function(e,t,n){"use strict";var r=n(342);n.d(t,"f",function(){return r.a});var i=n(343);n.d(t,"e",function(){return i.a});var o=n(55);n.d(t,"c",function(){return o.c}),n.d(t,"b",function(){return o.b}),n.d(t,"d",function(){return o.d}),n.d(t,"a",function(){return o.a});var a=n(192);n.d(t,"g",function(){return a.b})},function(e,t,n){"use strict";n.d(t,"a",function(){return o}),n.d(t,"b",function(){return r}),n.d(t,"d",function(){return i}),n.d(t,"c",function(){return a});var o=0,r=1;function i(e,t,n){var r=Math.max(e.x,0),i=Math.min(e.x+e.width,t),o=Math.max(e.y,0),a=Math.min(e.y+e.height,n);return{x:Math.min(r,t),y:Math.min(o,n),width:Math.max(0,i-r),height:Math.max(0,a-o)}}function a(e,t){var n=Math.floor(e.width),r=t===o?Math.floor(e.x+e.width+.001)-n:Math.floor(e.x),i=Math.floor(e.height);return{x:r,y:Math.floor(e.y),width:n,height:i}}},,,,,,function(e,t,n){"use strict";function i(e){return Math.max(Math.min(e,1),0)}function r(e,t,n){return(t-e)*i(n)+e}function o(e,t,n){var r=i(n);return(t-e)*(1-Math.pow(2,-10*r))+e}function a(e,t,n){var r=i(n);return(t-e)*Math.pow(2,10*(r-1))+e}function s(e,t,n){var r=i(n);return(t-e)*r*r+e}function u(e,t,n){var r=i(n);return(t-e)*r*(2-r)+e}n.d(t,"e",function(){return r}),n.d(t,"c",function(){return o}),n.d(t,"a",function(){return a}),n.d(t,"b",function(){return s}),n.d(t,"d",function(){return u})},,,,,function(e,t,n){"use strict";n.d(t,"a",function(){return r});var i=n(394),o=n(397),a=n(398),s=n(399),u=n(400),c="BROWSER",l="READER",d="NONE",r=(p.prototype.destroy=function(){this._handlers.forEach(function(e){e.destroy()})},p.prototype.reset=function(){this._interceptedBy=d,this._handlers.forEach(function(e){e.reset()}),this.options.activeHandler=null},p.prototype.requestToIntercept=function(){this._interceptedBy===d&&(this._interceptedBy=l)},p.prototype.enableBrowserHandlingOfVerticalPanningGestures=function(){this.targetElement.style.touchAction="pan-y"},p.prototype.disableBrowserHandlingOfAllPanningGestures=function(){this.targetElement.style.touchAction="none"},p);function p(e,t){var n=this;babelHelpers.classCallCheck(this,p),this._interceptedBy=d,this._lastPointerEventTimeStamp=0,this._lastTouchEventTimeStamp=0,this.targetElement=e;var r=!!Object.keys(t).find(function(e){return/gesture|tap/i.test(e)});this.options={shouldInvokeSetPointerCapture:function(){return r},shouldInvokePreventDefault:function(){return n._interceptedBy===l},hasBrowserIntercepted:function(){return n._interceptedBy===c},updateInterceptionWithTouchEvent:function(e){e.cancelable||(n._interceptedBy=c)},resetInterception:function(){n._interceptedBy=d,n.options.activeHandler=null},updateLastPointerEventTimeStamp:function(e){n._lastPointerEventTimeStamp=e.timeStamp},updateLastTouchEventTimeStamp:function(e){n._lastTouchEventTimeStamp=e.timeStamp},isSimulatedMouseEvents:function(e){return n._lastPointerEventTimeStamp>=e.timeStamp||n._lastTouchEventTimeStamp>=e.timeStamp},activeHandler:null},this._handlers=[new o.a(e,t,this.options),new a.a(e,t,this.options),new s.a(e,t,this.options),new i.a(e,t,this.options),new u.a(e,t,this.options)],this.enableBrowserHandlingOfVerticalPanningGestures()}},function(e,t,n){"use strict";n.d(t,"a",function(){return u}),n.d(t,"e",function(){return o}),n.d(t,"b",function(){return c}),n.d(t,"c",function(){return l}),n.d(t,"d",function(){return h});var r="show_video_overlay",i="hide_video_overlay",a="video_info_load_success",s="video_info_load_error",u={EXPLICIT:"explicit",SAFE:"safe",UNKNOWN:"unknown",ERROR:"error"};function o(e,t,n){return{type:r,service:e,videoId:t,videoUrl:n}}function c(){return{type:i}}function l(r,i,o){return function(n,e){var t=e().config.origins.api;fetch(t+"/call/reader/api/video-link/"+r+"/"+i).then(function(e){return e.json()}).then(function(e){var t=e.explicit?u.EXPLICIT:u.SAFE;n(function(e,t,n){return{type:a,service:e,videoId:t,videoInfo:n}}(r,i,t)),o.monitor("reader3-"+r+"-api-success")}).catch(function(e){n(function(e,t){return{type:s,service:e,videoId:t,videoInfo:u.ERROR}}(r,i)),o.monitor("reader3-"+r+"-api-failed")})}}function d(e,t){return e.service===t.service&&e.videoId===t.videoId}var p={showOverlay:!1,service:null,videoId:null,videoUrl:null,videoInfo:u.UNKNOWN};function h(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:p,t=arguments[1];switch(t.type){case r:return babelHelpers.extends({},e,{showOverlay:!0,service:t.service,videoId:t.videoId,videoUrl:t.videoUrl,videoInfo:d(e,t)?e.videoInfo:u.UNKNOWN});case i:return babelHelpers.extends({},e,{showOverlay:!1});case a:case s:return d(e,t)?babelHelpers.extends({},e,{videoInfo:t.videoInfo}):e;default:return e}}},function(e,t,n){"use strict";n.d(t,"d",function(){return c}),n.d(t,"c",function(){return l}),n.d(t,"b",function(){return d}),n.d(t,"g",function(){return p}),n.d(t,"f",function(){return h}),n.d(t,"a",function(){return f}),n.d(t,"e",function(){return m});var r=n(6),i="WEBGL_ERROR",o="ENABLE_WEBGL",a="DISABLE_WEBGL",s="SET_MAX_DRAWING_BUFFER_WIDTH",u="SET_MAX_DRAWING_BUFFER_HEIGHT";function c(){return{type:i}}function l(){return{type:o}}function d(){return{type:a}}function p(e){return{type:s,width:e}}function h(e){return{type:u,height:e}}function f(e){var n={supportsWebGL:e,maxDrawingBufferWidth:6e3,maxDrawingBufferHeight:6e3,forceTo2D:!0};return function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:n,t=arguments[1];switch(t.type){case i:return babelHelpers.extends({},e,{supportsWebGL:!1});case o:return babelHelpers.extends({},e,{forceTo2D:!1});case a:return babelHelpers.extends({},e,{forceTo2D:!0});case s:return babelHelpers.extends({},e,{maxDrawingBufferWidth:t.width});case u:return babelHelpers.extends({},e,{maxDrawingBufferHeight:t.height});default:return e}}}var m=Object(r.a)(function(e){return e.canvasContext},function(e){return e.size},function(e,t){return!(!e.supportsWebGL||e.forceTo2D)&&(e.maxDrawingBufferWidth>=t.width&&e.maxDrawingBufferHeight>=t.height)})},function(e,t,n){"use strict";function r(e){return!!(window.WebGLRenderingContext&&e instanceof window.WebGLRenderingContext)||!(!e||!e.hasOwnProperty("drawingBufferWidth"))}function i(e){var t={failIfMajorPerformanceCaveat:!0,stencil:!0};try{var n=e.getContext("webgl",t);if(n)return n}catch(e){}try{var r=e.getContext("experimental-webgl",t);if(r)return r}catch(e){}return null}n.d(t,"b",function(){return r}),n.d(t,"a",function(){return i})},function(e,t,n){"use strict";n.d(t,"d",function(){return r}),n.d(t,"f",function(){return i}),n.d(t,"e",function(){return o}),n.d(t,"h",function(){return a}),n.d(t,"b",function(){return s}),n.d(t,"a",function(){return u}),n.d(t,"g",function(){return c}),n.d(t,"c",function(){return l});var r="fullscreen",i="normal",o="mobile",a="tablet",s="desktop",u=[{page:1,type:"IN_STREAM",displayStates:[],deviceTypes:[a,s],experiments:{pearl:{displayStates:[i]},truth:{displayStates:[r,i]}}},{page:function(e){return e<=196&&(e-4)%16==0},type:"AD_OVERLAY",displayStates:[r],deviceTypes:[o,a,s],experiments:{jaguar:{displayStates:[r,i]},pearl:{displayStates:[]},truth:{displayStates:[]}}}],c=3e3,l=!1},,,,,,,function(e,t,n){"use strict";n.d(t,"a",function(){return r});var a=n(1),s=n(61),u=4;function r(r){var e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},t=e.withCredentials,i=void 0!==t&&t,o=e.timeout;e.readerSessionHeader;return new Promise(function(e,t){var n=new XMLHttpRequest;n.open("GET",r,!0),n.withCredentials=i,o&&(n.timeout=o),n.onreadystatechange=function(){if(n.readyState===u)if(200===n.status)try{e(JSON.parse(n.responseText))}catch(e){t(new s.b("Could not deserialize loaded JSON: "+e))}else t(new s.b(a.f,n.status))},n.send()})}},,,,,function(e,t,n){"use strict";n.d(t,"b",function(){return h}),n.d(t,"d",function(){return f}),n.d(t,"c",function(){return m}),n.d(t,"a",function(){return g});var r=n(6),i=n(9),o=n(5),c=n(25),l=n(49),a=n(150),s=n(96),d=Object(s.d)(),u=function(){try{var e=/.*adRefreshTimeout=(\d*)/.exec(window.parent.location.search);if(e&&e[1])return parseInt(e[1],10)}catch(e){}return-1}(),p=Object(r.a)(o.h,i.d,function(e){return e.reader.isReady},a.a,function(e,t,n,r){return n&&!!e&&t&&r}),h=function(){return u<0?45:u},f=Object(r.a)(function(e){return e.size.width},function(){return window.innerWidth<380}),m=Object(r.a)(p,o.B,function(e){return e.pages.pages},function(e){return e.size.width},function(e){return e.size.height},function(e,t,n,r,i){if(!e)return[0,0];var o=window.innerWidth,a=window.innerHeight,s=l.a.isMobile();if(!s&&n.length){var u=n[0].width/n[0].height;if(t===c.DOUBLE_PAGE_SPREAD&&(u*=2),!(0<(u*a-o)/o)&&1200<o&&620<a&&!d)return[160,600];if(!s&&600<a&&780<o)return[728,90]}return 250<a&&320<o?[320,50]:[0,0]});function g(e){return 0===e[0]&&0===e[1]}},function(e,t,n){"use strict";n.d(t,"a",function(){return i}),n.d(t,"d",function(){return a}),n.d(t,"c",function(){return s}),n.d(t,"b",function(){return u});var r="@Reader3/size/INIT_SIZE",i="RESIZE",o={width:0,height:0};function a(e,t){return{type:i,width:e,height:t}}function s(e,t){return{type:r,width:e,height:t}}function u(){return function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:o,t=arguments[1];switch(t.type){case r:case i:return babelHelpers.extends({},e,{width:t.width,height:t.height});default:return e}}}},function(e,t,n){"use strict";var r=n(338);n.d(t,"b",function(){return r.a});var i=n(339);n.d(t,"c",function(){return i.a});var o=n(251);n.d(t,"a",function(){return o.a}),n.d(t,"d",function(){return o.b})},function(e,t,n){"use strict";n.d(t,"a",function(){return s}),n.d(t,"b",function(){return u});var r=n(37),i="loading-status@LOADING",o="loading-status@FAILED",a="loading-status@SUCCESS",s={INITIALIZED:"loading-status@INITIALIZED",LOADING:i,FAILED:o,SUCCESS:a};function u(){var e={status:s.INITIALIZED};return function(){return function(e,t){switch(t.type){case r.a:return{status:i,loadStartTime:t.timeStamp};case r.d:if(e.status!==i)throw new Error("Can not return SUCCESS without LOADING ("+e.status+")");return{status:a,loadStartTime:e.loadStartTime,loadSuccessTime:t.timeStamp};case r.c:if(e.status!==i)throw new Error("Can not return FAILED without LOADING ("+e.status+")");return{status:o,loadStartTime:e.loadStartTime,loadFailureTime:t.timeStamp,error:t.error};default:return e}}(0<arguments.length&&void 0!==arguments[0]?arguments[0]:e,arguments[1])}}},,,,,,function(e,t,n){"use strict";n.d(t,"a",function(){return s}),n.d(t,"b",function(){return u}),n.d(t,"d",function(){return c}),n.d(t,"c",function(){return l});var r=n(6),i="@reader3/adsense/ADSENSE_ACCOUNT_LOADED",o="@reader3/adsense/ADSENSE_ACCOUNT_NOT_FOUND",a={account:null};function s(e){return{type:i,data:e}}function u(){return{type:o}}var c=Object(r.a)(function(e){return e.adsense},function(e){return e.account&&e.account.externalAccountId||null});function l(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:a,t=arguments[1];switch(t.type){case i:return{account:t.data};case o:return{account:null};default:return e}}},function(e,t,n){"use strict";n.d(t,"a",function(){return r});var r='\n    <svg width="60%" height="60%" viewBox="0 0 36 36">\n        <g stroke="none" stroke-width="1" fill="none" fill-rule="evenodd">\n            <g fill="#FFFFFF">\n                <path d="M16.4456672,18.0003762 L10.3219784,24.1243529 C9.89267388,24.5536776 9.89267388,25.249654 10.3219784,25.6787588 C10.5365207,25.8933112 10.8178877,26.0008073 11.0990349,26.0008073 C11.3804019,26.0008073 11.6617688,25.8933112 11.8763112,25.6787588 L18,19.5547821 L24.1236888,25.6787588 C24.3382312,25.8933112 24.6195981,26.0008073 24.9009651,26.0008073 C25.1821123,26.0008073 25.4634793,25.8933112 25.6780216,25.6787588 C26.1073261,25.249654 26.1073261,24.5536776 25.6780216,24.1243529 L19.5543328,18.0003762 L25.6780216,11.8763994 C26.1073261,11.4472946 26.1073261,10.7510983 25.6780216,10.3219935 C25.2487172,9.89266883 24.5529933,9.89266883 24.1236888,10.3219935 L18,16.4459703 L11.8763112,10.3219935 C11.4470067,9.89266883 10.7512828,9.89266883 10.3219784,10.3219935 C9.89267388,10.7510983 9.89267388,11.4472946 10.3219784,11.8763994 L16.4456672,18.0003762 Z"></path>\n            </g>\n        </g>\n    </svg>\n'},function(e,t,n){"use strict";n.d(t,"a",function(){return p}),n.d(t,"b",function(){return h});var r,i=n(0),o=n.n(i),a=n(11),s=n.n(a),u=n(104),c=n(388),l=n(389),d=n(54),p={ERROR:"error",WARNING:"warning",INFO:"info"},h=(r=i.Component,babelHelpers.inherits(f,r),f.prototype._getIcon=function(){switch(this.props.boxType){case p.ERROR:return o.a.createElement(c.a,{className:"msgbox-Icon msgbox-error-icon"});case p.WARNING:return o.a.createElement(l.a,{className:"msgbox-Icon msgbox-warning-icon"});case p.INFO:return o.a.createElement("span",{className:"msgbox-Icon msgbox-info-icon"},"i");default:throw new Error("Wrong Message Box type!")}},f.prototype.render=function(){var e=s()("msgbox-Root",{"msgbox-Root-error":this.props.boxType===p.ERROR,"msgbox-Root-warning":this.props.boxType===p.WARNING,"msgbox-Root-info":this.props.boxType===p.INFO,"msgbox-Root__noheader":!this.props.header,"msgbox-Root__noclosebutton":!this.props.onClose},this.props.className);return o.a.createElement("div",{className:e},this._getIcon(),this.props.header&&o.a.createElement("p",{className:"msgbox-Header"},this.props.header),o.a.createElement("p",{className:"msgbox-Text"},this.props.text),o.a.createElement("div",{className:"msgbox-Actions"},this.props.linkText&&o.a.createElement("a",{className:"msgbox-Link",href:this.props.linkUrl,target:"_blank"},this.props.linkText),o.a.createElement("button",{className:"msgbox-Button",onClick:this.props.onSubmit},this.props.buttonText)),this.props.onClose&&o.a.createElement(d.a,{className:"svg-btn msgbox-close-button",content:u.a,onClick:this.props.onClose}))},f);function f(){return babelHelpers.classCallCheck(this,f),babelHelpers.possibleConstructorReturn(this,r.apply(this,arguments))}},function(e,t,n){"use strict";n.d(t,"b",function(){return c}),n.d(t,"a",function(){return l}),n.d(t,"c",function(){return d}),n.d(t,"d",function(){return p});var r=n(6),i=n(5),o=n(9),a=n(16),s=n(107),u=n(23),c=Object(r.a)(function(e){return e.readMorePlugin},function(e){return e.readmore.loaded},i.C,function(e,t,n){return!(!e||!t||n===s.c)}),l=function(e){var t=e.readMorePlugin;return t&&t.getButtonUnreadCount()||0},d=Object(r.a)(c,function(e){return e.readMorePlugin},i.F,o.d,a.q,a.o,function(e,t,n,r,i,o){return!(!e||n||!t)&&t.shouldRenderButton(i,o,r)}),p=(Object(r.a)(c,function(e){return e.readMorePlugin},a.q,a.o,function(e,t,n,r){return e&&t&&t.shouldRenderExitFullscreenOverlay(n,r)}),Object(r.a)(c,function(e){return e.readMorePlugin},function(e){return e.readmore.forceOverlay},function(e){return e.size.width},function(e){return e.size.height},function(e,t,n,r,i){if(e&&t){var o=r<i,a=!o,s=Object(u.a)();return n||t.shouldAlwaysBeOverlay()||o&&r<=414*s||a&&r<=736*s}return!1}))},function(e,t,n){"use strict";n.d(t,"c",function(){return r}),n.d(t,"b",function(){return i}),n.d(t,"a",function(){return o});var r="reader-sizes@TINY",i="reader-sizes@SMALL",o="reader-sizes@NORMAL"},,,,,function(e,t,n){"use strict";var r=n(246);n.d(t,"c",function(){return r.a}),n.d(t,"d",function(){return r.b});var i=n(321);n.d(t,"b",function(){return i.a});var o=n(324);n.d(t,"a",function(){return o.a})},function(e,t,n){"use strict";n.d(t,"a",function(){return c});var r,i=n(0),o=n.n(i),a=n(42),s=n.n(a),u=n(194),c=(r=i.Component,babelHelpers.inherits(l,r),l.prototype.shouldComponentUpdate=function(e){return!s()(this.props,e)},l.prototype.render=function(){var e=this.props.size*this.props.zoomLevel,t={width:e,height:e},n=["spinner"];return this.props.type===l.SPINNER_TYPE_ALTERNATE&&n.push("spinner--alternate"),o.a.createElement("div",{className:n.join(" "),style:t,dangerouslySetInnerHTML:{__html:u.a}})},l);function l(){return babelHelpers.classCallCheck(this,l),babelHelpers.possibleConstructorReturn(this,r.apply(this,arguments))}c.displayName="Spinner",c.SPINNER_SIZE_DEFAULT=24,c.SPINNER_SIZE_TINY=14,c.SPINNER_SIZE_SMALL=19,c.SPINNER_TYPE_DEFAULT="SPINNER_TYPE_DEFAULT",c.SPINNER_TYPE_ALTERNATE="SPINNER_TYPE_ALTERNATE",c.defaultProps={type:c.SPINNER_TYPE_DEFAULT,size:c.SPINNER_SIZE_DEFAULT,zoomLevel:1}},function(e,t,n){"use strict";var r=n(340);n.d(t,"a",function(){return r.a});var i=n(252);n.d(t,"c",function(){return i.b}),n.d(t,"b",function(){return i.a})},,function(e,t,n){"use strict";n.d(t,"a",function(){return r}),n.d(t,"b",function(){return i});var r="FULLSCREEN@FULLSCREEN_API",i="FULLSCREEN@TAB"},function(e,t,n){"use strict";n.d(t,"c",function(){return r}),n.d(t,"b",function(){return i}),n.d(t,"a",function(){return o});var r="HIDDEN",i="ENGAGED",o="DISENGAGED"},function(e,t,n){"use strict";var r=n(346);n.d(t,"a",function(){return r.a});var i=n(347);n.d(t,"b",function(){return i.a});var o=n(189);n.d(t,"c",function(){return o.a}),n.d(t,"d",function(){return o.b}),n.d(t,"e",function(){return o.c})},function(e,t,n){"use strict";n.d(t,"b",function(){return r}),n.d(t,"a",function(){return i}),n.d(t,"c",function(){return o}),n.d(t,"d",function(){return a});var r="youtube_api_ready",i="set_active_video_link";function o(){return{type:r}}function a(e){return{type:i,videoLink:e}}},,,,,,,,,,,,,,,function(e,t,n){"use strict";n.d(t,"a",function(){return l}),n.d(t,"d",function(){return d}),n.d(t,"b",function(){return p}),n.d(t,"c",function(){return h});var r=n(6),a=n(49),i=n(150),o=n(9),s="SUMMARY_CLOSE",u="SET_FOLLOWING",c={isVisible:!0,isFollowDisabled:!0,isFollowing:!1,followersCount:0},l=function(){return{type:s}},d=function(e){return{type:u,following:e}},p=function(){return function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:c,t=arguments[1];switch(t.type){case u:return babelHelpers.extends({},e,{isFollowDisabled:t.following.isFollowDisabled,isFollowing:t.following.isFollowing,followersCount:t.following.followersCount});case s:return babelHelpers.extends({},e,{isVisible:!1});default:return e}}},h=Object(r.a)(function(e){return e.reader.isReady},function(e){return e.features.canLoadSummary},function(e){return e.summary.isVisible},function(e){return"pearl"===e.experiment.identifier},i.a,o.d,function(e,t,n,r,i,o){return!a.a.isMobile()&&e&&!!t&&n&&r&&i&&!o})},,function(e,t,n){"use strict";n.d(t,"c",function(){return s}),n.d(t,"a",function(){return u});var r=n(22),i=n(387),o=n(5),a=n(79);n.d(t,"d",function(){return a.e}),n.d(t,"b",function(){return a.d});var s=function(e){return e.videoOverlay.showOverlay},u=Object(r.b)(function(e){return{service:e.videoOverlay.service||"",videoId:e.videoOverlay.videoId||"",videoInfo:e.videoOverlay.videoInfo,videoUrl:e.videoOverlay.videoUrl||"",checkIfVideoExplicit:Object(o.j)(e)}},void 0,void 0,{pure:!0})(i.a)},function(e,t,n){"use strict";n.d(t,"b",function(){return i}),n.d(t,"c",function(){return o}),n.d(t,"a",function(){return a});var r="SET_CANVAS_API";function i(e){return{type:r,api:e}}function o(){return i({getVisibleComponents:function(){return[]},getRenderedViews:function(e){return[]},getReadMode:function(){},getPageComponent:function(e){},goToPage:function(e){},goToSpread:function(e){},jumpToPage:function(e){},jumpToSpread:function(e){},setSnapping:function(e){},jumpToPositionByPercent:function(e){},zoomCurrentView:function(e){},getPosition:function(){},setPosition:function(e){}})}function a(){return function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:null,t=arguments[1];switch(t.type){case r:return Object.assign({},e,t.api);default:return e}}}},function(e,t,n){"use strict";n.d(t,"a",function(){return c}),n.d(t,"d",function(){return d}),n.d(t,"c",function(){return p}),n.d(t,"b",function(){return h});var r=n(6),o=n(52),i=n(36),a=n(33),s=n(5),u=n(32),c=Object(r.a)(s.u,s.q,a.d.isVisible,i.i,function(e,t,n,r){return!!e&&(e.allowOnSmallReaders||!t)&&!n&&!r});function l(e,r){var i=[];return e.forEach(function(n){n.links.forEach(function(e){if(Object(o.b)(e)){var t=e;t.videoService===r&&i.push({link:t,pageWidth:n.width,pageHeight:n.height})}})}),i}var d=function(e){return e.links.loaded},p=Object(r.a)(u.b,function(e){return l(e,"youtube")}),h=Object(r.a)(u.b,function(e){return l(e,"vimeo")})},,,function(e,t,n){"use strict";function r(){var e=["webkit","moz","ms","o"];if("hidden"in document)return"hidden";for(var t=0;t<e.length;t++)if(e[t]+"Hidden"in document)return e[t]+"Hidden";return null}function i(){var e=r();return!!e&&!!document[e]}function o(){return!!r()}function a(e){var t=r();if(t){var n=t.replace(/[H|h]idden/,"")+"visibilitychange";document.addEventListener(n,e)}}n.d(t,"b",function(){return o}),n.d(t,"a",function(){return i}),n.d(t,"c",function(){return a})},,,,,,,,function(e,t,n){"use strict";n.d(t,"b",function(){return r}),n.d(t,"a",function(){return i});var r=function(e){return e.config.origins};function i(e,t,n,r){var i=Object.assign({},e,{sessionId:t,embedTrackingQuery:n,embedId:r});return function(){return 0<arguments.length&&void 0!==arguments[0]?arguments[0]:i}}},function(e,t,n){"use strict";n.d(t,"a",function(){return a});var r=n(6),i=n(16),o=n(103),a=Object(r.a)(function(e){return e.metadata.isAdsafe},i.n,o.d,function(e,t,n){return e&&(!t||!!n)})},function(e,t,n){"use strict";n.d(t,"a",function(){return o});var i,r=n(152),o=(i=r.a,babelHelpers.inherits(a,i),a.prototype.destroy=function(){this.unregisterTapHandlers()},a.prototype.reset=function(){i.prototype.reset.call(this),this.unregisterTapHandlers()},a.prototype.registerTapHandlers=function(){var e=this,t=this._getFirstPointerId(),n=this.pointers[t].last.position;null!==this._doubleTapConfirmedTimeoutId&&(window.clearTimeout(this._doubleTapConfirmedTimeoutId),this._doubleTapConfirmedTimeoutId=null),null!==this._singleTapConfirmedTimeoutId&&window.clearTimeout(this._singleTapConfirmedTimeoutId),null!==this._singleTapConfirmedTimeoutId&&1===this.getPointerCount()&&(this._doubleTapConfirmedTimeoutId=window.setTimeout(function(){e._doubleTapConfirmedTimeoutId=null,0===e.getPointerCount()&&e._fireDoubleTapConfirmed(n.x,n.y)},200)),(this._singleTapConfirmedTimeoutId=null)===this._doubleTapConfirmedTimeoutId&&1===this.getPointerCount()&&(this._singleTapConfirmedTimeoutId=window.setTimeout(function(){e._singleTapConfirmedTimeoutId=null,0===e.getPointerCount()&&e._fireSingleTapConfirmed(n.x,n.y)},200))},a.prototype.unregisterTapHandlers=function(){null!==this._singleTapConfirmedTimeoutId&&(window.clearTimeout(this._singleTapConfirmedTimeoutId),this._singleTapConfirmedTimeoutId=null),null!==this._doubleTapConfirmedTimeoutId&&(window.clearTimeout(this._doubleTapConfirmedTimeoutId),this._doubleTapConfirmedTimeoutId=null)},a.prototype.validateTapHandlers=function(){var e=this._getFirstPointerId(),t=this.pointers[e].last.position;this._isPointerCloseToInitialPosition(e,t.x,t.y)||this.unregisterTapHandlers()},a.prototype.executeTapHandlers=function(){var e=this._getFirstPointerId(),t=this.pointers[e].last.position;null!==this._singleTapConfirmedTimeoutId&&this._fireSingleTap(t.x,t.y),null!==this._doubleTapConfirmedTimeoutId&&(this._fireSingleTap(t.x,t.y),this._fireDoubleTap(t.x,t.y))},a.prototype._fireSingleTap=function(e,t){var n=this.getScalingFactor(),r=this.callbacks.onSingleTap;r&&r(e*n,t*n)},a.prototype._fireSingleTapConfirmed=function(e,t){var n=this.getScalingFactor(),r=this.callbacks.onSingleTapConfirmed;r&&r(e*n,t*n)},a.prototype._fireDoubleTap=function(e,t){var n=this.getScalingFactor(),r=this.callbacks.onDoubleTap;r&&r(e*n,t*n)},a.prototype._fireDoubleTapConfirmed=function(e,t){var n=this.getScalingFactor(),r=this.callbacks.onDoubleTapConfirmed;r&&r(e*n,t*n)},a.prototype._getFirstPointerId=function(){for(var e in this.pointers)if(this.pointers.hasOwnProperty(e)&&!isNaN(e))return e;throw new Error("No pointer for tap")},a.prototype._isPointerCloseToInitialPosition=function(e,t,n){var r=this.pointers[e];return Math.abs(r.initial.position.x-t)<5&&Math.abs(r.initial.position.y-n)<5},a);function a(e,t,n){babelHelpers.classCallCheck(this,a);var r=babelHelpers.possibleConstructorReturn(this,i.call(this,e,t,n));return r._singleTapConfirmedTimeoutId=null,r._doubleTapConfirmedTimeoutId=null,r}},function(e,t,n){"use strict";n.d(t,"a",function(){return i});var r=n(395),a=n(396),s=n(26),i=(o.prototype.destroy=function(){},o.prototype.reset=function(){this.pointers={},this._lastGestureMoveTimestamp=0,this._initialPinchDistance=NaN,this.initialGesture=s.f,this._targetElementOffset=null},o.prototype.isDeactivated=function(){return this.options.activeHandler&&this.options.activeHandler!==this},o.prototype._isAnyButtonPressed=function(e){return!(!e.buttons&&!this.getPointerCount())},o.prototype._isGeneratedByMouseDevice=function(e){return!e.pointerType||"mouse"===e.pointerType},o.prototype.getScalingFactor=function(){return this.callbacks.getScalingFactor?this.callbacks.getScalingFactor():1},o.prototype.fireGestureStart=function(){var e=this.callbacks.onGestureStart;e&&e(this._getTouches(),this._getLastEventTimestamp())},o.prototype.fireGestureChange=function(e){var t=0<arguments.length&&void 0!==e?e:NaN,n=this._getLastEventTimestamp();if(10<n-this._lastGestureMoveTimestamp){var r=isNaN(t)?this._getCurrentPinchDistance()/this._initialPinchDistance:t;if(!isNaN(r)){var i=this.callbacks.onGestureChange;i&&i(this._getTouches(),n,r,this.initialGesture),this._lastGestureMoveTimestamp=n}}},o.prototype.fireGestureEnd=function(){var e=this.callbacks.onGestureEnd;e&&e(this._getLastEventTimestamp())},o.prototype.fireMouseMove=function(e){if(this._isGeneratedByMouseDevice(e)&&!this._isAnyButtonPressed(e)){var t=e.pageX,n=e.pageY,r=this._getOffsetPosition(t,n),i=this.getScalingFactor(),o=this.callbacks.onMouseMove;o&&o(r.x*i,r.y*i,e.timeStamp)}},o.prototype.fireMouseEnter=function(e){if(this._isGeneratedByMouseDevice(e)){var t=this.callbacks.onMouseEnter;t&&t(e.timeStamp)}},o.prototype.fireMouseLeave=function(e){if(this._isGeneratedByMouseDevice(e)){var t=this.callbacks.onMouseLeave;t&&t(e.timeStamp)}},o.prototype.saveTargetElementOffset=function(){this._targetElementOffset=Object(r.a)(this.targetElement)},o.prototype.saveInitialPinchDistance=function(){this._initialPinchDistance=this._getCurrentPinchDistance()},o.prototype.saveInitialGestureIfUndefined=function(){if(this.initialGesture===s.f){var e=Object.keys(this.pointers);if(2<=e.length){var t=this._getCurrentPinchDistance();5<t-this._initialPinchDistance?this.initialGesture=s.g:10<this._initialPinchDistance-t&&(this.initialGesture=s.h)}else{var n=this.pointers[e[0]],r=n.last.position.x-n.initial.position.x,i=n.last.position.y-n.initial.position.y,o=n.last.timestamp-n.initial.timestamp;if(Math.max(Math.abs(r),Math.abs(i))<10||o<10)return;var a=Math.atan2(-i,r)*(180/Math.PI);this.initialGesture=-25<=a&&a<=25?s.d:60<=a&&a<=120?s.e:155<=a||a<=-155?s.b:-120<=a&&a<=-60?s.a:s.c}}},o.prototype.isValidPointer=function(e){return!!this.pointers[e]},o.prototype.savePointer=function(e,t,n,r){var i=this._getOffsetPosition(t,n),o=Object(a.a)(r);this.pointers[e]=this.pointers[e]||{initial:{position:i,timestamp:o}},this.pointers[e].last={position:i,timestamp:o}},o.prototype.deletePointer=function(e){delete this.pointers[e],0===this.getPointerCount()&&(this.initialGesture=s.f,this._initialPinchDistance=NaN)},o.prototype.isPointerMoved=function(e,t,n,r){var i=3<arguments.length&&void 0!==r?r:0,o=this._getOffsetPosition(t,n),a=this.pointers[e].last.position;return Math.abs(a.x-o.x)>Math.abs(i)||Math.abs(a.y-o.y)>Math.abs(i)},o.prototype._getOffsetPosition=function(e,t){this._targetElementOffset||this.saveTargetElementOffset();var n=this._targetElementOffset||{},r=n.left,i=void 0===r?0:r,o=n.top,a=void 0===o?0:o;return{x:Math.round(e-i),y:Math.round(t-a)}},o.prototype._getLastEventTimestamp=function(){var e=0;for(var t in this.pointers)this.pointers.hasOwnProperty(t)&&(e=Math.max(e,this.pointers[t].last.timestamp));return e},o.prototype._getCurrentPinchDistance=function(){var e=Object.keys(this.pointers);if(e.length<=1)return 1;var t=this.pointers[e[0]],n=this.pointers[e[1]];return Math.sqrt(Math.pow(t.last.position.x-n.last.position.x,2)+Math.pow(t.last.position.y-n.last.position.y,2))},o.prototype.getPointerCount=function(){var e=0;for(var t in this.pointers)this.pointers.hasOwnProperty(t)&&e++;return e},o.prototype._getTouches=function(){var e=this.getScalingFactor(),t=[];for(var n in this.pointers)this.pointers.hasOwnProperty(n)&&t.push({x:this.pointers[n].last.position.x*e,y:this.pointers[n].last.position.y*e});return t},o);function o(e,t,n){babelHelpers.classCallCheck(this,o),this.initialGesture=s.f,this.pointers={},this._lastGestureMoveTimestamp=0,this._initialPinchDistance=NaN,this._targetElementOffset=null,this.targetElement=e,this.callbacks=t,this.options=n}},function(e,t,n){"use strict";n.d(t,"a",function(){return r});var r="SHARE"},function(e,t,n){"use strict";n.d(t,"a",function(){return c});var o,r=n(204),a=n(26),m=n(56),g=n(4),v=n(259),b=n(67),i=n(8),s=n(13),_=n(59),y=n(25),u=n(7),c=(o=g.b,babelHelpers.inherits(l,o),l.prototype.componentWillUpdate=function(e){(!this.props.isCurrentSpread&&e.isCurrentSpread||this.props.isCurrentSpread&&0===this._arrivedAtTick)&&(this._arrivedAtTick=this.isAllPagesLoaded()&&e.isSnapped?g.b.lastTick:0),e.isCurrentSpread||(this._arrivedAtTick=0)},l.prototype.componentDidMount=function(){this.props.isCurrentSpread&&(l.scroller.resize(l.scroller.top,l.scroller.left,l.scroller.zoom,this.width,this.height,this.width,this.height),l.scroller.setSnap(!0,this.spreadSnapFunction,!1))},l.prototype.componentDidUpdate=function(e){if(this.props.width!==e.width||this.props.height!==e.height){var t=this.getCenter(),n=l.scroller.zoom,r=t.x*this.width,i=t.y*this.height,o=r-this.width/l.scroller.zoom/2,a=i-this.height/l.scroller.zoom/2;l.scroller.resize(a,o,n,this.width,this.height,this.width,this.height)}this.props.isCurrentSpread&&!e.isCurrentSpread&&l.scroller.setSnap(!0,this.spreadSnapFunction,!1)},l.prototype.onGestureStart=function(e,t,n,r){return l.scroller.touchStart(e,t,r),l._zoomBeforeStart=l.scroller.zoom,1<l.scroller.zoom},l.prototype.onGestureChange=function(e,t,n,r,i,o){return(1===l.scroller.zoom&&o===a.g||1<l.scroller.zoom)&&(l.scroller.touchMove(e,t,r,i),this.requestRedraw(),!0)},l.prototype.onGestureEnd=function(e){return l.scroller.touchEnd(e,g.b.lastTick),l.scroller.isMoving&&this.requestRedraw(),l.scroller.zoom!==l._zoomBeforeStart&&this.props.featureTracker.usage(u.a.GESTURE_PINCH_ZOOM),1<l.scroller.zoom},l.prototype.onDoubleTap=function(e,t){var n=this;this.props.dispatch(s.e());var r=g.b.lastTick;if(1<l.scroller.zoom)l.scroller.scrollTo(0,0,1,r).then(function(){n.props.dispatch(s.d())});else{this.props.featureTracker.usage(u.a.DOUBLE_TAP_ZOOM);var i=this.getViewportCTM().inverse().transformPoint(e,t),o=i[1]-l.scroller.height/4,a=i[0]-l.scroller.width/4;l.scroller.scrollTo(o,a,2,r).then(function(){n.props.dispatch(s.d())})}return this.requestRedraw(),!0},l.prototype.setZoom=function(e,t){var n=!(1<arguments.length&&void 0!==t)||t,r=l.scroller.top+l.scroller.height/l.scroller.zoom/2,i=l.scroller.left+l.scroller.width/l.scroller.zoom/2,o=r-l.scroller.height/e/2,a=i-l.scroller.width/e/2;n?l.scroller.scrollTo(o,a,e,g.b.lastTick):l.scroller.jumpTo(o,a,e),this.requestRedraw()},l.prototype.getZoom=function(){return l.scroller.zoom},l.prototype.getCenter=function(){var e=l.scroller.left+l.scroller.width/l.scroller.zoom/2,t=l.scroller.top+l.scroller.height/l.scroller.zoom/2;return{x:e/l.scroller.width,y:t/l.scroller.height}},l.prototype.setCenter=function(e){var t=e.y-this.height/l.scroller.zoom/2,n=e.x-this.width/l.scroller.zoom/2,r=l.scroller.zoom,i=l.scroller.snapFunction(t,n,r);l.scroller.top=i.top,l.scroller.left=i.left},l.prototype.isAllPagesLoaded=function(){var e=this.props.pageModels,t=Array.isArray(e),n=0;for(e=t?e:e[Symbol.iterator]();;){var r;if(t){if(n>=e.length)break;r=e[n++]}else{if((n=e.next()).done)break;r=n.value}var i=r;if(!this.props.renderManager.isPageReady(i.pageNumber))return!1}return!0},l.prototype.getChildTree=function(e){var t=this.props.pageModels,n=this.props.width,r=this.props.height,i=t.map(function(e){return e.width}).reduce(function(e,t){return e+t},0),o=Math.max.apply(Math,t.map(function(e){return e.height})),a=Object(_.c)(1===t.length&&this.props.readMode===y.DOUBLE_PAGE_SPREAD?t[0].width:i,o,n,r),s=r/a,u=(n/a-i)/2,c=(s-o)/2;this.borders={top:c*a,right:n-u*a,bottom:r-c*a,left:u*a};var l=u,d=(s-t[0].height)/2,p=(new m.a).mScale(a).mTranslate(l,d),h=g.b.createElement(v.a,{arrivedAtSpreadTick:this._arrivedAtTick,dispatch:this.props.dispatch,featureTracker:this.props.featureTracker,hideLinkToolTip:this.props.hideLinkToolTip,isLinksToggledOn:this.props.isLinksToggledOn,isPaywalled:this.props.paywalledPageStatus[0],mayRenderLinks:this.props.mayRenderLinks,model:t[0],pageType:b.a,showLinkToolTip:this.props.showLinkToolTip,transform:p,renderManager:this.props.renderManager});if(2!==t.length)return[h];l=u+t[0].width,d=(s-t[1].height)/2;var f=(new m.a).mScale(a).mTranslate(l,d);return[h,g.b.createElement(v.a,{arrivedAtSpreadTick:this._arrivedAtTick,dispatch:this.props.dispatch,featureTracker:this.props.featureTracker,hideLinkToolTip:this.props.hideLinkToolTip,isLinksToggledOn:this.props.isLinksToggledOn,isPaywalled:this.props.paywalledPageStatus[1],mayRenderLinks:this.props.mayRenderLinks,model:t[1],pageType:b.b,showLinkToolTip:this.props.showLinkToolTip,transform:f,renderManager:this.props.renderManager})]},l.prototype.afterDraw=function(e){var t=l.scroller.isAnimating||l.scroller.isDragging||l.scroller.isMoving;l.scroller.update(g.b.lastTick),(l.scroller.isAnimating||l.scroller.isDragging||l.scroller.isMoving||t)&&this.requestRedraw(),this.props.isCurrentSpread&&!this._arrivedAtTick&&this.isAllPagesLoaded()&&this.forceUpdate(),l._lastZoom!==l.scroller.zoom&&(l._lastZoom=l.scroller.zoom,this.props.dispatch(i.l(l.scroller.zoom,l.scroller.isDragging)))},babelHelpers.createClass(l,[{key:"zOrder",get:function(){return this.props.isCurrentSpread?1:0}},{key:"displayName",get:function(){return"Spread"}},{key:"transform",get:function(){return l._transform.mSetMatrix(this.props.transform.matrix).mScale(l.scroller.zoom).mTranslate(-l.scroller.left,-l.scroller.top),l._transform}},{key:"inAnimation",get:function(){return!!l.scroller.isMoving||!!this.parent&&this.parent.inAnimation}},{key:"unzoomedBBox",get:function(){return this.props.transform.transformRect(g.b.RectPool.get(0,0,this.width,this.height))}}]),l);function l(){var e,s,t;babelHelpers.classCallCheck(this,l);for(var n=arguments.length,r=Array(n),i=0;i<n;i++)r[i]=arguments[i];return(e=s=babelHelpers.possibleConstructorReturn(this,o.call.apply(o,[this].concat(r))))._arrivedAtTick=0,s.spreadSnapFunction=function(e,t,n){var r=void 0;if(1<n){var i=s.width/n,o=s.height/n,a=void 0;a=s.borders.right-s.borders.left<i?s.borders.left-(i-(s.borders.right-s.borders.left))/2:Math.max(Math.min(t,s.borders.right-i),s.borders.left);r={top:s.borders.bottom-s.borders.top<o?s.borders.top-(o-(s.borders.bottom-s.borders.top))/2:Math.max(Math.min(e,s.borders.bottom-o),s.borders.top),left:a,zoom:n}}else r={top:0,left:0,zoom:1};return r},t=e,babelHelpers.possibleConstructorReturn(s,t)}c._transform=new m.a,c.scroller=new r.a(0,0,1,1,1,1,1),c._lastZoom=1,c._zoomBeforeStart=1},function(e,t,n){"use strict";var r=n(352);n.d(t,"b",function(){return r.a});var i=n(353);n.d(t,"a",function(){return i.a});var o=n(354);n.d(t,"c",function(){return o.a})},,function(e,t,n){"use strict";n.d(t,"a",function(){return r});var r='\n    <svg width="100%" height="100%" viewBox="-4 -4 30 52">\n        <defs>\n        </defs>\n        <g fill="none" class="navigation-arrow__shadow" stroke="#000" stroke-width="4" transform="translate(9 22)">\n            <path d="M2.65002234,43.5538147 C1.78774217,42.6020596 1.78774217,41.0560678 2.65002234,40.1030925 L17.6687127,23.4986273 L2.64671013,6.89660245 C1.78442996,5.94362719 1.78442996,4.39885551 2.64671013,3.44588025 C3.5089903,2.49290499 4.90674535,2.49290499 5.76902553,3.44588025 L22.3532899,21.7732662 C23.21557,22.7250212 23.21557,24.2697929 22.3532899,25.2239884 L5.77233774,43.5538147 C5.34174969,44.0309124 4.77646487,44.2688512 4.21118004,44.2688512 C3.64589522,44.2688512 3.08171447,44.0309124 2.65002234,43.5538147 Z" transform="translate(-10.5, -23.5)"/>\n        </g>\n        <g fill="white" class="navigation-arrow__path" transform="translate(9 22)">\n            <path d="M2.65002234,43.5538147 C1.78774217,42.6020596 1.78774217,41.0560678 2.65002234,40.1030925 L17.6687127,23.4986273 L2.64671013,6.89660245 C1.78442996,5.94362719 1.78442996,4.39885551 2.64671013,3.44588025 C3.5089903,2.49290499 4.90674535,2.49290499 5.76902553,3.44588025 L22.3532899,21.7732662 C23.21557,22.7250212 23.21557,24.2697929 22.3532899,25.2239884 L5.77233774,43.5538147 C5.34174969,44.0309124 4.77646487,44.2688512 4.21118004,44.2688512 C3.64589522,44.2688512 3.08171447,44.0309124 2.65002234,43.5538147 Z" transform="translate(-10.5, -23.5)"/>\n        </g>\n    </svg>\n'},function(e,t,n){"use strict";n.d(t,"a",function(){return r});var r=(i.LINEAR=function(e,t,n,r){return n*e/r+t},i.EASE_IN_CUBIC=function(e,t,n,r){return n*(e/=r)*e*e+t},i.EASE_OUT_CUBIC=function(e,t,n,r){return e/=r,n*(--e*e*e+1)+t},i.EASE_IN_OUT_CUBIC=function(e,t,n,r){return(e/=r/2)<1?n/2*e*e*e+t:n/2*((e-=2)*e*e+2)+t},i.calc=function(e,t,n,r){return(3<arguments.length&&void 0!==r?r:i.LINEAR)(e-t,0,1,n)},i.prototype.reset=function(e){return this.start=e,this},i.prototype.isRunning=function(e){return e>=this.start&&e<=this.start+this.duration},i.prototype.isWaitingToRun=function(e){return e<this.start},i.prototype.value=function(e){var t=i.calc(e,this.start,this.duration,this.options.easing);return this.options.clipStart&&t<0?t=0:this.options.clipEnd&&1<t&&(t=1),this.options.reverse&&(t=1-t),t},i);function i(e,t,n){babelHelpers.classCallCheck(this,i),this.start=e,this.duration=t,this.options=Object.assign(n||{},{easing:i.LINEAR,clipStart:!0,clipEnd:!0,reverse:!1})}},function(e,t,n){"use strict";n.d(t,"b",function(){return m}),n.d(t,"a",function(){return T});var r=n(65),i=n(426),o=n.n(i),a=n(427),s=n.n(a),u=n(428),c=n.n(u),l=n(429),d=n.n(l),p=n(10),h=new Float32Array([1,1,0,.5]),f=new Float32Array([0,0,0,.3]);function m(e){return{min:{x:Math.min(e.p1.x,e.p2.x,e.p3.x,e.p4.x),y:Math.min(e.p1.y,e.p2.y,e.p3.y,e.p4.y)},max:{x:Math.max(e.p1.x,e.p2.x,e.p3.x,e.p4.x),y:Math.max(e.p1.y,e.p2.y,e.p3.y,e.p4.y)}}}function g(e){var n=new Float32Array(6*e.length*2);return e.forEach(function(e,t){n[12*t+0]=e.p1.x,n[12*t+1]=e.p1.y,n[12*t+2]=e.p3.x,n[12*t+3]=e.p3.y,n[12*t+4]=e.p2.x,n[12*t+5]=e.p2.y,n[12*t+6]=e.p2.x,n[12*t+7]=e.p2.y,n[12*t+8]=e.p3.x,n[12*t+9]=e.p3.y,n[12*t+10]=e.p4.x,n[12*t+11]=e.p4.y}),n}var v,b,_,y=(v=p.b.create(),function(e,t){var n=2/e,r=2/t;return p.b.set(v,n,0,0,0,-r,0,-1,1,1)}),E=(b=p.c.create(),_=p.b.create(),function(e,t,n){return p.b.translate(_,e,p.c.set(b,n.x,n.y)),p.b.scale(_,_,p.c.set(b,t,t)),p.b.translate(_,_,p.c.set(b,-n.x,-n.y)),_}),T=(w.prototype.draw=function(e,t){var n=this.gl,r=this.shader,i=this.verticeBuffer;n.disable(n.DEPTH_TEST),n.disable(n.CULL_FACE),n.enable(n.STENCIL_TEST),r.bind(),n.bindBuffer(n.ARRAY_BUFFER,i),n.vertexAttribPointer(r.a_vertex,2,n.FLOAT,!1,0,0),n.uniformMatrix3fv(r.u_displayMatrix,!1,y(n.drawingBufferWidth,n.drawingBufferHeight)),t.length&&(n.stencilFunc(n.NEVER,1,1),n.stencilOp(n.REPLACE,n.KEEP,n.KEEP),n.bufferData(n.ARRAY_BUFFER,g(t),n.DYNAMIC_DRAW),n.drawArrays(n.TRIANGLES,0,6*t.length)),n.enable(n.BLEND),n.uniform4fv(r.u_color,f),n.stencilFunc(n.NOTEQUAL,1,1),n.blendFuncSeparate(n.SRC_ALPHA,n.ONE_MINUS_SRC_ALPHA,n.ZERO,n.ONE),n.blendEquation(n.FUNC_ADD);var o={p1:{x:e.x,y:e.y},p2:{x:e.x+e.width,y:e.y},p3:{x:e.x,y:e.y+e.height},p4:{x:e.x+e.width,y:e.y+e.height}};n.bufferData(n.ARRAY_BUFFER,g([o]),n.DYNAMIC_DRAW),n.drawArrays(n.TRIANGLES,0,6),n.disable(n.BLEND),n.disable(n.STENCIL_TEST),n.enable(n.CULL_FACE),n.enable(n.DEPTH_TEST)},w.prototype.drawSelected=function(e,t,n,r){var i=this.gl,o=this.shader,a=this.selectedShader,s=this.verticeBuffer,u=this.texCoordBuffer;if(i.disable(i.DEPTH_TEST),i.disable(i.CULL_FACE),i.bindBuffer(i.ARRAY_BUFFER,s),i.bufferData(i.ARRAY_BUFFER,g(e),i.DYNAMIC_DRAW),i.bindBuffer(i.ARRAY_BUFFER,null),1<r){a.bind();var c=E(y(i.drawingBufferWidth,i.drawingBufferHeight),r,n);i.uniformMatrix3fv(a.u_displayMatrix,!1,c),i.bindBuffer(i.ARRAY_BUFFER,s),i.vertexAttribPointer(a.a_vertex,2,i.FLOAT,!1,0,0),i.bindBuffer(i.ARRAY_BUFFER,u),i.bufferData(i.ARRAY_BUFFER,function(e){var o=new Float32Array(6*e.length*2);return e.forEach(function(e,t){function n(e){return(e-i.min.x)/(i.max.x-i.min.x)}function r(e){return(i.max.y-e)/(i.max.y-i.min.y)}var i=m(e);o[12*t+0]=n(e.p1.x),o[12*t+1]=r(e.p1.y),o[12*t+2]=n(e.p3.x),o[12*t+3]=r(e.p3.y),o[12*t+4]=n(e.p2.x),o[12*t+5]=r(e.p2.y),o[12*t+6]=n(e.p2.x),o[12*t+7]=r(e.p2.y),o[12*t+8]=n(e.p3.x),o[12*t+9]=r(e.p3.y),o[12*t+10]=n(e.p4.x),o[12*t+11]=r(e.p4.y)}),o}(e),i.DYNAMIC_DRAW),i.vertexAttribPointer(a.a_texCoord,2,i.FLOAT,!1,0,0),i.activeTexture(i.TEXTURE0),i.uniform1i(a.u_texture,0),i.uniform4fv(a.u_color,h);for(var l=0;l<e.length;l++)i.bindTexture(i.TEXTURE_2D,t[l]&&t[l].texture?t[l].texture:this.emptyTexture),i.drawArrays(i.TRIANGLES,6*l,6)}else i.enable(i.BLEND),o.bind(),i.blendFuncSeparate(i.SRC_ALPHA,i.ONE_MINUS_SRC_ALPHA,i.ZERO,i.ONE),i.blendEquation(i.FUNC_ADD),i.bindBuffer(i.ARRAY_BUFFER,s),i.vertexAttribPointer(o.a_vertex,2,i.FLOAT,!1,0,0),i.uniform4fv(o.u_color,h),i.drawArrays(i.TRIANGLES,0,6*e.length),i.disable(i.BLEND);i.enable(i.CULL_FACE),i.enable(i.DEPTH_TEST)},w.prototype.destroy=function(){var e=this.gl;e.deleteBuffer(this.verticeBuffer),e.deleteBuffer(this.texCoordBuffer),e.deleteTexture(this.emptyTexture),this.shader.destroy(),this.selectedShader.destroy()},w);function w(e){babelHelpers.classCallCheck(this,w),this.gl=e,this.shader=Object(r.a)(e,s.a,o.a),this.selectedShader=Object(r.a)(e,d.a,c.a),this.verticeBuffer=e.createBuffer(),this.texCoordBuffer=e.createBuffer(),this.emptyTexture=e.createTexture(),e.bindTexture(e.TEXTURE_2D,this.emptyTexture),e.texImage2D(e.TEXTURE_2D,0,e.RGBA,1,1,0,e.RGBA,e.UNSIGNED_BYTE,new Uint8Array([255,255,255,255])),e.bindTexture(e.TEXTURE_2D,null)}},function(e,t,n){"use strict";n.d(t,"a",function(){return s}),n.d(t,"b",function(){return u});var r=n(6),i=n(5),o=n(106),a=Object(r.a)(i.w,i.a,i.e,i.F,o.d,function(e){return e.reader.zoomLevel},function(e,t,n,r,i,o){return!!e&&((!i||!n)&&(t||r||1===o))}),s=Object(r.a)(a,i.c,i.n,function(e,t,n){return e&&!t&&-1<n}),u=Object(r.a)(a,i.d,i.n,function(e,t,n){return e&&!t&&-1<n})},,,,,,,,,function(e,t,n){"use strict";n.d(t,"a",function(){return o}),n.d(t,"b",function(){return a});var r=n(101),i=n.n(r),o={SINGLE_PAGE:"SINGLE_PAGE",DOUBLE_PAGE:"DOUBLE_PAGE"},a=function e(t){var r=this;babelHelpers.classCallCheck(this,e),this.getAutoFlip=function(){return"true"===r.getQueryParamValue("doAutoflipPages")},this.getEnablePoweredByIssuu=function(){var e=r.getQueryParamValue("hideIssuuLogo");return!e||"true"!==e},this.getEnableSeeMore=function(){var e=r.getQueryParamValue("showOtherPublicationsAsSuggestions");if(e)return"false"!==e},this.getEnableShare=function(){var e=r.getQueryParamValue("hideShareButton");return!e||"true"!==e},this.getFullscreenBgColor=function(){var e=r.getQueryParamValue("backgroundColorFullscreen");if(e){var t=decodeURIComponent(e);return t.startsWith("#")?t:"#"+t}},this.getFullscreenBgImage=function(){return r.getQueryParamValue("backgroundImageUrl")||void 0},this.getFullscreenImageStretch=function(){return"stretch"===r.getQueryParamValue("backgroundImagePosition")},this.getFullScreenLogo=function(){return r.getQueryParamValue("logoImageUrl")||void 0},this.getPageLayout=function(){switch(r.getQueryParamValue("pageLayout")){case"singlePage":return"singlePage";case"doublePage":default:return"doublePage"}},this.getQueryParamValue=function(e){return r._uri.getQueryParamValue(e)},this.getUsername=function(){return r.getQueryParamValue("u")},this.getDocumentName=function(){return r.getQueryParamValue("d")},this.getInitialPageNumber=function(){var e=parseInt(r.getQueryParamValue("p"),10);if(e)return e;var t=parseInt(r.getQueryParamValue("pageNumber"),10);return t||1},this.getDocumentId=function(){return r.getQueryParamValue("documentId")},this.getBackgroundColor=function(){var e=r.getQueryParamValue("backgroundColor")||void 0;return e&&((e=decodeURIComponent(e)).startsWith("#")||(e="#"+e)),e},this.getLegacyViewMode=function(){return/^presentation|singlePage$/i.test(r.getQueryParamValue("viewMode"))?o.SINGLE_PAGE:o.DOUBLE_PAGE},this.getAdpageId=function(){return r.getQueryParamValue("adId")},this.getIdentifier=function(){return r.getQueryParamValue("identifier")},this.getEmbedType=function(){return"script"===r.getQueryParamValue("embedType")?"script":"iframe"},this.getHostUrl=function(){return window.document.referrer.toString()},this.getHostReferrer=function(){return r.getQueryParamValue("r")||null},this.getLatestHostUrl=function(){try{return window.parent.document.location.toString()}catch(e){return null}},this.getDelayTracking=function(){return r._uri.query().includes("delayTracking")},this.getStreamOrigin=function(){try{return r.getQueryParamValue("streamOrigin").split(";")}catch(e){return null}},this.getStreamRanking=function(){return parseInt(r.getQueryParamValue("streamRanking"),10)||0},this.getEmbedId=function(){var e=r._uri.anchor(),t=/^([0-9]+)(?:\/|%2F)([0-9]+).*$/;return t.test(e)?e.replace(t,"$1/$2"):null};var n=new i.a(t);if(n.host().endsWith("issuu.com")?this._uri=n:n.host().endsWith("googleusercontent.com")?n.queryPairs.forEach(function(e){var t=e[1],n=new i.a(t);n.host().endsWith("issuu.com")&&(r._uri=n)}):n.host().endsWith("fastly-terrarium.com")&&(this._uri=n),!this._uri)throw new Error("Unexpected query parameters")}},function(e,t,n){"use strict";n.d(t,"a",function(){return r}),n.d(t,"d",function(){return i}),n.d(t,"b",function(){return o}),n.d(t,"c",function(){return a});var r=4,i=6,o=8,a=10},function(e,t,n){"use strict";function o(e,t,n){var r={width:t,height:n,left:(screen.width-t)/2,top:(screen.height-n)/2},i=Object.keys(r).map(function(e){return e+"="+r[e]}).join(",");window.open(e,"_blank",i)}function r(n,r){return function(e){var t="mailto:?subject="+encodeURIComponent("I found this great publication on issuu.com")+"&body="+encodeURIComponent("Hi,\n\nI found this publication on issuu.com which seems totally made for you.\n\n"+n+":\n"+r+"\n\nCheck it out and let me know what you think.\n\n- Me");window.open(t,"_top")}}function i(t){return function(e){o("https://www.facebook.com/sharer.php?u="+encodeURIComponent(t),575,300)}}function a(n,r){return function(e){var t={url:encodeURIComponent(r),text:encodeURIComponent(n),via:"issuu"};o("https://twitter.com/intent/tweet?"+Object.keys(t).map(function(e){return e+"="+t[e]}).join("&"),550,420)}}function s(n,r,i){return function(e){var t={url:encodeURIComponent(n),media:encodeURIComponent(r),description:encodeURIComponent(i)};o("https://pinterest.com/pin/create/button/?"+Object.keys(t).map(function(e){return e+"="+t[e]}).join("&"),750,500)}}n.d(t,"a",function(){return r}),n.d(t,"b",function(){return i}),n.d(t,"d",function(){return a}),n.d(t,"c",function(){return s})},,,,,,,,,,,,,,,,function(e,t,n){"use strict";n.d(t,"b",function(){return a}),n.d(t,"a",function(){return s});var r=n(357),i=n(169),o=["control"],a=function(){var e=function(){var t=void 0;try{t=new i.b(window.parent.location.toString())}catch(e){t=new i.b(window.location.toString())}return t.getQueryParamValue("experiment")}();if(e)return e;var t=Object(r.a)(),n="string"==typeof t.iutk?parseInt(t.iutk.slice(0,8),16):0;return o[Math.floor(n/1e4)%o.length]},s=function(e){var t={identifier:e||"control"};return function(){return 0<arguments.length&&void 0!==arguments[0]?arguments[0]:t}}},,function(e,t,n){"use strict";n.d(t,"c",function(){return c}),n.d(t,"b",function(){return l}),n.d(t,"a",function(){return d});var r=n(6),i=n(153),o=n(5),a=n(16),s=n(12),u=n(9),c=Object(r.a)(o.E,function(e){return!(!e||!e.showPublisherPreviewMessage)}),l=Object(r.a)(s.d,a.p,o.F,u.d,c,o.E,function(e,t,n,r,i,o){var a=e.username,s=e.documentName;return!(!o||o.customizedToNotShow&&t||n||o.hideWhenNotInFullscreen&&!r||!(i||a&&s))}),d=Object(r.a)(function(e){return e.headerControls},function(e){return e.visibleDropdown===i.a})},function(e,t,n){"use strict";n.d(t,"a",function(){return l});var a,r=n(0),i=n.n(r),o=n(254),s=n(193),u=(n(113),n(170)),c=n(28),l=(a=r.Component,babelHelpers.inherits(d,a),d.prototype.getConfig=function(){return this.props.error.name===c.f?this.getConfigForInactiveDocument():this.getConfigForEmbedError()},d.prototype.getConfigForEmbedError=function(){var e=this.props.embedId?this.props.embedId:"undefined";return{message:this.props.error.message+" ("+e+")",icon:i.a.createElement("div",{className:"failed__icon",dangerouslySetInnerHTML:{__html:o.a}}),retry:{display:"none"},errorId:{}}},d.prototype.getConfigForInactiveDocument=function(){var e={message:"Something went wrong",icon:i.a.createElement("div",{className:"failed__icon",dangerouslySetInnerHTML:{__html:o.a}}),retry:{},errorId:{}};switch(this.props.error.code){case u.d:e.message="The content you are trying to view is not currently available.",e.icon=i.a.createElement("div",{className:"failed__icon",dangerouslySetInnerHTML:{__html:s.a}}),e.retry.display="none",e.errorId.display="none";break;case u.a:case u.b:case u.c:e.message="Sorry, this publication is not available",e.retry.display="none",e.errorId.display="none"}return e},d.prototype.render=function(){var e=this.getConfig();return i.a.createElement("div",{className:"failed"},e.icon,i.a.createElement("h1",{className:"failed__message"},e.message),i.a.createElement("div",{className:"failed__retry-link-container",style:e.retry},i.a.createElement("a",{className:"failed__retry-link",href:"#",onClick:this.onRetry},"Try again")),i.a.createElement("div",{className:"failed__help"},i.a.createElement("div",{className:"failed__error-token",style:e.errorId},"Error ID: ",this.props.sessionId),i.a.createElement("div",{className:"failed__spacer",style:e.errorId}),i.a.createElement("div",{className:"failed__support-link-container"},i.a.createElement("a",{className:"failed__support-link",href:"http://help.issuu.com",target:"_blank"},"help.issuu.com"))))},d);function d(){var e,t,n;babelHelpers.classCallCheck(this,d);for(var r=arguments.length,i=Array(r),o=0;o<r;o++)i[o]=arguments[o];return(e=t=babelHelpers.possibleConstructorReturn(this,a.call.apply(a,[this].concat(i)))).onRetry=function(e){e.preventDefault(),t.props.reloadDocument&&t.props.reloadDocument()},n=e,babelHelpers.possibleConstructorReturn(t,n)}l.displayName="Failed"},,function(e,t,n){"use strict";n.d(t,"a",function(){return u}),n.d(t,"b",function(){return l});var r=n(6),i=n(32),o=n(16),a=n(29),s=n(5),u=Object(r.a)(function(e){return e.features.controls},function(e){for(var t=0;t<e.length;t++)if(e[t].type===a.DOWNLOAD_PROTECTED_TYPE)return e[t]}),c=Object(r.a)(function(e){return e.features.controls},function(e){for(var t=0;t<e.length;t++)if(e[t].type===a.DOWNLOAD_TYPE)return e[t]}),l=Object(r.a)(c,function(e){return e.metadata.downloadable},s.F,i.a,u,o.m,function(e,t,n,r,i,o){return t&&!r&&!(!(o&&!(!e||n))&&!i)})},function(e,t,n){"use strict";n.d(t,"a",function(){return r});var r='\n    <svg width="36" height="31" viewBox="0 0 36 31" xmlns="http://www.w3.org/2000/svg">\n        <title>Group</title>\n        <g fill="#9AA8A9" fill-rule="evenodd" opacity=".3">\n            <path d="M32.333 30.77H3.267c-1.1 0-2.1-.564-2.667-1.53-.533-.964-.533-2.095.033-3.06L15.5 1.464C16.067.532 17.033 0 18.133 0 19.2 0 20.2.566 20.767 1.464l14.5 24.118c.633 1.064.666 2.362.033 3.46-.6 1.097-1.7 1.73-2.967 1.73zm-14.2-28.475c-.133 0-.433.034-.633.333L2.667 27.378c-.2.333-.067.6 0 .732.066.133.233.366.633.366h29.033c.567 0 .867-.4.967-.566.1-.166.3-.6 0-1.098L18.767 2.663c-.2-.333-.5-.367-.634-.367z"/><path d="M18.133 20.825c-.633 0-1.166-.533-1.166-1.165v-8.15c0-.632.533-1.164 1.166-1.164.634 0 1.167.532 1.167 1.164v8.15c0 .666-.5 1.165-1.167 1.165zM18.133 25.05c-.633 0-1.166-.533-1.166-1.165v-.665c0-.632.533-1.165 1.166-1.165.634 0 1.167.533 1.167 1.165v.665c0 .665-.5 1.164-1.167 1.164z"/>\n        </g>\n    </svg>\n'},function(e,t,n){"use strict";n.d(t,"a",function(){return r});var r='\n    <svg width="100%" height="100%" viewBox="0 0 24 24">\n        <g class="spinner__icon" fill-rule="evenodd">\n            <g transform="translate(7.000000, 7.000000)">\n                    <path d="M6.77787915,6.84548427 C5.79003176,7.83333166 4.18814246,7.83322341 3.2001563,6.84523725 C2.21223953,5.85732047 2.21223953,4.25567819 3.2001563,3.26776142 C4.18822365,2.27969408 5.7896189,2.27974819 6.77763213,3.26776142 C7.76571475,4.25584404 7.76587711,5.8574863 6.77787915,6.84548427 L8.24993998,8.31754509 C10.0510015,6.51648357 10.0507055,3.59671316 8.24969296,1.79570059 C6.44870526,-0.00528710987 3.52918184,-0.00538576575 1.72809548,1.79570059 C-0.0728180424,3.59661411 -0.0728180424,6.51638456 1.72809548,8.31729807 C3.52903385,10.1182364 6.4490513,10.1184338 8.24993998,8.31754509 L6.77787915,6.84548427 L6.77787915,6.84548427 Z"></path>\n            </g>\n            <path d="M12,23 C18.0751322,23 23,18.0751322 23,12 C23,5.92486775 18.0751322,1 12,1 C5.92486775,1 1,5.92486775 1,12 C1,18.0751322 5.92486775,23 12,23 Z M12,20.0250244 C16.4320986,20.0250244 20.0250244,16.4320986 20.0250244,12 C20.0250244,7.5679014 16.4320986,3.97497559 12,3.97497559 C7.5679014,3.97497559 3.97497559,7.5679014 3.97497559,12 C3.97497559,16.4320986 7.5679014,20.0250244 12,20.0250244 Z" fill-opacity="0.5"></path>\n            <path d="M3.97746854,12.2020107 C3.88040309,13.3666506 2.94475898,13.6536116 2.48144531,13.6567993 C1.99243164,13.6601639 0.999999997,13.1174211 1,12 C1.00000002,5.92486775 5.92486775,1 12,1 C18.0751322,1 23,5.92486775 23,12 C23,13.1278573 22.0378909,13.5112302 21.5430908,13.5112305 C21.0482908,13.5112307 20.0457764,13.2033275 20.0457764,12 C20.0457764,11.9485283 20.0382948,11.8986091 20.0236545,11.8502139 C19.9437915,7.48723335 16.3820616,3.97497559 12,3.97497559 C7.5679014,3.97497559 3.97497559,7.5679014 3.97497559,12 C3.97497559,12.067535 3.97580982,12.1348751 3.97746854,12.2020107 Z"></path>\n        </g>\n    </svg>\n'},,function(e,t,n){"use strict";n.d(t,"a",function(){return r});var c=n(25),l=n(49),d=n(23);function r(e,t,n,r){var i=function(){try{return window.matchMedia("(orientation: portrait)").matches}catch(e){return window.innerHeight>window.innerWidth}}(),o=l.a.isMobile()||l.a.isTablet(),a=l.a.isMobile()&&i,s=o&&i;switch(r.responsiveModeWhen){case c.RESPONSIVE.HANDHELD_IN_PORTRAIT_FULLSCREEN:if(s&&n)return c.SINGLE_PAGE_SPREAD;break;case c.RESPONSIVE.HANDHELD_IN_PORTRAIT:if(s)return c.SINGLE_PAGE_SPREAD;break;case c.RESPONSIVE.PHONE_ISH_IN_PORTRAIT:var u=480*Object(d.a)();if(a||e<=u&&e<t)return c.SINGLE_PAGE_SPREAD}return r.defaultMode}},function(e,t,n){"use strict";n.d(t,"a",function(){return i});var r=n(29);function i(e,t){return!(!e||e.kind!==r.FULLSCREEN_KIND.FALLBACK)||t}},function(e,t,n){"use strict";n.d(t,"a",function(){return a}),n.d(t,"b",function(){return u});var r=n(141),i="ON_VISIBILITY_CHANGE",o={ON_VISIBILITY_CHANGE:i};function a(){return{type:i}}var s={isHidden:r.a(),supported:r.b()};function u(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:s;switch(arguments[1].type){case o.ON_VISIBILITY_CHANGE:return Object.assign({},e,{isHidden:r.a()});default:return e}}},function(e,t,n){"use strict";n.d(t,"a",function(){return s});var r='d="M27.7068284,10.2884629 C27.5277733,10.1097429 27.2813055,10 27.009222,10 L22.990778,10 C22.4509752,10 22,10.4477153 22,11 C22,11.5561352 22.4435864,12 22.990778,12 L26,12 L26,15.009222 C26,15.5490248 26.4477153,16 27,16 C27.5561352,16 28,15.5564136 28,15.009222 L28,10.990778 C28,10.7223751 27.8893106,10.4759332 27.7101145,10.2959709 Z" fill="#F5F5F5" transform="translate(25.000000, 13.000000) rotate(-180.000000) translate(-25.000000, -13.000000)"',i='d="M13.7068284,10.2884629 C13.5277733,10.1097429 13.2813055,10 13.009222,10 L8.99077797,10 C8.45097518,10 8,10.4477153 8,11 C8,11.5561352 8.44358641,12 8.99077797,12 L12,12 L12,15.009222 C12,15.5490248 12.4477153,16 13,16 C13.5561352,16 14,15.5564136 14,15.009222 L14,10.990778 C14,10.7223751 13.8893106,10.4759332 13.7101145,10.2959709 Z" fill="#F5F5F5" transform="translate(11.000000, 13.000000) scale(-1, 1) rotate(-180.000000) translate(-11.000000, -13.000000)"',o='d="M27.7068284,20.2884629 C27.5277733,20.1097429 27.2813055,20 27.009222,20 L22.990778,20 C22.4509752,20 22,20.4477153 22,21 C22,21.5561352 22.4435864,22 22.990778,22 L26,22 L26,25.009222 C26,25.5490248 26.4477153,26 27,26 C27.5561352,26 28,25.5564136 28,25.009222 L28,20.990778 C28,20.7223751 27.8893106,20.4759332 27.7101145,20.2959709 Z" fill="#F5F5F5" transform="translate(25.000000, 23.000000) rotate(-90.000000) translate(-25.000000, -23.000000)"',a='d="M13.7068284,20.2884629 C13.5277733,20.1097429 13.2813055,20 13.009222,20 L8.99077797,20 C8.45097518,20 8,20.4477153 8,21 C8,21.5561352 8.44358641,22 8.99077797,22 L12,22 L12,25.009222 C12,25.5490248 12.4477153,26 13,26 C13.5561352,26 14,25.5564136 14,25.009222 L14,20.990778 C14,20.7223751 13.8893106,20.4759332 13.7101145,20.2959709 Z" fill="#F5F5F5" transform="translate(11.000000, 23.000000) scale(-1, 1) rotate(-90.000000) translate(-11.000000, -23.000000)"',s='\n    <svg width="100%" height="100%" viewBox="0 0 36 36">\n        <g stroke="none" stroke-width="1" fill="none" fill-rule="evenodd">\n            <g>\n                <path '+r+"></path>\n                <path "+i+"></path>\n                <path "+o+"></path>\n                <path "+a+'></path>\n            </g>\n        </g>\n        <path class="shadow" '+r+'></path>\n        <path class="shadow" '+i+'></path>\n        <path class="shadow" '+o+'></path>\n        <path class="shadow" '+a+'></path>\n        <path class="icon" '+r+'></path>\n        <path class="icon" '+i+'></path>\n        <path class="icon" '+o+'></path>\n        <path class="icon" '+a+"></path>\n    </svg>\n"},function(e,t,n){"use strict";n.d(t,"a",function(){return s});var r='d="M27.7068284,10.2884629 C27.5277733,10.1097429 27.2813055,10 27.009222,10 L22.990778,10 C22.4509752,10 22,10.4477153 22,11 C22,11.5561352 22.4435864,12 22.990778,12 L26,12 L26,15.009222 C26,15.5490248 26.4477153,16 27,16 C27.5561352,16 28,15.5564136 28,15.009222 L28,10.990778 C28,10.7223751 27.8893106,10.4759332 27.7101145,10.2959709 Z"',i='d="M13.7068284,10.2884629 C13.5277733,10.1097429 13.2813055,10 13.009222,10 L8.99077797,10 C8.45097518,10 8,10.4477153 8,11 C8,11.5561352 8.44358641,12 8.99077797,12 L12,12 L12,15.009222 C12,15.5490248 12.4477153,16 13,16 C13.5561352,16 14,15.5564136 14,15.009222 L14,10.990778 C14,10.7223751 13.8893106,10.4759332 13.7101145,10.2959709 Z" transform="translate(11.000000, 13.000000) scale(-1, 1) translate(-11.000000, -13.000000)"',o='d="M27.7068284,20.2884629 C27.5277733,20.1097429 27.2813055,20 27.009222,20 L22.990778,20 C22.4509752,20 22,20.4477153 22,21 C22,21.5561352 22.4435864,22 22.990778,22 L26,22 L26,25.009222 C26,25.5490248 26.4477153,26 27,26 C27.5561352,26 28,25.5564136 28,25.009222 L28,20.990778 C28,20.7223751 27.8893106,20.4759332 27.7101145,20.2959709 Z" transform="translate(25.000000, 23.000000) rotate(-270.000000) translate(-25.000000, -23.000000)"',a='d="M13.7068284,20.2884629 C13.5277733,20.1097429 13.2813055,20 13.009222,20 L8.99077797,20 C8.45097518,20 8,20.4477153 8,21 C8,21.5561352 8.44358641,22 8.99077797,22 L12,22 L12,25.009222 C12,25.5490248 12.4477153,26 13,26 C13.5561352,26 14,25.5564136 14,25.009222 L14,20.990778 C14,20.7223751 13.8893106,20.4759332 13.7101145,20.2959709 Z" transform="translate(11.000000, 23.000000) scale(-1, 1) rotate(-270.000000) translate(-11.000000, -23.000000)"',s='\n    <svg width="100%" height="100%" viewBox="0 0 36 36">\n        <g stroke="none" stroke-width="1" fill="none" fill-rule="evenodd">\n            <g>\n                <path '+r+"></path>\n                <path "+i+"></path>\n                <path "+o+"></path>\n                <path "+a+'></path>\n            </g>\n        </g>\n        <path class="shadow" '+r+'></path>\n        <path class="shadow" '+i+'></path>\n        <path class="shadow" '+o+'></path>\n        <path class="shadow" '+a+'></path>\n        <path class="icon" '+r+'></path>\n        <path class="icon" '+i+'></path>\n        <path class="icon" '+o+'></path>\n        <path class="icon" '+a+"></path>\n    </svg>\n"},function(e,t,n){"use strict";var r=n(341);n.d(t,"b",function(){return r.a});n(344);var i=n(345);n.d(t,"a",function(){return i.a})},function(e,t,n){"use strict";n.d(t,"a",function(){return r}),n.d(t,"b",function(){return i});var r="TOGGLE_DROPDOWN";function i(e){return{type:r,dropdown:e}}},function(e,t,n){"use strict";var r=n(348);n.d(t,"a",function(){return r.a});var i=n(134);n.d(t,"b",function(){return i.b})},function(e,t,n){"use strict";n.d(t,"a",function(){return r});var p=n(24),f=1e3/60,m=Math.ceil(250/f)*f,b="EASING_OUT",_="EASING_IN_OUT",y="EASING_OUT_EXPO";function g(e,t,n,r,i,o,a){return{top:Math.max(Math.min(e,a-i/n),0),left:Math.max(Math.min(t,o-r/n),0),zoom:Math.max(Math.min(n,p.b),p.c)}}var r=(s.prototype.touchStart=function(e,t,n){this._lastTouchPosition.x=e,this._lastTouchPosition.y=t,this._initialZoomLevel=this.zoom,this._lastTouchTime=n,this._velocity={x:0,y:0},this._animate=!1,this._animation&&this._animation.deferred&&this._animation.deferred.resolve()},s.prototype.touchMove=function(e,t,n,r){var i=this._lastTouchPosition,o=n-this._lastTouchTime,a=this.top,s=this.left,u=this.zoom;if(r){var c=this.zoom;(u=Math.max(Math.min(r*this._initialZoomLevel,p.b),p.c))!==c&&(s+=e/c-e/u,a+=t/c-t/u)}var l={x:(e-i.x)/u,y:(t-i.y)/u};this.scrollingX||1!==u||(l.x=0),this.scrollingY||1!==u||(l.y=0),((s-=1*l.x)>this.contentWidth-this.width/u||s<0)&&(s+=.8*l.x*1),((a-=1*l.y)>this.contentHeight-this.height/u||a<0)&&(a+=.8*l.y*1);var d=function(e,t,n){var r=Math.max(1,n);return{x:-t.x/r*.6+.4*e.x,y:-t.y/r*.6+.4*e.y}}(this._velocity,l,o);this._isDragging=!0,this._isMoving=!0,this.left=s,this.top=a,this.zoom=u,this._velocity=d,this._lastTouchPosition.x=e,this._lastTouchPosition.y=t,this._lastTouchTime=n},s.prototype.touchEnd=function(e,t){var n=this._velocity,r=(this.snap?.36:.06)/this.zoom;if(this._isDragging=!1,function(e){return Math.sqrt(e.x*e.x+e.y*e.y)}(n)>r){var i=this.zoom,o=function(e,t,n){for(var r=0,i=e.x,o=e.y,a=0,s=0;Math.sqrt(i*i+o*o)>t;)r+=f,a+=(i*=n)*f,s+=(o*=n)*f;return{duration:r,distanceX:a,distanceY:s}}(n,(this.snap?.36:.006)/i,1-.11/i),a=o.duration,s=o.distanceX,u=o.distanceY,c=this.left+s,l=this.top+u,d=this.snap?this.snapFunction(l,c,i):g(l,c,i,this.width,this.height,this.contentWidth,this.contentHeight),p=Math.sqrt(Math.pow(s,2)+Math.pow(u,2)),h=a*(Math.sqrt(Math.pow(l-d.top,2)+Math.pow(c-d.left,2))+p)/p;this.animateToPosition(d.top,d.left,d.zoom,t,h,y)}else this.animateToPosition(this.top,this.left,this.zoom,t,m)},s.prototype.scrollTo=function(e,t,n,r,i){var o=4<arguments.length&&void 0!==i?i:m;return this.animateToPosition(e,t,n||this.zoom,r,o)},s.prototype.jumpTo=function(e,t,n){var r=g(e,t,n||this.zoom,this.width,this.height,this.contentWidth,this.contentHeight);if(this.snap){var i=this.snapFunction(r.top,r.left,r.zoom);this.top=i.top,this.left=i.left,this.zoom=i.zoom}else this.top=r.top,this.left=r.left,this.zoom=r.zoom},s.prototype.setSnap=function(e,t,n,r){var i=1<arguments.length&&void 0!==t?t:null,o=!(2<arguments.length&&void 0!==n)||n,a=3<arguments.length&&void 0!==r?r:null;if(i&&(this.snapFunction=i),e&&!this.snap){if(!this.snapFunction)throw new Error("Cannot snap without snap function!");if(this.snap=e,o)a&&this.animateToPosition(this.top,this.left,this.zoom,a,m);else{var s=this.snapFunction(this.top,this.left,this.zoom);this.top=s.top,this.left=s.left,this.zoom=s.zoom}}else this.snap=e},s.prototype.setScrolling=function(e,t){var n=!(0<arguments.length&&void 0!==e)||e,r=!(1<arguments.length&&void 0!==t)||t;this.scrollingX=n,this.scrollingY=r},s.prototype.resize=function(e,t,n,r,i,o,a){if(this.top=e,this.left=t,this.zoom=n,this.width=r,this.height=i,this.contentWidth=o,this.contentHeight=a,this.snap){var s=this.snapFunction(e,t,n);this.top=s.top,this.left=s.left,this.zoom=s.zoom}},s.prototype.isSnapped=function(){if(!this.snapFunction)return!0;var e=this.snapFunction(this.top,this.left,this.zoom),t=Math.abs(e.left-this.left)<1&&Math.abs(e.top-this.top)<1&&Math.abs(e.zoom-this.zoom)<.2;return t},s.prototype.update=function(e){var t=this._animate;if(this._animate&&this._animation){var n=this._animation,r=n.start,i=n.end,o=n.startTime,a=n.duration,s=n.easing,u=n.deferred,c=i.left-r.left,l=i.top-r.top,d=Math.min(e-o,a),p=Math.max(d/a,0);p<1&&0<p&&(s===b?p=function(e){return Math.pow(e-1,3)+1}(p):s===_?p=function(e){var t=2*e;return t<1?.5*Math.pow(t,3):.5*(Math.pow(t-2,3)+2)}(p):s===y&&(p=function(e){return 1-Math.pow(2,-10*e)}(p)));var h=r.left+c*p,f=r.top+l*p,m=this.width/i.zoom-this.width/r.zoom,g=this.width/r.zoom+m*p,v=this.width/g;this.left=h,this.top=f,this.zoom=v,this._animate=d<a,this._animate||u.resolve()}this._lastUpdate.left===this.left&&this._lastUpdate.top===this.top&&this._lastUpdate.zoom===this.zoom||(this._lastMoveTs=e),this._isMoving=t||this._isDragging&&e-this._lastMoveTs<100,this._lastUpdate.left=this.left,this._lastUpdate.top=this.top,this._lastUpdate.zoom=this.zoom},s.prototype.getHorizontalPositionInPercent=function(){var e=Math.max(Math.min(100*this.left/(this.contentWidth-this.width),100),0);return Number.isFinite(e)?e:0},s.prototype.animateToPosition=function(e,t,n,r,i,o){var a=g(e,t,n,this.width,this.height,this.contentWidth,this.contentHeight),s=a.top,u=a.left,c=a.zoom;if(this.snap){var l=this.snapFunction(s,u,c);s=l.top,u=l.left,c=l.zoom}if(u===this.left&&s===this.top&&c===this.zoom)return this._animate=!1,Promise.resolve();var d={resolve:null,promise:null};return d.promise=new Promise(function(e){d.resolve=e}),this._animation={startTime:r,easing:o||(this._animate?b:_),duration:i,start:{top:this.top,left:this.left,zoom:this.zoom},end:{top:s,left:u,zoom:c},deferred:d},this._animate=!0,d.promise},babelHelpers.createClass(s,[{key:"isDragging",get:function(){return this._isDragging}},{key:"isAnimating",get:function(){return this._animate}},{key:"isMoving",get:function(){return this._isMoving||this._animate}}]),s);function s(e,t,n,r,i,o,a){babelHelpers.classCallCheck(this,s),this.top=e,this.left=t,this.zoom=n,this.width=r,this.height=i,this.contentWidth=o,this.contentHeight=a,this.snap=!1,this.snapFunction=function(e,t,n){return{top:e,left:t,zoom:n}},this.scrollingX=!0,this.scrollingY=!0,this._lastUpdate={left:t,top:e,zoom:n},this._isMoving=!1,this._lastTouchPosition={x:0,y:0},this._initialZoomLevel=1,this._lastTouchTime=0,this._velocity={x:0,y:0},this._animate=!1,this._isDragging=!1,this._lastMoveTs=0}},function(e,t,n){"use strict";n.d(t,"a",function(){return r});var o=n(213),r={draw:function(e,t,n,r){var i=1.8*r;e.save(),e.beginPath(),e.arc(t,n,r,0,2*Math.PI),e.fill(),e.translate(t-i/2,n-i/2),e.scale(i/o.a.w,i/o.a.h),o.a.d[0](e,{stack:0}),e.restore()}}},function(e,t,n){"use strict";n.d(t,"a",function(){return r});var o=n(214),r={draw:function(e,t,n,r){var i=1.8*r;e.save(),e.beginPath(),e.arc(t,n,r,0,2*Math.PI),e.fill(),e.translate(t-i/2,n-i/2),e.scale(i/o.a.w,i/o.a.h),o.a.d[0](e,{stack:0}),e.restore()}}},function(e,t,n){"use strict";n.d(t,"b",function(){return i}),n.d(t,"a",function(){return a});var r=n(62),s={YOUTUBE_ERROR_INVALID_PARAMETER:2,YOUTUBE_ERROR_HTML5_PLAYER:5,YOUTUBE_ERROR_NOT_FOUND:100,YOUTUBE_ERROR_FORBIDDEN:101,YOUTUBE_ERROR_FORBIDDEN_IN_DISGUISE:150};function i(){return new Promise(function(e){var t=document.createElement("script");t.id="yt-api",t.src="https://www.youtube.com/iframe_api";var n=document.getElementsByTagName("script")[0];n.parentNode&&(n.parentNode.insertBefore(t,n),window.onYouTubeIframeAPIReady=e)})}var u=(o.prototype.play=function(){return this._player.playVideo(),Promise.resolve()},o.prototype.pause=function(){this._player.pauseVideo()},o.prototype.destroy=function(){Object(r.f)(this._onFullscreenChange),this.fullscreenCallback=void 0,this.playStatusCallback=void 0,this._player.destroy()},o.prototype.isPlaying=function(){return this._player.getPlayerState()===window.YT.PlayerState.PLAYING},o.prototype.isFullscreen=function(){return this._isFullscreen},o.prototype.isReady=function(){return 0<this._player.getDuration()},o);function o(e,t){var n=this;babelHelpers.classCallCheck(this,o),this._isFullscreen=!1,this._maxReloadRetries=3,this._onFullscreenChange=function(){var e=document.getElementById(n.id);n._isFullscreen=!!e&&e.contains(Object(r.d)()),n.fullscreenCallback&&n.fullscreenCallback()},this._onStateChange=function(){n.playStatusCallback&&n.playStatusCallback()},this._player=t,this.id=e,Object(r.a)(this._onFullscreenChange)}function a(r,i,o,a){return new Promise(function(e,t){var n=new u(i,new window.YT.Player(i,{videoId:r,playerVars:{showinfo:0,autoplay:0,rel:0},events:{onReady:function(){o&&n._player.mute(),e(n)},onError:function(e){e.data===s.YOUTUBE_ERROR_HTML5_PLAYER&&0<n._maxReloadRetries?(n._maxReloadRetries--,n._player.loadVideoById(r)):a()},onStateChange:function(){return n._onStateChange()}}}))})}},function(e,t,n){"use strict";n.d(t,"a",function(){return d}),n.d(t,"b",function(){return r}),n.d(t,"c",function(){return i});var u=n(1),c=n(61),l=n(89);function d(e,t){return{clipping:{},licenses:null,description:"",userDisplayName:e,title:t,contentRating:{},access:"public",downloadable:!1,adsenseAccount:null}}function r(e,o,a,t,n){function r(){return Math.round(Date.now()-s)}var i=e+"/call/reader/api/dynamic/"+o+"/"+a,s=Date.now();return Object(l.a)(i,{timeout:5e3,readerSessionHeader:t}).then(function(e){return n&&n.monitor("reader3-dynamicapi-stats",{success:1,success_time:r()}),e}).catch(function(e){if(n&&n.monitor("reader3-dynamicapi-stats",{failure:1,failure_time:r()}),e.name===c.d&&404===e.code)throw new c.a(u.e,-1);return{metadata:{},licenses:null,adsenseAccount:null}}).then(function(e){var t=e.metadata,n=void 0===t?{}:t,r=e.licenses,i=e.adsenseAccount;return babelHelpers.extends({},d(o,a),{licenses:r},n,{adsenseAccount:i})})}function i(r,i,o){return new Promise(function(t,e){var n=r+"/call/reader/api/links/"+i+"/"+o;Object(l.a)(n).then(function(e){t(e)},function(){e(new Error(u.c))})})}},,,,function(e,t,n){"use strict";t.a={w:24,h:24,d:[function(e,t){e.save(),t.stack++,e.strokeStyle="rgba(0,0,0,0)",e.fillStyle="#9AA8A9",e.lineCap="butt",e.lineJoin="miter",e.miterLimit=4,e.translate(0,0),e.translate(0,0),e.translate(0,0),e.scale(1,1),e.translate(0,0),e.save(),t.stack++,e.save(),t.stack++,e.translate(7,7),e.save(),t.stack++,e.beginPath(),e.moveTo(6.777879,6.845484),e.bezierCurveTo(5.790032,7.833332,4.188142,7.833223,3.200156,6.845237),e.bezierCurveTo(2.21224,5.85732,2.21224,4.255678,3.200156,3.267761),e.bezierCurveTo(4.188224,2.279694,5.789619,2.279748,6.777632,3.267761),e.bezierCurveTo(7.765715,4.255844,7.765877,5.857486,6.777879,6.845484),e.lineTo(8.24994,8.317545),e.bezierCurveTo(10.051001,6.516484,10.050705,3.596713,8.249693,1.795701),e.bezierCurveTo(6.448705,-.005287,3.529182,-.005386,1.728095,1.795701),e.bezierCurveTo(-.072818,3.596614,-.072818,6.516385,1.728095,8.317298),e.bezierCurveTo(3.529034,10.118236,6.449051,10.118434,8.24994,8.317545),e.lineTo(6.777879,6.845484),e.lineTo(6.777879,6.845484),e.closePath(),e.fill(),e.stroke(),e.restore(),t.stack--,e.restore(),t.stack--,e.save(),t.stack++,e.fillStyle="rgba(154, 168, 169, 0.5)",e.beginPath(),e.moveTo(12,23),e.bezierCurveTo(18.075132,23,23,18.075132,23,12),e.bezierCurveTo(23,5.924868,18.075132,1,12,1),e.bezierCurveTo(5.924868,1,1,5.924868,1,12),e.bezierCurveTo(1,18.075132,5.924868,23,12,23),e.closePath(),e.moveTo(12,20.025024),e.bezierCurveTo(16.432099,20.025024,20.025024,16.432099,20.025024,12),e.bezierCurveTo(20.025024,7.567901,16.432099,3.974976,12,3.974976),e.bezierCurveTo(7.567901,3.974976,3.974976,7.567901,3.974976,12),e.bezierCurveTo(3.974976,16.432099,7.567901,20.025024,12,20.025024),e.closePath(),e.fill("evenodd"),e.stroke(),e.restore(),t.stack--,e.save(),t.stack++,e.fillStyle="#9AA8A9",e.beginPath(),e.moveTo(3.977469,12.202011),e.bezierCurveTo(3.880403,13.366651,2.944759,13.653612,2.481445,13.656799),e.bezierCurveTo(1.992432,13.660164,1,13.117421,1,12),e.bezierCurveTo(1,5.924868,5.924868,1,12,1),e.bezierCurveTo(18.075132,1,23,5.924868,23,12),e.bezierCurveTo(23,13.127857,22.037891,13.51123,21.543091,13.51123),e.bezierCurveTo(21.048291,13.511231,20.045776,13.203328,20.045776,12),e.bezierCurveTo(20.045776,11.948528,20.038295,11.898609,20.023654,11.850214),e.bezierCurveTo(19.943791,7.487233,16.382062,3.974976,12,3.974976),e.bezierCurveTo(7.567901,3.974976,3.974976,7.567901,3.974976,12),e.bezierCurveTo(3.974976,12.067535,3.97581,12.134875,3.977469,12.202011),e.closePath(),e.fill(),e.stroke(),e.restore(),t.stack--,e.restore(),t.stack--,e.restore(),t.stack--}],i:{}}},function(e,t,n){"use strict";t.a={w:36,h:36,d:[function(e,t){e.save(),t.stack++,e.strokeStyle="rgba(0,0,0,0)",e.lineCap="butt",e.lineJoin="miter",e.miterLimit=4,e.translate(0,0),e.translate(0,0),e.translate(0,0),e.scale(1,1),e.translate(0,0),e.save(),t.stack++,e.fillStyle="rgba(0,0,0,0)",e.strokeStyle="rgba(0,0,0,0)",e.lineWidth=1,e.save(),t.stack++,e.fillStyle="#F2F2F2",e.strokeStyle="rgba(0,0,0,0)",e.lineWidth=1,e.save(),t.stack++,e.fillStyle="#F2F2F2",e.strokeStyle="rgba(0,0,0,0)",e.lineWidth=1,e.translate(8,10),e.save(),t.stack++,e.fillStyle="#F2F2F2",e.strokeStyle="rgba(0,0,0,0)",e.lineWidth=1,e.beginPath(),e.moveTo(16.683499,11.621507),e.bezierCurveTo(15.72267,11.621507,14.892862,12.262398,14.630817,13.116921),e.lineTo(7.861335,13.116921),e.bezierCurveTo(7.59929,12.347851,6.987853,11.792411,6.158046,11.664233),e.lineTo(6.027023,10.766984),e.lineTo(17.513307,9.228843),e.bezierCurveTo(17.819025,9.186117,18.08107,8.929761,18.08107,8.587952),e.lineTo(18.08107,2.520841),e.bezierCurveTo(18.08107,2.179032,17.775351,1.87995,17.425959,1.87995),e.lineTo(4.760475,1.87995),e.lineTo(4.585779,.55544),e.bezierCurveTo(4.542105,.256357,4.28006,0,3.930667,0),e.lineTo(.655111,0),e.bezierCurveTo(.305719,0,0,.299083,0,.640892),e.bezierCurveTo(0,.982701,.305719,1.281784,.655111,1.281784),e.lineTo(3.31923,1.281784),e.lineTo(4.891497,11.792411),e.bezierCurveTo(4.149038,12.13422,3.624949,12.860564,3.624949,13.715087),e.bezierCurveTo(3.624949,14.911418,4.585779,15.851393,5.808653,15.851393),e.bezierCurveTo(6.769483,15.851393,7.59929,15.210501,7.861335,14.355979),e.lineTo(14.587143,14.355979),e.bezierCurveTo(14.849188,15.210501,15.678995,15.851393,16.639825,15.851393),e.bezierCurveTo(17.8627,15.851393,18.823529,14.911418,18.823529,13.715087),e.bezierCurveTo(18.823529,12.518755,17.8627,11.621507,16.683499,11.621507),e.lineTo(16.683499,11.621507),e.closePath(),e.moveTo(16.770848,3.161733),e.lineTo(16.770848,8.032512),e.lineTo(5.896001,9.442474),e.lineTo(4.978845,3.119007),e.lineTo(16.770848,3.161733),e.lineTo(16.770848,3.161733),e.closePath(),e.moveTo(5.808653,14.612336),e.bezierCurveTo(5.328238,14.612336,4.935171,14.2278,4.935171,13.757813),e.bezierCurveTo(4.935171,13.287826,5.328238,12.90329,5.808653,12.90329),e.bezierCurveTo(6.289068,12.90329,6.682135,13.287826,6.682135,13.757813),e.bezierCurveTo(6.682135,14.2278,6.289068,14.612336,5.808653,14.612336),e.lineTo(5.808653,14.612336),e.closePath(),e.moveTo(16.683499,14.612336),e.bezierCurveTo(16.203084,14.612336,15.810018,14.2278,15.810018,13.757813),e.bezierCurveTo(15.810018,13.287826,16.203084,12.90329,16.683499,12.90329),e.bezierCurveTo(17.163914,12.90329,17.556981,13.287826,17.556981,13.757813),e.bezierCurveTo(17.556981,14.2278,17.163914,14.612336,16.683499,14.612336),e.lineTo(16.683499,14.612336),e.closePath(),e.fill(),e.stroke(),e.restore(),t.stack--,e.restore(),t.stack--,e.restore(),t.stack--,e.restore(),t.stack--,e.restore(),t.stack--}],i:{}}},function(e,t,n){"use strict";t.a={w:36,h:36,d:[function(e,t){e.save(),t.stack++,e.strokeStyle="rgba(0,0,0,0)",e.lineCap="butt",e.lineJoin="miter",e.miterLimit=4,e.translate(0,0),e.translate(0,0),e.translate(0,0),e.scale(1,1),e.translate(0,0),e.save(),t.stack++,e.fillStyle="rgba(0,0,0,0)",e.strokeStyle="rgba(0,0,0,0)",e.lineWidth=1,e.save(),t.stack++,e.fillStyle="#F2F2F2",e.strokeStyle="#F2F2F2",e.lineWidth=2,e.save(),t.stack++,e.fillStyle="#F2F2F2",e.strokeStyle="#F2F2F2",e.lineWidth=2,e.beginPath(),e.moveTo(12.340871,10.014123),e.bezierCurveTo(12.438705,9.987436,12.545844,9.99788,12.638453,10.051348),e.lineTo(25.723194,17.605827),e.bezierCurveTo(25.744171,17.617938,25.76355,17.631794,25.781276,17.647113),e.bezierCurveTo(25.850585,17.681197,25.910658,17.735014,25.951029,17.804939),e.bezierCurveTo(26.061419,17.99614,25.995389,18.240929,25.808595,18.348775),e.lineTo(12.645177,25.948678),e.bezierCurveTo(12.576466,25.988348,12.500235,26.004075,12.425883,25.999113),e.bezierCurveTo(12.41723,25.999695,12.408519,25.99999,12.399759,25.99999),e.bezierCurveTo(12.178978,25.99999,12,25.820411,12,25.604721),e.lineTo(12,10.404915),e.bezierCurveTo(12,10.206904,12.152566,10.0429,12.340871,10.014123),e.lineTo(12.340871,10.014123),e.closePath(),e.fill(),e.stroke(),e.restore(),t.stack--,e.restore(),t.stack--,e.restore(),t.stack--,e.restore(),t.stack--}],i:{}}},function(e,t,n){"use strict";var r=n(355);n.d(t,"a",function(){return r.a});var i=n(94);n.d(t,"b",function(){return i.c}),n.d(t,"c",function(){return i.d})},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,n){"use strict";n.d(t,"b",function(){return i}),n.d(t,"a",function(){return o});var d=n(360),p=n(208);function r(){return function(e){var t=e.origins,r=e.username,i=e.documentName,n=e.metrics,o=e.sessionId,a=e.isRobot,s=void 0!==a&&a,u=void 0,c=void 0;function l(){u=Object(d.a)(t.reader3,r,i),c=s?Promise.resolve(Object(p.a)(r,i)):Object(p.b)(t.api,r,i,o,n)}return l(),{reset:function(){l()},whenDocumentBaseFetched:function(){return u.then(function(e){return{pageCount:e.pages.length,pages:e.pages.map(function(e,t){return{pageNumber:t+1,height:e.height,width:e.width,layersInfo:e.layersInfo,imageUri:e.imageUri,isPagePaywalled:e.isPagePaywalled}}),isPaywalled:e.isPaywallPreview,originalPublishDate:e.originalPublishDate}})},whenDocumentExtraFetched:function(){return Promise.all([u,c]).then(function(e){var t=e[0],n=e[1];return{publicationId:t.publicationId,revisionId:t.revisionId,username:r,documentName:i,access:n.access,description:n.description,downloadable:n.downloadable,title:n.title,userDisplayName:n.userDisplayName,contentRating:n.contentRating}})},whenDocumentTextFetched:function(){return u.then(function(e){var t=e.textInfo;return{textInfoPath:t.uri,textInfoSize:t.size,textInfoVersion:t.version}})},whenDocumentLinksFetched:function(){return s?Promise.resolve({}):Object(p.c)(t.api,r,i)},whenLicensesFetched:function(){return c.then(function(e){var t=e.licenses;if(!t)throw new Error("Licenses failed loading");return Object.keys(t)})},whenAdsenseAccountFetched:function(){return c.then(function(e){var t=e.adsenseAccount;return t||Promise.reject()})}}}}var i=r(),o=r()},function(e,t,n){"use strict";n.d(t,"a",function(){return r}),n.d(t,"b",function(){return a});var i=n(57),o=function(){return{status:i.d.NOTLOADED,isNotAvailable:!1,isPaid:!1,publicationPriceAmount:0,publicationPriceCurrency:"USD",readPurchasedPath:null}};function r(e,t,n){var r=o();return Object.assign({},r,{status:i.d.LOADED,isPaid:e,publicationPriceAmount:t,publicationPriceCurrency:n})}function a(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:o(),t=arguments[1];switch(t.type){case i.b:return Object.assign({},e,{status:i.d.LOADING});case i.c:return Object.assign({},e,{status:i.d.ERROR});case i.a:return{status:i.d.LOADED,isNotAvailable:!!t.isNotAvailable,isPaid:!!t.currentUserPurchased,publicationPriceAmount:t.priceAmount,publicationPriceCurrency:t.priceCurrency,readPurchasedPath:t.readPurchasedPath};default:return e}}},,,,,function(e,t,n){"use strict";n.d(t,"b",function(){return c}),n.d(t,"a",function(){return d});var r=n(0),i=n.n(r),o=n(105),a="fe-microservice-cookie-consent/dismissed",s=function(){try{return"true"===localStorage.getItem(a)}catch(e){return!1}},u=function(){try{return/^(.*;)?\s*site.model.token\s*=\s*[^;]+(.*)?$/.test(document.cookie)}catch(e){return!1}};function c(){return!(s()||u())}var l,d=(l=r.Component,babelHelpers.inherits(p,l),p.prototype.onSubmit=function(){!function(){try{localStorage.setItem(a,"true")}catch(e){}}(),this.setState({isDismissed:!0})},p.prototype.render=function(){var e=this;return this.state.isDismissed?null:i.a.createElement(o.b,{className:"msgbox-CookieConsent",onSubmit:function(){return e.onSubmit()},text:"Our website uses cookies to store your settings, recommend content, target ads and gather statistics. This information is shared with 3rd parties. By using our site, you agree to our use of cookies.",buttonText:"I understand",linkText:"Learn More",linkUrl:"/legal/cookies",boxType:o.a.INFO})},p);function p(e){babelHelpers.classCallCheck(this,p);var t=babelHelpers.possibleConstructorReturn(this,l.call(this,e));return t.state={isDismissed:!c()},t}},function(e,t,n){"use strict";n.d(t,"b",function(){return s}),n.d(t,"a",function(){return u});var r=n(6),i=n(32),o=n(5),a=n(12),f=n(34),m=n(25);function g(e,t,n){return{proportion:e,done:t,available:n}}var s=Object(r.a)(o.I,function(e){return 0<e&&e<100?[{proportion:Math.round(e),done:!0,available:!0},{proportion:100-Math.round(e),done:!1,available:!0}]:[{proportion:100,done:100===e,available:!0}]}),u=Object(r.a)(o.n,o.t,a.d,i.c,i.a,o.B,function(e,t,n,r,i,o){n.pageCount;for(var a=t+1,s=[g(2,0<e,!0)],u=i?r.map(function(e){return Object(f.a)(o,e)}):[],c=1;c<a;c++){var l=s[s.length-1],d=!u.includes(c),p=c<=e,h=2;o===m.DOUBLE_PAGE_SPREAD&&c<t&&(h=4),c===e&&c<t?(s.push(g(o===m.DOUBLE_PAGE_SPREAD?2:1,!0,d)),s.push(g(o===m.DOUBLE_PAGE_SPREAD?2:1,!1,d))):p===l.done&&d===l.available?l.proportion+=h:s.push(g(h,p,d))}return s})},,function(e,t,n){"use strict";n.d(t,"a",function(){return r});var r='\n    <svg width="43" height="36" viewBox="0 0 43 36" xmlns="http://www.w3.org/2000/svg">\n        <title>Rectangle 425 + Rectangle 425 Copy 2 + Rectangle 429</title>\n        <g fill="#9AA8A9" fill-rule="evenodd" opacity=".3">\n            <path d="M42.934 18.503c.032-.338-.107-.682-.396-.9L30.273 8.36c-.435-.327-1.08-.243-1.418.206-.34.45-.25 1.084.194 1.42l11.303 8.517L29.05 27.02c-.446.336-.535.97-.195 1.42.338.45.983.533 1.418.205l12.265-9.242c.29-.218.428-.562.396-.9zM.466 18.503c-.032-.338.107-.682.397-.9L13.127 8.36c.435-.327 1.08-.243 1.418.206.34.45.25 1.084-.194 1.42L3.05 18.502 14.35 27.02c.446.336.536.97.195 1.42-.338.45-.983.533-1.418.205L.863 19.403c-.29-.218-.43-.562-.397-.9z"/><rect transform="rotate(14 22.02 17.898)" x="21.039" y="-.102" width="1.964" height="36" rx=".982"/>\n        </g>\n    </svg>\n'},,,function(e,t,n){"use strict";n.d(t,"a",function(){return r}),n.d(t,"b",function(){return o});var i=n(34);function r(e,t){var n=t.length;if(n-1<=e)return-1;if(!Object(i.c)(t[e]))return e+1;for(var r=e+1;r<n;r++)if(!Object(i.c)(t[r]))return r;return-1}function o(e,t){if(e<1)return-1;if(!Object(i.c)(t[e]))return e-1;for(var n=e-1;0<=n;n--)if(!Object(i.c)(t[n]))return n;return-1}},,function(e,t,n){"use strict";n.d(t,"a",function(){return c});var a,s=n(424),r=n(260),i=n(425),l=n(4),d=n(67),o=n(52),u=n(64),c=(a=l.b,babelHelpers.inherits(p,a),p.prototype.componentDidMount=function(){this.updateUnzoomedSizes()},p.prototype.componentDidUpdate=function(e){this.props.transform.isEqualWith(e.transform)||this.updateUnzoomedSizes()},p.prototype.updateUnzoomedSizes=function(){var e=this.transform.transformRect(l.b.RectPool.get(0,0,this.width,this.height));this.unzoomedWidthInHWPx=Math.floor(e.width),this.unzoomedHeightInHWPx=Math.floor(e.height),l.b.RectPool.release(e)},p.prototype.shouldRenderVideoThumb=function(){return this.model.links.some(function(e){return Object(o.b)(e)})},p.prototype.getChildrenToTraverse=function(){return this.props.mayRenderLinks?a.prototype.getChildrenToTraverse.call(this):a.prototype.getChildrenToTraverse.call(this).filter(function(e){return!(e instanceof r.a)})},p.prototype.getChildTree=function(e){var t=this;return[l.b.createElement(i.a,{model:this.props.isPaywalled?null:this.model.textInfoPage,results:this.props.isPaywalled?[]:this.model.findResults,selectedResult:this.props.isPaywalled?null:this.model.selectedFindResult,renderManager:this.props.renderManager,pageType:this.pageType})].concat(this.model.links.map(function(e){return l.b.createElement(r.a,{arrivedAtSpreadTick:t.props.mayRenderLinks?t.props.arrivedAtSpreadTick:0,dispatch:t.props.dispatch,featureTracker:t.props.featureTracker,hideLinkToolTip:t.props.hideLinkToolTip,isToggledOn:t.props.isLinksToggledOn,model:e,showLinkToolTip:t.props.showLinkToolTip})}))},p.prototype.getOperations=function(e,t,n){var r=Object(d.c)(e,this.pageType),i=Object(d.d)(r,t,n);if(this.updatePagePosition(r),0===i.width||0===i.height)return{done:!0,ops:[]};var o=[r.width/this.props.model.width,0,0,r.height/this.props.model.height,Math.min(0,r.x),Math.min(0,r.y)];try{var a=this.props.renderManager.generateSurfaces(o,r,i,this.unzoomedWidthInHWPx,this.unzoomedHeightInHWPx,this.pageNumber,this.inAnimation,l.b.lastTick);if(this.shouldRenderVideoThumb()){var s,u=this.props.renderManager.generateVideoThumbSurfaces(this.pageNumber,r,l.b.lastTick);0!==a.ops.length&&((s=a.ops).push.apply(s,u.ops),a.done=a.done&&u.done)}return a}catch(e){var c={matrix:o,cappedWidth:i.width,cappedHeight:i.height,unzoomedWidthInHWPx:this.unzoomedWidthInHWPx,unzoomedHeightInHWPx:this.unzoomedHeightInHWPx,pageNumber:this.pageNumber,inAnimation:this.inAnimation};throw e.sentry_extra=babelHelpers.extends({},e.sentry_extra,{renderOps:c}),e}},p.prototype.draw=function(e,t){var r=Object(d.c)(t,this.pageType),n=this.getOperations(t,e.canvas.width,e.canvas.height),i=n.ops,o=n.done;i.forEach(function(t){if(t.type===u.a)return e.fillStyle="black",void e.fillRect(t.dest_px.x+r.x,t.dest_px.y+r.y,t.dest_px.width,t.dest_px.height);if(!(t.src_px.width<=0||t.src_px.height<=0))try{e.drawImage(t.surface,t.src_px.x,t.src_px.y,t.src_px.width,t.src_px.height,t.dest_px.x+r.x,t.dest_px.y+r.y,t.dest_px.width,t.dest_px.height)}catch(e){var n={src_px:t.src_px,dest_px:t.dest_px,width:t.surface.width,height:t.surface.height};throw e.sentry_extra=babelHelpers.extends({},e.sentry_extra,{renderImage:n}),e}}),o||0!==i.length||(e.fillStyle="#f2f2f2",e.fillRect(t.x,t.y,t.width,t.height),s.a.draw(e,t.x+t.width/2,t.y+t.height/2,l.b.lastTick)),o||this.requestRedraw()},p.prototype.updatePagePosition=function(e){this.position.x=e.x,this.position.y=e.y,this.position.width=e.width,this.position.height=e.height},babelHelpers.createClass(p,[{key:"displayName",get:function(){return"Page"}},{key:"width",get:function(){return this.props.model.width}},{key:"height",get:function(){return this.props.model.height}},{key:"model",get:function(){return this.props.model}},{key:"pageType",get:function(){return this.props.pageType}},{key:"pageNumber",get:function(){return this.props.model.pageNumber}},{key:"transform",get:function(){return this.props.transform}}]),p);function p(){var e,t,n;babelHelpers.classCallCheck(this,p);for(var r=arguments.length,i=Array(r),o=0;o<r;o++)i[o]=arguments[o];return(e=t=babelHelpers.possibleConstructorReturn(this,a.call.apply(a,[this].concat(i)))).position={x:0,y:0,width:0,height:0},t.unzoomedWidthInHWPx=0,t.unzoomedHeightInHWPx=0,n=e,babelHelpers.possibleConstructorReturn(t,n)}},function(e,t,n){"use strict";n.d(t,"a",function(){return h});var a,i=n(4),r=n(56),s=n(158),o=n(205),u=n(206),c=n(7),l=n(51),d=n(23),p=n(52),h=(a=i.b,babelHelpers.inherits(f,a),f.prototype.componentDidUpdate=function(e){var t=this;this.props.arrivedAtSpreadTick&&!e.arrivedAtSpreadTick?this._initialFlashTimeoutId=window.setTimeout(function(){t._initialFlashTimeoutId=null,t._initialFlashAnimation.reset(i.b.lastTick),t.requestRedraw()},1e3):!this.props.arrivedAtSpreadTick&&e.arrivedAtSpreadTick&&(window.clearTimeout(this._initialFlashTimeoutId),this._initialFlashTimeoutId=null),this.props.isToggledOn&&!e.isToggledOn&&(this._toggleAnimation.options.reverse=!1,this._toggleAnimation.reset(i.b.lastTick)),!this.props.isToggledOn&&e.isToggledOn&&(this._toggleAnimation.options.reverse=!0,this._toggleAnimation.reset(i.b.lastTick)),this.props.isToggledOn&&!e.isToggledOn&&this.props.arrivedAtSpreadTick&&this._trackOpportunity()},f.prototype.onMouseEnter=function(e){this._hoverAnimation.reset(i.b.lastTick),this._hoverAnimation.options.reverse=!1,this._isHovered=!0,this.props.showLinkToolTip(this),this.requestRedraw(),this.props.isToggledOn||this._trackOpportunity()},f.prototype.onMouseLeave=function(e){var t=i.b.lastTick,n=this._hoverAnimation.value(t);this._hoverAnimation.reset(t-100*(1-n)),this._hoverAnimation.options.reverse=!0,this._isHovered=!1,this.props.hideLinkToolTip(),this.requestRedraw()},f.prototype.onSingleTap=function(e,t){return this._trackUsage(),this.props.dispatch(Object(l.d)(this.model)),!0},f.prototype.isAnimating=function(){var e=i.b.lastTick;return this._initialFlashAnimation.isRunning(e)||this._toggleAnimation.isRunning(e)||this._hoverAnimation.isRunning(e)},f.prototype.hoverOpacity=function(){var e=i.b.lastTick;return this._hoverAnimation.isRunning(e)?this._hoverAnimation.value(e):this._isHovered?1:0},f.prototype.initialFlashOpacity=function(){if(this.parent&&1<this.parent.parent.getZoom())return 0;var e=i.b.lastTick;if(this._initialFlashAnimation.isRunning(e)){var t=this._initialFlashAnimation.value(e);return t<.2?t/.2:t<.5?1:1-2*(t-.5)}return 0},f.prototype.linkToggleOpacity=function(){var e=i.b.lastTick;return this._toggleAnimation.isRunning(e)?this._toggleAnimation.value(e):this.props.isToggledOn?1:0},f.prototype.calculateOpacityForDrawing=function(){return this.shouldRenderVideoThumb()?0:Math.max(this.initialFlashOpacity(),this.linkToggleOpacity(),this.hoverOpacity())},f.prototype.shouldRenderVideoThumb=function(){return Object(p.b)(this.model)},f.prototype.getCustomCursor=function(){return!!this._isHovered&&"pointer"},f.prototype._trackOpportunity=function(){this.props.featureTracker.opportunity(c.a.PUBLICATION_LINK),Object(p.d)(this.model)&&this.props.featureTracker.opportunity(c.a.PUBLICATION_VIDEO_LINK)},f.prototype._trackUsage=function(){this.props.featureTracker.usage(c.a.PUBLICATION_LINK),Object(p.d)(this.model)&&this.props.featureTracker.usage(c.a.PUBLICATION_VIDEO_LINK)},f.prototype.draw=function(e,t){e.save(),e.beginPath();var n=this.calculateOpacityForDrawing();e.rect(t.x+.5,t.y+.5,t.width-1,t.height-1),e.strokeStyle="rgba(118, 165, 204, "+n+")",e.fillStyle="rgba(118, 165, 204, "+.5*n+")",e.fill(),e.stroke();var r=20*Object(d.a)();50<t.width&&50<t.height&&(Object(p.c)(this.model)&&(e.globalAlpha=n,e.fillStyle="rgba(0, 0, 0, 0.7)",o.a.draw(e,t.x+t.width/2,t.y+t.height/2,r)),Object(p.d)(this.model)&&(e.globalAlpha=n,e.fillStyle="rgba(0, 0, 0, 0.7)",u.a.draw(e,t.x+t.width/2,t.y+t.height/2,r))),e.restore()},f.prototype.appendWebglOps=function(e,t,n){var r=this.calculateOpacityForDrawing();0<r&&e.push({type:i.g,args:[this.model,r,Object.assign({},t)]})},f.prototype.afterDraw=function(e){this.isAnimating()&&this.requestRedraw()},babelHelpers.createClass(f,[{key:"displayName",get:function(){return"Link"}},{key:"model",get:function(){return this.props.model}},{key:"width",get:function(){return this.model.width}},{key:"height",get:function(){return this.model.height}},{key:"transform",get:function(){return this._transform||(this._transform=new r.a,this._transform.mTranslate(this.model.x,this.model.y)),this._transform}},{key:"isVisible",get:function(){return!(!this.props.arrivedAtSpreadTick||!this.shouldRenderVideoThumb()&&!this.props.isToggledOn&&!this._isHovered&&!this.isAnimating())}}]),f);function f(){var e,t,n;babelHelpers.classCallCheck(this,f);for(var r=arguments.length,i=Array(r),o=0;o<r;o++)i[o]=arguments[o];return(e=t=babelHelpers.possibleConstructorReturn(this,a.call.apply(a,[this].concat(i))))._isHovered=!1,t._hoverAnimation=new s.a(Number.MAX_VALUE,100),t._initialFlashAnimation=new s.a(Number.MAX_VALUE,800),t._toggleAnimation=new s.a(Number.MAX_VALUE,100),t._initialFlashTimeoutId=null,n=e,babelHelpers.possibleConstructorReturn(t,n)}},function(e,t,n){"use strict";n.d(t,"a",function(){return i}),n.d(t,"b",function(){return s});var u=n(102),r=n(1),a={_pool:[],get:function(){return this._pool.length?this._pool.pop():document.createElement("canvas")},release:function(e){this._pool.push(e)}},c=/Chrom(e|ium)/.test(navigator.userAgent),i=(o.prototype._initState=function(e,t,n,r){var i=e?e.ctx:null;if(!i||i.canvas.width!==t||i.canvas.height!==n){var o=i?i.canvas:a.get();o.width=t,o.height=n,i=o.getContext("2d",{alpha:!r})}return{ctx:i}},o.prototype.draw=regeneratorRuntime.mark(function e(t,n,r,i,o,a){var s;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return s=this._initState(t,i,o,a),e.delegateYield(Object(u.e)(s.ctx,r,n,c),"t0",2);case 2:return e.abrupt("return",s);case 3:case"end":return e.stop()}},e,this)}),o.prototype.drawImage=function(e,t,n,r){var i=this._initState(e,n,r,!0);return i.ctx.drawImage(t,0,0,n,r),i},o.prototype.release=function(e){function t(){n.width=0,n.height=0,a.release(n)}var n=e.ctx.canvas;c?t():Object(r.t)().rIC(t)},o.prototype.getSurface=function(e){return e.ctx.canvas},o);function o(e,t){babelHelpers.classCallCheck(this,o),this.hintMaxWidth=e,this.hintMaxHeight=t}var s=(l.prototype.draw=function(e,t,n,r){var i=this.gl,o=t.width,a=t.height;if(o>this.maxTextureSize||a>this.maxTextureSize)throw new Error("Requested creation of too large texture of size "+o+"x"+a+". maxTextureSize: "+this.maxTextureSize);var s=e?e.texture:i.createTexture();return i.pixelStorei(i.UNPACK_FLIP_Y_WEBGL,!0),i.bindTexture(i.TEXTURE_2D,s),e&&e.width===o&&e.height===a||i.texImage2D(i.TEXTURE_2D,0,i.RGBA,o,a,0,i.RGBA,i.UNSIGNED_BYTE,null),i.texSubImage2D(i.TEXTURE_2D,0,0,0,i.RGBA,i.UNSIGNED_BYTE,t),i.texParameteri(i.TEXTURE_2D,i.TEXTURE_MAG_FILTER,i.LINEAR),i.texParameteri(i.TEXTURE_2D,i.TEXTURE_WRAP_S,i.CLAMP_TO_EDGE),i.texParameteri(i.TEXTURE_2D,i.TEXTURE_WRAP_T,i.CLAMP_TO_EDGE),i.texParameteri(i.TEXTURE_2D,i.TEXTURE_MIN_FILTER,i.NEAREST),i.bindTexture(i.TEXTURE_2D,null),{texture:s,width:o,height:a,imgWidth:n,imgHeight:r}},l.prototype.release=function(e){var t=this.gl,n=e.texture;Object(r.t)().rIC(function(){t.deleteTexture(n)})},l.prototype.getSurface=function(e){return e},l);function l(e){babelHelpers.classCallCheck(this,l),this.gl=e,this.maxTextureSize=e.getParameter(e.MAX_TEXTURE_SIZE)}},function(e,t,n){"use strict";n.d(t,"a",function(){return i});var d=n(437),r=n(73);var s={x:0,y:0,z:0},u={x:0,y:0,z:0};function a(e,t,n,r){s.x=e.x,s.y=e.y,s.z=e.z,u.x=e.x,u.y=e.y,u.z=e.z;var i=s,o=u;0<r&&(i.y=1-i.y),function(e,t,n){var r=Math.sin(t),i=Math.cos(t),o=e.y-n,a=Math.sqrt(e.x*e.x+o*o),s=Math.asin(e.x/a)/r,u=a*r,c=Math.sin(s),l=Math.cos(s);e.x=u*c,e.y=a+n-u*(1-l)*r,e.z=u*(1-l)*i}(i,t,n),0<r&&(i.y=1-i.y),function(e,t,n){var r=Math.sqrt(1+(1-n)*(1-n))*Math.sin(t),i=e.x/r;e.x=r*Math.sin(i),e.z=r-r*Math.cos(i)}(o,t,n);var a=Math.abs(r);e.x=a*i.x+(1-a)*o.x,e.y=a*i.y+(1-a)*o.y,e.z=a*i.z+(1-a)*o.z}function m(e){return r.a(0,1,e)*Math.PI}function g(e){return r.c(.5,.082,e)*Math.PI}function v(e){return(e=Math.max(Math.min(e,1),0))<.98?-6.8*Math.pow(e/.98,20)-1.3:-391.9*Math.pow((e-.98)/(1-.98),6)-8.1}var i=(E.prototype._tweakDepth=function(e){return.8*Math.max(e,this.minDepth)},E.prototype._getPerspectiveCorrection=function(e){return 1+e/.8*-.2},E.prototype._bendPoint=function(e,t,n,r,i,o){a(e,t,n,i),function(e,t){var n=Math.sin(t),r=Math.cos(t),i=e.x*r-e.z*n,o=e.x*n+e.z*r;e.x=i,e.z=o}(e,r),e.x*=o?-1:1,e.z=this._tweakDepth(e.z)},E.prototype.bend=function(e,t){for(var n=1/e<0,r=Math.abs(e),i=m(r),o=g(r),a=v(r),s=this._point,u=0;u<this.size;u++)for(var c=0;c<this.size;c++){s.x=c/(this.size-1),s.y=u/(this.size-1),s.z=0,this._bendPoint(s,o,a,i,t,n);var l=u*this.size*3+3*c;this.vertices[0+l]=s.x,this.vertices[1+l]=s.y,this.vertices[2+l]=s.z,this.perspectiveCorrections[u*this.size+c]=this._getPerspectiveCorrection(s.z)}Object(d.a)(this.size,this.vertices,this.normals,this.backFacingNormals)},E.prototype.calculateProgress=function(e,t,n,r,i){var o=e<t;if(o){if(n<=e)return-0;if(t<=n)return-1}else{if(e<=n)return 0;if(n<=t)return 1}for(var a=this._point,s=o?-.5:.5,u=0;u<16;u++){var c=Math.abs(s),l=m(c),d=g(c),p=v(c);a.x=1,a.y=(i+1)/2,a.z=0,this._bendPoint(a,d,p,l,i,o);var h=a.x/this._getPerspectiveCorrection(a.z),f=r.x+r.width*h;if(Math.abs(f-n)<1)break;s+=Math.sign(f-n)/Math.pow(2,u+2)}return Math.max(Math.min(s,1),-1)},E);function E(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:0;if(babelHelpers.classCallCheck(this,E),this._point={x:0,y:0,z:0},e<2)throw new Error("size must be at least 2");this.minDepth=t;for(var n=[],r=[],i=[],o=[],a=[],s=[],u=[],c=[],l=0;l<e;l++)for(var d=l/(e-1),p=0;p<e;p++){var h=p/(e-1),f=this._tweakDepth(0);n.push(h,d,f),r.push(0,0,1),o.push(this._getPerspectiveCorrection(f)),a.push(h,d),s.push(0,0,-1),c.push(1-h,d)}for(var m=0;m<e-1;m++)for(var g=(m+0)*e,v=(m+1)*e,b=0;b<e-1;b++){var _=g+b,y=v+b;i.push(y,_,y+1),i.push(_,_+1,y+1),u.push(y+1,_+1,y),u.push(_+1,_,y)}this.size=e,this.indices=new Uint16Array(i),this.vertices=new Float32Array(n),this.normals=new Float32Array(r),this.perspectiveCorrections=new Float32Array(o),this.textureCoords=new Float32Array(a),this.backFacingIndices=new Uint16Array(u),this.backFacingNormals=new Float32Array(s),this.backFacingTextureCoords=new Float32Array(c)}},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,n){"use strict";n.d(t,"a",function(){return r});var o=n(356),a=n(61);function r(e,i,t){var n=void 0;function r(){n=function(){return Object(o.a)(e.api,i.originalFileId,t).catch(function(e){if(e.name===a.d&&202===e.code)return function(e){var t=0<arguments.length&&void 0!==e?e:0;return new Promise(function(e){window.setTimeout(function(){e()},t)})}(2e3).then(function(){return n()});throw e})}}return r(),{reset:function(){r()},whenDocumentBaseFetched:function(){return n().then(function(e){var t=e.pageCount,n=e.pages,r=e.blurredPages;return{pageCount:t,pages:(i.currentUserPurchased?n:n.map(function(e,t){var n=t+1;return i.previewPageNumbers.includes(n)?e:r[t]})).map(function(e,t){return{pageNumber:t+1,height:e.height,width:e.width,imageUri:e.imageUri,layersInfo:e.layersInfo,isPagePaywalled:e.isPagePaywalled}}),isPaywalled:!i.currentUserPurchased}})},whenDocumentExtraFetched:function(){return Promise.resolve({publicationId:"",revisionId:"",username:i.username,documentName:"",access:"public",description:"",downloadable:!1,title:i.title,userDisplayName:i.userDisplayName,contentRating:{}})},whenDocumentTextFetched:function(){return new Promise(function(){})},whenDocumentLinksFetched:function(){return new Promise(function(){})},whenLicensesFetched:function(){return Promise.reject("Disable license check in paywallPreview mode")},whenAdsenseAccountFetched:function(){return Promise.reject("Do not fetch AdSense account in paywall preview mode")}}}},function(e,t,n){"use strict";n.d(t,"a",function(){return i}),n.d(t,"b",function(){return o});var r=n(101),a=n.n(r);function i(e,t,n,r){if(r)return"";var i="embed_context="+e;if(t){var o=new a.a(t).host();i+="&embed_domain="+encodeURIComponent(o)}return n&&(i+="&embed_id="+encodeURIComponent(n)),i}function o(e,t){return e&&t?(2<arguments.length&&void 0!==arguments[2]?arguments[2]:"?")+"embed_cta="+encodeURIComponent(e)+"&"+t:""}},function(e,t,n){"use strict";n.d(t,"a",function(){return i});var r=/^(?:Mediapartners-Google|Yahoo|MSNPTC|Baiduspider|Yandex|proximic|Ezooms)|bot\/|Yahoo! Slurp|Ask Jeeves\/Teoma|spider|crawl|ia_archiver|heritrix\//i;function i(e){return r.test(e)}},function(e,t,n){"use strict";n.d(t,"a",function(){return i});var r=n(53),p=n.n(r);function i(){if("function"==typeof window.requestIdleCallback&&"function"==typeof window.cancelIdleCallback)return{rIC:function(){var e;return(e=window).requestIdleCallback.apply(e,arguments)},cIC:function(){var e;return(e=window).cancelIdleCallback.apply(e,arguments)}};function i(e){u=!1;var t=e-c+r;t<r&&n<r?(t<8&&(t=8),r=t<n?n:t):n=t,c=e+r,a||(a=!0,window.postMessage(d,"*"))}var o=null,a=!1,s=-1,u=!1,c=0,n=33,r=33,l={didTimeout:!1,timeRemaining:function(){var e=c-p()();return 0<e?e:0}},d="__rIC$"+Math.random().toString(36).slice(2);window.addEventListener("message",function e(t){if(t.source===window&&t.data===d){a=!1;var n=p()();if(c-n<=0){if(!(-1!==s&&s<=n))return void(u||(u=!0,requestAnimationFrame(i)));l.didTimeout=!0}else l.didTimeout=!1;s=-1;var r=o;o=null,window.removeEventListener("message",e,!1),null!==r&&r(l)}},!1);return{rIC:function(e,t){return o=e,t&&"number"==typeof t.timeout&&(s=p()()+t.timeout),u||(u=!0,requestAnimationFrame(i)),0},cIC:function(e){o=null,a=!1,s=-1}}}},function(e,t,n){"use strict";function r(e){return e.replace(/^(https?:\/\/[^/?#]*).*$/,"$1")}function i(e){var t=r(e);return/^https?:\/\/(.*\.)?t?issuu\.com(:\d+)?$/.test(t)}function o(){if(!function(){if(window.top!==window.self)return!0;try{if(window.frameElement)return!0}catch(e){return!0}return!1}())throw new Error("This reader MUST be loaded inside an iframe");var e=window.document.referrer.toString(),t=!e;if(!(i(e)||function(e){var t=r(e);return!!/^https?:\/\/translate\.googleusercontent\.com$/.test(t)||(!!/^https?:\/\/www\.google(\.com?)?\.[^\.]{2,3}$/.test(t)||(!!/^https?:\/\/goo\.gl$/.test(t)||!!/^https?:\/\/m\.facebook\.com$/.test(t)))}(e)||t))throw new Error("This reader is not loaded inside an iframe, which is hosted on *.issuu.com")}function a(){o(),function(){try{document.domain&&(document.domain=document.domain.split(".").slice(-2).join("."))}catch(e){}}()}n.d(t,"a",function(){return r}),n.d(t,"b",function(){return i}),n.d(t,"c",function(){return a})},function(e,t,n){"use strict";function r(e){return e.replace(/^(([^<>()[\]\\.,;:\s(@|%40)"]+(\.[^<>()[\]\\.,;:\s(@|%40)"]+)*)|(".+"))(@|%40)((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/,"REDACTED_EMAIL")}function i(){var e=history.state,t=function(e){var t=[];return e.replace(/^\?/,"").split("&").forEach(function(e){t.push(e.split("=").map(r).join("="))}),t}(document.location.search).join("&"),n=""+document.location.origin+document.location.pathname+"?"+t;history.replaceState(e,"",n)}n.d(t,"a",function(){return i})},function(e,t,n){"use strict";n.d(t,"a",function(){return r}),window._qevents=window._qevents||[];var r=(i.prototype.destroy=function(){},i.prototype.track=function(){window.__qc&&(window.__qc.qpixelsent=[]);try{window._qevents.push({qacct:this._quantcastId})}catch(e){}},i);function i(e){var t=e.quantcastId;babelHelpers.classCallCheck(this,i),this._quantcastId=t}},function(e,t,n){"use strict";n.d(t,"a",function(){return i});var r=[{test:function(e){return"/issuu/docs/issuu_digitaltoolkit"===e},prefix:function(e){return e},account:"UA-93458571-5"},{test:function(e){return e.startsWith("/refractionmedia/")},prefix:function(e){return"/issuu.com"+e},account:"UA-98221222-1"},{test:function(e){return e.startsWith("/sister_magazine/")},prefix:function(e){return"/issuu.com"+e},account:"UA-61842196-1"},{test:function(e){return e.startsWith("/[username]/")},prefix:function(e){return"/issuu.com"+e},account:"UA-xxxxxxxx-y"},{test:function(e){return"/[username]/docs/[docname]"===e},prefix:function(e){return e},account:"UA-xxxxxxxx-y"}],i=(o.prototype.destroy=function(){},o.prototype._validate=function(e){if(!e.startsWith("/"))throw new Error("GA: The path portion of a URL must start with a slash (/) character.")},o.prototype.sendInitialPageview=function(e){this._validate(e),window.ga("send","pageview",e)},o.prototype.sendVirtualPageview=function(e){this._validate(e),window.ga("send","pageview",e)},o.prototype.handleDocumentLoadByPublisherAccount=function(n){r.forEach(function(e){if(e.test(n)){var t="publisherTracker";window.ga("create",e.account,"auto",t),window.ga(t+".send","pageview",""+e.prefix(n))}})},o);function o(e){var t=e.gaId;babelHelpers.classCallCheck(this,o),t&&window.ga("create",t,"auto")}},function(e,t,n){"use strict";n.d(t,"e",function(){return i}),n.d(t,"d",function(){return o}),n.d(t,"a",function(){return a}),n.d(t,"c",function(){return s}),n.d(t,"b",function(){return u}),n.d(t,"f",function(){return c});var r=n(39);function i(){return""+r.l+r.i}function o(){return""+r.l+r.g}function a(){return""+r.l+r.a}function s(){return""+r.l+r.c}function u(){return""+r.l+r.b}function c(){return{api:""+r.l+r.a,main:""+r.l+r.g,image:""+r.l+r.e,photo:""+r.l+r.h,reader3:""+r.l+r.k}}},function(e,t,n){"use strict";n.d(t,"c",function(){return c}),n.d(t,"a",function(){return l}),n.d(t,"b",function(){return d}),n.d(t,"d",function(){return p}),n.d(t,"g",function(){return h}),n.d(t,"e",function(){return r}),n.d(t,"f",function(){return o});var a=n(120),s=n(39),u=[],c="The document could not be loaded.",l="The Clippings could not be loaded.",d="documentId is not found!",p="XHR could not load JSON";function h(n){a.configureScope(function(t){Object.keys(n).forEach(function(e){t.setExtra(e,n[e])})})}var r=(i.install=function(e){var n=e.sessionId,t=e.extraContext,r=void 0===t?{}:t,i=e.tagsContext,o=void 0===i?{}:i;a.init({dsn:"https://4ff726251e854b6187703bf21547f686@sentry.issuu.com/18",ignoreErrors:["top.GLOBALS","originalCreateNotification","canvas.contentDocument","MyApp_RemoveAllHighlights","http://tt.epicplay.com","Can't find variable: ZiteReader","jigsaw is not defined","ComboSearch is not defined","http://loading.retry.widdit.com/","atomicFindClose","fb_xd_fragment","bmi_SafeAddOnload","EBCallBackMessageReceived","conduitPage","Sharaf","onSnapchatPage","cordova","cookiesdirective","window.mraid","Javascript error: ReferenceError: Can't find variable: dataKeys on line 0","Javascript error: ReferenceError: Can't find variable: dataKeys on line 1","Javascript error: ReferenceError: Can't find variable: dataKeys on line 13","Javascript error: Script error. on line 0","Javascript error: Script error on line 0","Modernizr is not defined","$ is not a function","$ is not defined","__gCrWeb",/^resource:\/\//i,/\(--client-only--\)/i,/requestAnimationFrame/,"shopex","ReferenceError: Can't find variable: createImageBitmap","The GPU device instance has been suspended. Use GetDeviceRemovedReason to determine the appropriate action.",/^Object expected$/,"ctFrm.contentWindow is null",c,l,d,p],blacklistUrls:[/vplayer-parallel/],maxBreadcrumbs:30,environment:s.f,release:"1.0.1916",beforeSend:function(e,t){var n=Date.now();u.push(n);var r=!0;return!function(e){try{var t=e.exception.values[0],n=t.stacktrace.frames[t.stacktrace.frames.length-1];return"<anonymous>"===n.filename&&"Object.contentPlay"===n.function}catch(e){return!1}}(e)?5<u.length&&(r=6e4<n-u.shift()):r=!1,r?e:null},integrations:[new a.Integrations.Breadcrumbs({console:!1,dom:!1,location:!1}),new a.Integrations.GlobalHandlers({onunhandledrejection:!1})]}),a.configureScope(function(t){t.setUser({id:n}),o&&Object.keys(o).forEach(function(e){t.setTag(e,o[e])})}),h(babelHelpers.extends({},r,{hostUrl:window.document.location.toString(),hostReferrer:window.document.referrer.toString()}))},i);function i(){babelHelpers.classCallCheck(this,i)}function o(e){var r=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};a.withScope(function(t){var n=babelHelpers.extends({},r.extra,e.sentry_extra);Object.keys(n).forEach(function(e){t.setExtra(e,n[e])})}),a.captureException(e)}},,,,,function(e,t,n){"use strict";function r(){for(var e,t="abcdefghijklmnopqrstuvwxyz0123456789",n="",r=0;r<12;r++)n+=t.charAt((e=t.length,Math.floor(e*Math.random())));return n}n.d(t,"a",function(){return r})},function(e,t,n){"use strict";n.d(t,"a",function(){return r});var i=!1,r=function(e,t,n){!function(){if(!i){var e=window.document.createElement("script");e.async=!0,e.src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js",window.document.head.appendChild(e),i=!0}}();var r='<ins class="adsbygoogle" style="display:block;" data-ad-host="ca-host-pub-3342678132655986" data-ad-client="ca-'+t+'" data-ad-format="auto" '+(n?"data-page-url="+n:"")+"></ins>";e.innerHTML=r,(window.adsbygoogle=window.adsbygoogle||[]).push({})}},function(e,t,n){"use strict";n.d(t,"a",function(){return r});var i=n(358),o=n(61);function r(e,t){var n=void 0;function r(){n=function(){return Object(i.a)(e.api,t).catch(function(e){if(e.name===o.d&&202===e.code)return function(e){var t=0<arguments.length&&void 0!==e?e:0;return new Promise(function(e){window.setTimeout(function(){e()},t)})}(2e3).then(function(){return n()});throw e})}}return r(),{reset:function(){r()},whenDocumentBaseFetched:function(){return n().then(function(e){return{pageCount:e.pageCount,pages:e.pages.map(function(e,t){return{pageNumber:t+1,height:e.height,width:e.width,imageUri:e.imageUri,layersInfo:e.layersInfo,isPagePaywalled:e.isPagePaywalled}}),isPaywalled:!1}})},whenDocumentExtraFetched:function(){return Promise.resolve({publicationId:"",revisionId:"",username:"",documentName:"",access:"public",description:"",downloadable:!1,title:"",userDisplayName:"",contentRating:{}})},whenDocumentTextFetched:function(){return new Promise(function(){})},whenDocumentLinksFetched:function(){return new Promise(function(){})},whenLicensesFetched:function(){return Promise.reject("Disable license check in Publisher Preview mode")},whenAdsenseAccountFetched:function(){return Promise.reject("Do not fetch AdSense account in publisher preview mode")}}}},function(e,t,n){"use strict";n.d(t,"a",function(){return r});var l=n(359);function r(e,t,n,r){var i=n.replace("/docs/","/").split("/").filter(function(e){return!!e}),o=i[0],a=void 0===o?"":o,s=i[1],u=void 0===s?"":s,c=Object(l.a)(e.api,r);return{reset:function(){},whenDocumentBaseFetched:function(){return Promise.resolve({pageCount:t.pages.length,pages:t.pages.map(function(e,t){return{height:e.height,width:e.width,imageUri:e.imageUri,layersInfo:e.layersInfo,pageNumber:t+1,isPagePaywalled:!1}}),isPaywalled:!1})},whenDocumentExtraFetched:function(){return Promise.resolve({publicationId:t.publicationId,revisionId:t.revisionId,username:a,documentName:u,access:"public",description:t.description,downloadable:t.downloadable,title:t.title,userDisplayName:t.userDisplayName,contentRating:{},protectedContentUrlId:r})},whenDocumentTextFetched:function(){return Promise.resolve({textInfoPath:t.textInfo.uri,textInfoSize:t.textInfo.size,textInfoVersion:t.textInfo.version})},whenDocumentLinksFetched:function(){return c},whenLicensesFetched:function(){return Promise.reject("Disable license check in purchased mode")},whenAdsenseAccountFetched:function(){return Promise.reject("Do not fetch AdSense account in purchased mode")}}}},function(e,t,n){"use strict";n.d(t,"a",function(){return o});var r,i=n(0),s=n.n(i),o=(r=i.Component,babelHelpers.inherits(a,r),a.prototype.render=function(){var e=this.props,t=e.username,n=e.documentName,r=e.mainOrigin,i=e.initialPageNumber,o=e.embedId,a=r+"/"+t+"/docs/"+n;return 1<i&&(a=a+"/"+i),o?a=a+"?e="+encodeURIComponent(o):a+="?e=0",s.a.createElement("div",{className:"bot-reader"},s.a.createElement("a",{href:a,target:"_blank"},"Read on issuu"))},a);function a(){return babelHelpers.classCallCheck(this,a),babelHelpers.possibleConstructorReturn(this,r.apply(this,arguments))}o.displayName="BotReader"},function(e,t,n){"use strict";n.d(t,"a",function(){return l});var a,r=n(0),i=n.n(r),o=n(361),s=n(1),u="reader3-features.LINK_BELOW_EMBED_OPEN",c="reader3-features.LINK_BELOW_EMBED_YCPT",l=(a=r.Component,babelHelpers.inherits(d,a),d.prototype.componentDidMount=function(){this.trackOpportunity(u),this.trackOpportunity(c)},d.prototype.renderEmoji=function(){var e=this.props.creatorHubOrigin+"/features"+Object(s.z)("created_by",this.props.embedTrackingQuery);return i.a.createElement("div",{className:"issuu-branding-emoji"},i.a.createElement("a",{href:e,onClick:this.onPoweredByIssuu,className:"issuu-branding-emoji__link",target:"_blank"},i.a.createElement("span",{className:"issuu-branding-emoji__text"},"Created with"),i.a.createElement("span",{className:"issuu-branding-emoji__emoji"},""),i.a.createElement("span",{className:"issuu-branding-emoji__text"},"on Issuu")))},d.prototype.renderOriginal=function(){var e=this.props.creatorHubOrigin+"/features"+Object(s.z)("powered_by",this.props.embedTrackingQuery),t=this.props.mainOrigin+"/tryissuu"+Object(s.z)("publish_for_free",this.props.embedTrackingQuery);return i.a.createElement("div",{className:"issuu-branding"},i.a.createElement("div",{className:"powered-by"},i.a.createElement("span",{className:"powered-by-text"},"Powered by"),i.a.createElement("span",{className:"powered-by-link"},i.a.createElement("a",{href:e,onClick:this.onPoweredByIssuu,target:"_blank",dangerouslySetInnerHTML:{__html:o.a}}))),i.a.createElement("span",{className:"publish-for-free"},i.a.createElement("a",{className:"publish-for-free-link",href:t,onClick:this.onPublishForFree,target:"_blank"},"Publish for Free")))},d.prototype.render=function(){return this.props.useEmojiBranding?this.renderEmoji():this.renderOriginal()},d);function d(){var e,t,n;babelHelpers.classCallCheck(this,d);for(var r=arguments.length,i=Array(r),o=0;o<r;o++)i[o]=arguments[o];return(e=t=babelHelpers.possibleConstructorReturn(this,a.call.apply(a,[this].concat(i)))).onPoweredByIssuu=function(e){t.trackUsage(u)},t.onPublishForFree=function(e){t.trackUsage(c)},t.trackOpportunity=function(e){t.props.metrics&&t.props.metrics.monitor(e,{opportunity:1})},t.trackUsage=function(e){t.props.metrics&&(t.props.metrics.monitor(e,{usageRepeat:1,usageFirst:t._firstUsage[e]?0:1}),t._firstUsage[e]=!0)},t._firstUsage={},n=e,babelHelpers.possibleConstructorReturn(t,n)}l.displayName="IssuuBranding"},function(e,t,n){"use strict";n.d(t,"a",function(){return r});var u=n(12),c=n(45),l=n(32),d=n(5),p=n(57),h=n(378),r=function(o){var a=!1,s=!1;return function(i){return function(r){return function(e){var t=r(e);if(e.type===u.a&&Object(l.a)(i.getState())&&(a=!0,i.dispatch(Object(h.a)())),!a)return t;if(e.type===p.a)o.monitor("paywall.reader3.show-document");else if(!s&&e.type===c.a){var n=i.getState();Object(d.m)(n)&&(o.monitor("paywall.reader3.show-overlay"),s=!0)}return t}}}}},,,function(e,t,n){"use strict";n.d(t,"a",function(){return h});var r=n(22),i=n(43),o=n(32),a=n(5),s=n(12),u=n(149),c=n(8),l=n(383),d=n(57),p=[d.d.LOADED,d.d.ERROR],h=Object(r.b)(function(e){var t=Object(o.a)(e),n=e.paywall,r=Object(s.d)(e);return{isNotAvailable:n.isNotAvailable?"disabled":"",isOverlayVisible:Object(a.m)(e),isPreview:t&&!n.isPaid,isPurchased:t&&n.isPaid,hostName:Object(u.b)(e).main.replace(/^(?:https?:)?\/\/(.*)/,"$1"),paywallDataLoaded:p.includes(n.status),priceAmount:n.publicationPriceAmount,priceCurrency:n.publicationPriceCurrency,publicationCoverUrl:r.coverUri,publicationName:r.documentName,publicationTitle:r.title,publisherDisplayName:r.userDisplayName,publisherName:r.username,publisherProfileImageUrl:r.userProfileImageUri,publisherProfileUrl:r.userProfileUri,readPurchasedPath:n.readPurchasedPath,showKeepReading:0<Object(a.y)(e)}},function(e){return{onKeepReading:Object(i.b)(c.g,e)}})(l.a)},,,,,,,,,,,,,,function(e,t,n){"use strict";n.d(t,"a",function(){return s});var r,i=n(0),o=n.n(i),a=n(105),s=(r=i.Component,babelHelpers.inherits(u,r),u.prototype.render=function(){return o.a.createElement(a.b,{onClose:this.props.onClose,onSubmit:this.props.onSubmit,header:"We were unable to open this video.",text:"This video is hosted on "+this.props.service+". You can try and view it there",buttonText:"Open in "+this.props.service,boxType:a.a.ERROR})},u);function u(){return babelHelpers.classCallCheck(this,u),babelHelpers.possibleConstructorReturn(this,r.apply(this,arguments))}},function(e,t,n){"use strict";n.d(t,"a",function(){return s});var r,i=n(0),o=n.n(i),a=n(105),s=(r=i.Component,babelHelpers.inherits(u,r),u.prototype.render=function(){return o.a.createElement(a.b,{onClose:this.props.onClose,onSubmit:this.props.onSubmit,header:"Video marked as explicit.",text:"You can still view this video on "+this.props.service+".",buttonText:"Open in "+this.props.service,boxType:a.a.WARNING})},u);function u(){return babelHelpers.classCallCheck(this,u),babelHelpers.possibleConstructorReturn(this,r.apply(this,arguments))}},function(e,t,n){"use strict";n.d(t,"a",function(){return h});var r=n(0),a=n.n(r),i=n(15),o=n.n(i),s=n(42),u=n.n(s),c=n(33),l=n(78);function d(e,t){return Math.min(Math.max(e/t*100,0),100)}var p,h=(p=r.Component,babelHelpers.inherits(f,p),f.prototype.componentDidMount=function(){var i=this;this.container=o.a.findDOMNode(this.refs.container),this.inputHandler=new l.a(this.container,{onGestureStart:function(e,t){i.props.locked||(i._containerWidth=i.container.clientWidth,i.props.onChangeStart(),i.props.onChange(d(e[0].x,i._containerWidth)))},onGestureChange:function(e,t,n,r){i.props.locked||(i.inputHandler.requestToIntercept(),i.props.onChange(d(e[0].x,i._containerWidth)))},onGestureEnd:function(e){i.props.locked||i.props.onChangeEnd(i.props.value)},onMouseEnter:function(e){i._hover=!0,i.container.classList.toggle("slider--hover",i._hover)},onMouseLeave:function(e){i._hover=!1,i.container.classList.toggle("slider--hover",i._hover)}})},f.prototype.componentDidUpdate=function(){this.props.abortCurrentInteraction&&this.inputHandler&&this.inputHandler.reset()},f.prototype.shouldComponentUpdate=function(e){return!u()(this.props,e)},f.prototype.render=function(){var e=["slider"];this._hover&&e.push("slider--hover"),this.props.type===f.SLIDER_TYPE_ALTERNATE&&e.push("slider--alternate"),this.props.locked&&e.push("slider--locked");var o=!1;return a.a.createElement("div",{className:e.join(" "),ref:"container"},a.a.createElement("div",{className:"slider__track-container-container"},a.a.createElement("div",{className:"slider__track-container"},this.props.segments.map(function(e,t){var n=["slider__track"];e.available||n.push("slider__track--unavailable"),e.done&&n.push("slider__track--done");var r={flex:e.proportion},i=!o&&!e.done;return i&&(o=!0),a.a.createElement("div",{key:t,className:n.join(" "),style:r},i&&a.a.createElement("div",{className:"slider__thumb"}))}),!o&&a.a.createElement("div",{className:"slider__thumb slider__thumb--end"}),this.props.markers&&!!this.props.markers.length&&a.a.createElement(c.b.SliderMarkers,{markers:this.props.markers,value:this.props.value}))),a.a.createElement("span",{style:{position:"absolute",visibility:"hidden"}},this.props.value))},f);function f(){var e,t,n;babelHelpers.classCallCheck(this,f);for(var r=arguments.length,i=Array(r),o=0;o<r;o++)i[o]=arguments[o];return(e=t=babelHelpers.possibleConstructorReturn(this,p.call.apply(p,[this].concat(i))))._hover=!1,n=e,babelHelpers.possibleConstructorReturn(t,n)}h.displayName="Slider",h.SLIDER_TYPE_DEFAULT="SLIDER_TYPE_DEFAULT",h.SLIDER_TYPE_ALTERNATE="SLIDER_TYPE_ALTERNATE"},function(e,t,n){"use strict";n.d(t,"a",function(){return d});var r=n(8),i=n(45),o=n(9),a=n(66),s=n(202),u=n(50);function c(e){return Object.assign({},e,{visibleDropdown:null,readMoreDropdownVisible:!1})}function l(e,t){switch(t.type){case s.a:return function(e,t){return Object.assign(c(e),{visibleDropdown:t!==e.visibleDropdown?t:null})}(e,t.dropdown);case u.d:return function(e){return Object.assign(c(e),{readMoreDropdownVisible:!0})}(e);case u.a:case r.d:case r.c:case o.a:case o.b:return c(e);case i.a:return t.isDragging?c(e):e;case r.a:return t.isPinching?c(e):e;case a.c:case a.b:case a.d:case a.a:return c(e);default:return e}}function d(){var e={visibleDropdown:null,readMoreDropdownVisible:!1};return function(){return l(0<arguments.length&&void 0!==arguments[0]?arguments[0]:e,arguments[1])}}},function(e,t,n){"use strict";n.d(t,"a",function(){return i});var r=n(55);function i(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{status:r.c},t=arguments[1];switch(t.type){case r.c:case r.b:case r.d:case r.a:return{status:t.type};default:return e}}},function(e,t,n){"use strict";n.d(t,"a",function(){return s});var r=n(409),i=n(22),o=n(43),a=n(55),s=Object(i.b)(function(e){return{downloadButtonStatus:e.download.status}},function(e){return{onDownloadButtonClick:Object(o.b)(a.e,e)}},void 0,{pure:!0})(r.a)},function(e,t,n){"use strict"},function(e,t,n){"use strict";n.d(t,"a",function(){return d});var r=n(22),i=n(411),o=n(5),a=n(32),s=n(106),u=n(12),c=n(66),l=n(118),d=Object(r.b)(function(e){return{coverImageUrl:Object(u.d)(e).coverUri,documentTitle:Object(u.d)(e).title,documentUrl:o.o(e),featureTracker:e.featureTracker,navigationLinkFeature:o.x(e),readMorePlugin:e.readMorePlugin,shouldRenderDownloadButton:Object(c.g)(e),shouldRenderReadMoreButton:s.c(e),shouldRenderShareButton:l.d(e),readMoreButtonCentered:!Object(a.a)(e)&&window.innerWidth<window.innerHeight,readMoreButtonUnreadCount:s.a(e),isVisible:o.a(e)&&(s.c(e)||l.d(e)||Object(c.g)(e)||!!o.x(e)),readMoreDropdownVisible:o.e(e),shareDropdownVisible:l.c(e),shareShouldShowPublisherPreviewMessage:l.e(e)}},void 0,void 0,{pure:!0})(i.a)},function(e,t,n){"use strict";n.d(t,"a",function(){return c});var r,i=n(0),o=n.n(i),a=n(13),s=n(7),u=n(153),c=(r=i.Component,babelHelpers.inherits(l,r),l.prototype.onClick=function(){this.props.toggleShareDropdown(u.a),this.props.featureTracker.usage(s.a.BUTTON_SHARE),this.props.dispatch(Object(a.a)())},l.prototype.render=function(){var e=this;return o.a.createElement("div",{className:"header-controls__share-toggle",onClick:function(){return e.onClick()}},"Share")},l);function l(){return babelHelpers.classCallCheck(this,l),babelHelpers.possibleConstructorReturn(this,r.apply(this,arguments))}c.displayName="ShareButton"},function(e,t,n){"use strict";n.d(t,"a",function(){return m});var a,r=n(0),i=n.n(r),s=n(171),u=n(153),o=n(412),c=n(13),l=n(7),d=n(414),p=n(415),h=n(416),f=n(417),m=(a=r.Component,babelHelpers.inherits(g,a),g.prototype.componentDidUpdate=function(){var e=this.refs.shareDropdownInput;e&&this.props.visible&&(e.setSelectionRange(0,e.value.length),this.props.featureTracker.opportunity(l.a.SHARE_EMAIL),this.props.featureTracker.opportunity(l.a.SHARE_FACEBOOK),this.props.featureTracker.opportunity(l.a.SHARE_TWITTER),this.props.featureTracker.opportunity(l.a.SHARE_PINTEREST))},g.prototype.render=function(){var e=this.props,t=e.documentUrl,n=e.shouldShowPublisherPreviewMessage;return i.a.createElement("div",{className:"share-dropdown share-dropdown--blurred"},i.a.createElement("div",{className:"share-dropdown__dimmer",onClick:this.onDimmerClick}),!n&&i.a.createElement("div",{className:"share-dropdown__inner"},i.a.createElement("div",{className:"share-dropdown__social-buttons"},i.a.createElement("a",{className:"share-dropdown__social-button share-dropdown__social-button--facebook",onClick:this.onShareOnFacebook,dangerouslySetInnerHTML:{__html:d.a},href:"javascript:void(0)","data-tooltip":"Facebook"}),i.a.createElement("a",{className:"share-dropdown__social-button share-dropdown__social-button--twitter",onClick:this.onShareOnTwitter,dangerouslySetInnerHTML:{__html:p.a},href:"javascript:void(0)","data-tooltip":"Twitter"}),i.a.createElement("a",{className:"share-dropdown__social-button share-dropdown__social-button--pinterest",onClick:this.onShareOnPinterest,dangerouslySetInnerHTML:{__html:h.a},href:"javascript:void(0)","data-tooltip":"Pinterest"}),i.a.createElement("a",{className:"share-dropdown__social-button share-dropdown__social-button--mailto",onClick:this.onShareOnEmail,dangerouslySetInnerHTML:{__html:f.a},href:"javascript:void(0)","data-tooltip":"E-mail"})),i.a.createElement("div",{className:"share-dropdown__direct-link"},i.a.createElement("input",{className:"share-dropdown__input",readOnly:!0,type:"text",value:t,ref:"shareDropdownInput"}),i.a.createElement(o.a,{successText:"COPIED!",copyText:t},"COPY"))),n&&i.a.createElement("div",{className:"share-dropdown__inner"},i.a.createElement("p",{className:"share_dropdownn__publisher_preview_message"},"You are looking at a preview. Please use a real version to test this functionality.")))},g);function g(){var e,t,n;babelHelpers.classCallCheck(this,g);for(var r=arguments.length,i=Array(r),o=0;o<r;o++)i[o]=arguments[o];return(e=t=babelHelpers.possibleConstructorReturn(this,a.call.apply(a,[this].concat(i)))).onShareOnEmail=function(){t.props.featureTracker.usage(l.a.SHARE_EMAIL),t.props.dispatch(s.a(t.props.documentTitle,t.props.documentUrl)),t.props.dispatch(Object(c.a)())},t.onShareOnFacebook=function(){t.props.featureTracker.usage(l.a.SHARE_FACEBOOK),t.props.dispatch(s.b(t.props.documentUrl)),t.props.dispatch(Object(c.a)())},t.onShareOnTwitter=function(){t.props.featureTracker.usage(l.a.SHARE_TWITTER),t.props.dispatch(s.d(t.props.documentTitle,t.props.documentUrl)),t.props.dispatch(Object(c.a)())},t.onShareOnPinterest=function(){t.props.featureTracker.usage(l.a.SHARE_PINTEREST),t.props.dispatch(s.c(t.props.documentUrl,t.props.coverImageUrl,t.props.documentTitle)),t.props.dispatch(Object(c.a)())},t.onDimmerClick=function(){t.props.toggleShareDropdown(u.a)},n=e,babelHelpers.possibleConstructorReturn(t,n)}m.displayName="ShareDropdown"},function(e,t,n){"use strict";n.d(t,"a",function(){return l});var r=n(22),i=n(43),o=n(418),a=n(134),s=n(12),u=n(5),c=n(8),l=Object(r.b)(function(e){var t=Object(s.d)(e);return{documentTitle:t.title,originalPublishDate:t.originalPublishDate,userDisplayName:t.userDisplayName,userProfileImageUri:t.userProfileImageUri,userProfileUri:t.userProfileUri,description:t.description,isPaywallPreview:t.isPaywallPreview,isSummaryVisible:Object(a.c)(e),currentPositionInPercent:Object(u.l)(e),zoomLevelInPercent:Object(u.I)(e),isFindVisible:e.find.isVisible,isFollowDisabled:e.summary.isFollowDisabled,followersCount:e.summary.followersCount,isFollowing:e.summary.isFollowing,initialPageNumber:e.reader.initialPageNumber,currentPageNumbers:e.reader.currentPageNumbers}},function(e){return{onCloseSummary:Object(i.b)(a.a,e),follow:Object(i.b)(c.e,e)}},void 0,{pure:!0})(o.a)},,,,function(e,t,n){"use strict";n.d(t,"a",function(){return i});var r=n(119);function i(){var n={youtubeApiReady:!1,vimeoApiReady:!0,activeVideoLink:null};return function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:n,t=arguments[1];switch(t.type){case r.b:return Object.assign({},e,{youtubeApiReady:!0});case r.a:return Object.assign({},e,{activeVideoLink:t.videoLink});default:return e}}}},function(e,t,n){"use strict";n.d(t,"a",function(){return f});var a,r=n(0),m=n.n(r),i=n(22),o=n(139),s=n.n(o),u=n(207),g=n(431),c=n(119),l=n(138),d=n(5),p=(a=r.Component,babelHelpers.inherits(h,a),h.prototype.componentWillReceiveProps=function(e){var t=this.props.activeVideoLink;if(t){var n=t.page.pageNumber;e.pageViewportBBoxes.hasOwnProperty(n)||this.props.dispatch(Object(c.d)(null))}},h.prototype.shouldComponentUpdate=function(e){return!s()(this.props,e)},h.prototype.componentDidUpdate=function(){var e=this,t=this.props,n=t.inlineYoutubeVideos,r=t.youtubeApiReady;this._youtubeCheck||0===n.length||r||(this._youtubeCheck=!0,Object(u.b)().then(function(){return e.props.dispatch(Object(c.c)())}))},h.prototype._getVideoPlayers=function(e,c){var l=this,d=Math.min.apply(Math,c)-2,p=Math.max.apply(Math,c)+2,h=this.props.activeVideoLink,f=!1;return e.map(function(e){var t=e.link,n=t.id,r=t.inlineData,i=t.page.pageNumber,o=l.props.pageViewportBBoxes[i],a=!!r&&r.isExplicit,s=!!h&&h.id!==n,u=!f&&c.includes(i)&&!s&&!!r&&r.autoplay;return u&&(f=!0),m.a.createElement(g.a,{featureTracker:l.props.featureTracker,hidden:l.props.hidden,inlineVideo:e,interactionCallback:l._interactionCallback,key:""+n,pageViewportBBox:o,shouldAutoplay:u,shouldBeLoaded:d<=i&&i<=p,shouldBePaused:s,isExplicit:l.props.checkIfVideoExplicit&&a,metrics:l.props.metrics})})},h.prototype.render=function(){var e=this.props.pageViewportBBoxes,t=Object.keys(e).map(function(e){return parseInt(e,10)}),n=[];return this.props.youtubeApiReady&&n.push.apply(n,this.props.inlineYoutubeVideos),this.props.vimeoApiReady&&n.push.apply(n,this.props.inlineVimeoVideos),this._getVideoPlayers(n,t)},h);function h(){var e,o,t;babelHelpers.classCallCheck(this,h);for(var n=arguments.length,r=Array(n),i=0;i<n;i++)r[i]=arguments[i];return(e=o=babelHelpers.possibleConstructorReturn(this,a.call.apply(a,[this].concat(r))))._youtubeCheck=!1,o._interactionCallback=function(e,t,n){if(n||t)o.props.dispatch(Object(c.d)(e.link));else{var r=o.props.activeVideoLink,i=e.link.id;r&&r.id===i&&!t&&o.props.dispatch(Object(c.d)(null))}},t=e,babelHelpers.possibleConstructorReturn(o,t)}var f=Object(i.b)(function(e){return{activeVideoLink:e.inlineVideo.activeVideoLink,inlineYoutubeVideos:Object(l.c)(e),inlineVimeoVideos:Object(l.b)(e),checkIfVideoExplicit:Object(d.j)(e),youtubeApiReady:e.inlineVideo.youtubeApiReady,vimeoApiReady:e.inlineVideo.vimeoApiReady,featureTracker:e.featureTracker}},null,null,{pure:!1})(p)},function(e,t,n){"use strict";function r(r){return new Promise(function(t,e){var n=new Image;n.crossOrigin="Anonymous",n.onload=function(){"function"==typeof createImageBitmap?createImageBitmap(n).then(function(e){return t(e)}):t(n)},n.onerror=function(){return e(new TypeError("Could not load image"))},n.src=r})}n.d(t,"a",function(){return r})},function(e,t,n){"use strict";n.d(t,"a",function(){return o});var r=n(463),i=n(22),a=n(12),s=n(103),u=n(94),c=n(36),o=Object(i.b)(function(e){var t=Object(a.d)(e),n=t.username,r=t.publicationId,i=Object(s.d)(e),o=Object(c.i)(e);return{adRefreshTimeout:Object(u.b)(),publicationId:r,publisherUsername:n,adsensePublisherId:i,hideAd:o}},void 0,void 0,{pure:!0})(r.a)},function(e,t,n){"use strict";n.d(t,"a",function(){return r});var i=n(89);function r(e,r,t){var n=e+"/call/reader/api/paywall-preview/"+r;return Object(i.a)(n,{withCredentials:!0,readerSessionHeader:t}).then(function(e){var t=e.status,n=e.document;if("ok"!==t||!n)throw new Error("The paywall preview could not be loaded. status: "+t+", fileId: "+r);return n})}},function(e,t,n){"use strict";function r(){return document.cookie.split(/\s*;\s*/).reduce(function(e,t){var n=decodeURIComponent(t).split(/\s*=\s*/,2),r=n[0],i=n[1];return e[r]=i,e},{})}n.d(t,"a",function(){return r})},function(e,t,n){"use strict";n.d(t,"a",function(){return r});var i=n(89);function r(e,r){var t=e+"/call/reader/api/publish-preview/"+r;return Object(i.a)(t,{withCredentials:!0}).then(function(e){var t=e.status,n=e.document;if("ok"!==t||!n)throw new Error("The publish preview could not be loaded. status: "+t+", fileId: "+r);return n})}},function(e,t,n){"use strict";n.d(t,"a",function(){return i});var r=n(89);function i(e,t){return Object(r.a)(e+"/call/reader/api/links-purchased/"+t,{withCredentials:!0}).catch(function(e){return new Error("Links for Protected Document could not be loaded.")})}},function(e,t,n){"use strict";n.d(t,"a",function(){return r});var o=n(1),a=n(61),s=n(89);function r(e,r,i){var t=e+"/"+r+"/"+i+"/reader3_4.json";return Object(s.a)(t).then(function(e){var t=e.status,n=e.document;if(0!==t||!n)throw new a.a(o.e,t);return babelHelpers.extends({username:r,documentName:i},n)})}},function(e,t,n){"use strict";n.d(t,"a",function(){return r});var r='\n    <svg width="100%" height="100%" viewBox="-2 0 60 14" style="fill: #fff">\n        <g>\n            <path d="M6.83590808,3.64127016 C5.02752664,3.6236996 3.54764132,5.11190524 3.53049341,6.96464718 C3.5133455,8.81760081 4.96575284,10.3339617 6.77413428,10.3515323 C8.58251571,10.3688911 10.0626076,8.88089718 10.0795489,7.02815524 C10.0966969,5.17520161 8.64428951,3.65862903 6.83590808,3.64127016 L6.83590808,3.64127016 Z M6.78942278,8.69524194 C5.87376569,8.68635081 5.13826495,7.91853831 5.14694221,6.9803125 C5.15561947,6.04208669 5.90496249,5.28845766 6.82061958,5.29734879 C7.73627667,5.30623992 8.4717774,6.07405242 8.46310015,7.01248992 C8.45442289,7.95050403 7.70507987,8.70413306 6.78942278,8.69524194 L6.78942278,8.69524194 Z"></path>\n            <path d="M6.75843258,0.424375 C6.74830911,0.424375 6.73818565,0.424798387 6.72785558,0.424798387 L6.72785558,0.424163306 L0.856245804,0.424163306 C0.562045511,0.424163306 0.321148361,0.67078629 0.321148361,0.972449597 L0.321148361,7.02053427 C0.321148361,10.6633569 3.2032369,13.6164819 6.75843258,13.6164819 C10.3138349,13.6164819 13.1957168,10.6633569 13.1957168,7.02053427 C13.1957168,3.3775 10.3138349,0.424375 6.75843258,0.424375 L6.75843258,0.424375 Z M2.33592452,6.92929435 C2.35927047,4.40019153 4.37921167,2.36920363 6.84747775,2.39291331 C9.31574383,2.41683468 11.2980836,4.48677419 11.274531,7.01566532 C11.2513917,9.54455645 9.23124389,11.5755444 6.76318441,11.551623 C4.29491833,11.5277016 2.31257857,9.45797379 2.33592452,6.92929435 L2.33592452,6.92929435 Z"></path>\n            <path d="M6.83590808,3.64127016 C5.02752664,3.6236996 3.54764132,5.11190524 3.53049341,6.96464718 C3.5133455,8.81760081 4.96575284,10.3339617 6.77413428,10.3515323 C8.58251571,10.3688911 10.0626076,8.88089718 10.0795489,7.02815524 C10.0966969,5.17520161 8.64428951,3.65862903 6.83590808,3.64127016 L6.83590808,3.64127016 Z M6.78942278,8.69524194 C5.87376569,8.68635081 5.13826495,7.91853831 5.14694221,6.9803125 C5.15561947,6.04208669 5.90496249,5.28845766 6.82061958,5.29734879 C7.73627667,5.30623992 8.4717774,6.07405242 8.46310015,7.01248992 C8.45442289,7.95050403 7.70507987,8.70413306 6.78942278,8.69524194 L6.78942278,8.69524194 Z"></path>\n            <path d="M6.75843258,0.424375 C6.74830911,0.424375 6.73818565,0.424798387 6.72785558,0.424798387 L6.72785558,0.424163306 L0.856245804,0.424163306 C0.562045511,0.424163306 0.321148361,0.67078629 0.321148361,0.972449597 L0.321148361,7.02053427 C0.321148361,10.6633569 3.2032369,13.6164819 6.75843258,13.6164819 C10.3138349,13.6164819 13.1957168,10.6633569 13.1957168,7.02053427 C13.1957168,3.3775 10.3138349,0.424375 6.75843258,0.424375 L6.75843258,0.424375 Z M2.33592452,6.92929435 C2.35927047,4.40019153 4.37921167,2.36920363 6.84747775,2.39291331 C9.31574383,2.41683468 11.2980836,4.48677419 11.274531,7.01566532 C11.2513917,9.54455645 9.23124389,11.5755444 6.76318441,11.551623 C4.29491833,11.5277016 2.31257857,9.45797379 2.33592452,6.92929435 L2.33592452,6.92929435 Z"></path>\n        </g>\n        <g transform="translate(17.000000, 0.000000)">\n            <path d="M1.18803132,0.461209677 C1.75267275,0.461209677 2.22289738,0.943235887 2.22289738,1.52137097 C2.22289738,2.09950605 1.75267275,2.58110887 1.18803132,2.58110887 C0.624009688,2.58110887 0.153578461,2.09950605 0.153578461,1.52137097 C0.153578461,0.943235887 0.624009688,0.461209677 1.18803132,0.461209677 L1.18803132,0.461209677 Z M1.18803132,12.5656351 C0.661197927,12.5656351 0.30419083,12.160877 0.30419083,11.6597984 L0.30419083,4.79775202 C0.30419083,4.29709677 0.680411851,3.89212702 1.18803132,3.89212702 C1.69627059,3.89212702 2.07228501,4.29709677 2.07228501,4.79775202 L2.07228501,11.6597984 C2.07228501,12.160877 1.71486471,12.5656351 1.18803132,12.5656351 L1.18803132,12.5656351 Z"></path>\n            <path d="M7.56498795,12.6429032 C6.37971612,12.6429032 5.32646254,12.2574093 4.5742271,11.6597984 C4.31101701,11.4478931 4.19779948,11.1587198 4.19779948,10.9080746 C4.19779948,10.522369 4.49902422,10.2715121 4.87524524,10.2715121 C5.17585017,10.2715121 5.36427059,10.3877319 5.57107852,10.5420565 C6.07890458,10.9273387 6.79353858,11.2931452 7.69679959,11.2931452 C8.71265833,11.2931452 9.25808584,10.9080746 9.25808584,10.3104637 C9.25808584,9.65548387 8.73125245,9.40462702 7.41437558,9.03797379 C5.10085389,8.40268145 4.25440825,7.59231855 4.25440825,6.20509073 C4.25440825,4.75943548 5.5522778,3.81485887 7.58399527,3.81485887 C8.35503143,3.81485887 9.2200712,4.00771169 9.91631767,4.35446573 C10.4241437,4.60511089 10.781564,4.91333669 10.781564,5.29904234 C10.781564,5.64579637 10.5935568,5.97392137 10.1045315,5.97392137 C9.85991551,5.97392137 9.61529954,5.858125 9.33328872,5.70337702 C8.80624873,5.41462702 8.22321978,5.26114919 7.54639383,5.26114919 C6.60573797,5.26114919 5.96610026,5.51137097 5.96610026,6.18561492 C5.96610026,6.84144153 6.53053509,7.05292339 7.8848068,7.45789315 C9.91631767,8.05529234 10.9697779,8.61416331 10.9697779,10.1754032 C10.9697779,11.602006 9.80351335,12.6429032 7.56498795,12.6429032"></path>\n            <path d="M16.0804749,12.6429032 C14.8952031,12.6429032 13.8415363,12.2574093 13.0893009,11.6597984 C12.8258842,11.4478931 12.7130799,11.1587198 12.7130799,10.9080746 C12.7130799,10.522369 13.014098,10.2715121 13.390319,10.2715121 C13.6913372,10.2715121 13.8791378,10.3877319 14.0863589,10.5420565 C14.5939784,10.9273387 15.3086124,11.2931452 16.2114602,11.2931452 C17.2275255,11.2931452 17.772953,10.9080746 17.772953,10.3104637 C17.772953,9.65548387 17.2465328,9.40462702 15.9298626,9.03797379 C13.6159277,8.40268145 12.7696886,7.59231855 12.7696886,6.20509073 C12.7696886,4.75943548 14.0677648,3.81485887 16.0990691,3.81485887 C16.8703118,3.81485887 17.7357648,4.00771169 18.4318047,4.35446573 C18.9392175,4.60511089 19.297051,4.91333669 19.297051,5.29904234 C19.297051,5.64579637 19.1088372,5.97392137 18.6193987,5.97392137 C18.3749893,5.97392137 18.1303733,5.858125 17.8485691,5.70337702 C17.3219423,5.41462702 16.7385002,5.26114919 16.0614676,5.26114919 C15.1208118,5.26114919 14.4813806,5.51137097 14.4813806,6.18561492 C14.4813806,6.84144153 15.0454023,7.05292339 16.4000872,7.45789315 C18.4318047,8.05529234 19.4850582,8.61416331 19.4850582,10.1754032 C19.4850582,11.602006 18.3185871,12.6429032 16.0804749,12.6429032"></path>\n            <path d="M21.1926182,8.61416331 L21.1926182,4.79775202 C21.1926182,4.29709677 21.5878466,3.89212702 22.0768719,3.89212702 C22.5658973,3.89212702 22.9611256,4.29709677 22.9611256,4.79775202 L22.9611256,8.82606855 C22.9611256,10.0409778 23.8823609,10.9849194 25.1246547,10.9849194 C26.3659155,10.9849194 27.3063648,10.0409778 27.3063648,8.82606855 L27.3063648,4.79775202 C27.3063648,4.29709677 27.7015931,3.89212702 28.1902052,3.89212702 C28.679024,3.89212702 29.0740457,4.29709677 29.0740457,4.79775202 L29.0740457,8.61416331 C29.0740457,10.8697581 27.4001618,12.6429032 25.1246547,12.6429032 C22.8481147,12.6429032 21.1926182,10.8697581 21.1926182,8.61416331"></path>\n            <path d="M31.0324197,8.61416331 L31.0324197,4.79775202 C31.0324197,4.29709677 31.4272349,3.89212702 31.9164668,3.89212702 C32.405079,3.89212702 32.8003073,4.29709677 32.8003073,4.79775202 L32.8003073,8.82606855 C32.8003073,10.0409778 33.7225756,10.9849194 34.9636298,10.9849194 C36.2048906,10.9849194 37.1455465,10.0409778 37.1455465,8.82606855 L37.1455465,4.79775202 C37.1455465,4.29709677 37.5407748,3.89212702 38.0298002,3.89212702 C38.5192387,3.89212702 38.9136406,4.29709677 38.9136406,4.79775202 L38.9136406,8.61416331 C38.9136406,10.8697581 37.2401699,12.6429032 34.9636298,12.6429032 C32.6872964,12.6429032 31.0324197,10.8697581 31.0324197,8.61416331"></path>\n            <path d="M1.18803132,0.461209677 C1.75267275,0.461209677 2.22289738,0.943235887 2.22289738,1.52137097 C2.22289738,2.09950605 1.75267275,2.58110887 1.18803132,2.58110887 C0.624009688,2.58110887 0.153578461,2.09950605 0.153578461,1.52137097 C0.153578461,0.943235887 0.624009688,0.461209677 1.18803132,0.461209677 L1.18803132,0.461209677 Z M1.18803132,12.5656351 C0.661197927,12.5656351 0.30419083,12.160877 0.30419083,11.6597984 L0.30419083,4.79775202 C0.30419083,4.29709677 0.680411851,3.89212702 1.18803132,3.89212702 C1.69627059,3.89212702 2.07228501,4.29709677 2.07228501,4.79775202 L2.07228501,11.6597984 C2.07228501,12.160877 1.71486471,12.5656351 1.18803132,12.5656351 L1.18803132,12.5656351 Z"></path>\n            <path d="M7.56498795,12.6429032 C6.37971612,12.6429032 5.32646254,12.2574093 4.5742271,11.6597984 C4.31101701,11.4478931 4.19779948,11.1587198 4.19779948,10.9080746 C4.19779948,10.522369 4.49902422,10.2715121 4.87524524,10.2715121 C5.17585017,10.2715121 5.36427059,10.3877319 5.57107852,10.5420565 C6.07890458,10.9273387 6.79353858,11.2931452 7.69679959,11.2931452 C8.71265833,11.2931452 9.25808584,10.9080746 9.25808584,10.3104637 C9.25808584,9.65548387 8.73125245,9.40462702 7.41437558,9.03797379 C5.10085389,8.40268145 4.25440825,7.59231855 4.25440825,6.20509073 C4.25440825,4.75943548 5.5522778,3.81485887 7.58399527,3.81485887 C8.35503143,3.81485887 9.2200712,4.00771169 9.91631767,4.35446573 C10.4241437,4.60511089 10.781564,4.91333669 10.781564,5.29904234 C10.781564,5.64579637 10.5935568,5.97392137 10.1045315,5.97392137 C9.85991551,5.97392137 9.61529954,5.858125 9.33328872,5.70337702 C8.80624873,5.41462702 8.22321978,5.26114919 7.54639383,5.26114919 C6.60573797,5.26114919 5.96610026,5.51137097 5.96610026,6.18561492 C5.96610026,6.84144153 6.53053509,7.05292339 7.8848068,7.45789315 C9.91631767,8.05529234 10.9697779,8.61416331 10.9697779,10.1754032 C10.9697779,11.602006 9.80351335,12.6429032 7.56498795,12.6429032"></path>\n            <path d="M16.0804749,12.6429032 C14.8952031,12.6429032 13.8415363,12.2574093 13.0893009,11.6597984 C12.8258842,11.4478931 12.7130799,11.1587198 12.7130799,10.9080746 C12.7130799,10.522369 13.014098,10.2715121 13.390319,10.2715121 C13.6913372,10.2715121 13.8791378,10.3877319 14.0863589,10.5420565 C14.5939784,10.9273387 15.3086124,11.2931452 16.2114602,11.2931452 C17.2275255,11.2931452 17.772953,10.9080746 17.772953,10.3104637 C17.772953,9.65548387 17.2465328,9.40462702 15.9298626,9.03797379 C13.6159277,8.40268145 12.7696886,7.59231855 12.7696886,6.20509073 C12.7696886,4.75943548 14.0677648,3.81485887 16.0990691,3.81485887 C16.8703118,3.81485887 17.7357648,4.00771169 18.4318047,4.35446573 C18.9392175,4.60511089 19.297051,4.91333669 19.297051,5.29904234 C19.297051,5.64579637 19.1088372,5.97392137 18.6193987,5.97392137 C18.3749893,5.97392137 18.1303733,5.858125 17.8485691,5.70337702 C17.3219423,5.41462702 16.7385002,5.26114919 16.0614676,5.26114919 C15.1208118,5.26114919 14.4813806,5.51137097 14.4813806,6.18561492 C14.4813806,6.84144153 15.0454023,7.05292339 16.4000872,7.45789315 C18.4318047,8.05529234 19.4850582,8.61416331 19.4850582,10.1754032 C19.4850582,11.602006 18.3185871,12.6429032 16.0804749,12.6429032"></path>\n            <path d="M21.1926182,8.61416331 L21.1926182,4.79775202 C21.1926182,4.29709677 21.5878466,3.89212702 22.0768719,3.89212702 C22.5658973,3.89212702 22.9611256,4.29709677 22.9611256,4.79775202 L22.9611256,8.82606855 C22.9611256,10.0409778 23.8823609,10.9849194 25.1246547,10.9849194 C26.3659155,10.9849194 27.3063648,10.0409778 27.3063648,8.82606855 L27.3063648,4.79775202 C27.3063648,4.29709677 27.7015931,3.89212702 28.1902052,3.89212702 C28.679024,3.89212702 29.0740457,4.29709677 29.0740457,4.79775202 L29.0740457,8.61416331 C29.0740457,10.8697581 27.4001618,12.6429032 25.1246547,12.6429032 C22.8481147,12.6429032 21.1926182,10.8697581 21.1926182,8.61416331"></path>\n            <path d="M31.0324197,8.61416331 L31.0324197,4.79775202 C31.0324197,4.29709677 31.4272349,3.89212702 31.9164668,3.89212702 C32.405079,3.89212702 32.8003073,4.29709677 32.8003073,4.79775202 L32.8003073,8.82606855 C32.8003073,10.0409778 33.7225756,10.9849194 34.9636298,10.9849194 C36.2048906,10.9849194 37.1455465,10.0409778 37.1455465,8.82606855 L37.1455465,4.79775202 C37.1455465,4.29709677 37.5407748,3.89212702 38.0298002,3.89212702 C38.5192387,3.89212702 38.9136406,4.29709677 38.9136406,4.79775202 L38.9136406,8.61416331 C38.9136406,10.8697581 37.2401699,12.6429032 34.9636298,12.6429032 C32.6872964,12.6429032 31.0324197,10.8697581 31.0324197,8.61416331"></path>\n        </g>\n    </svg>\n'},function(e,t,n){"use strict";n.d(t,"a",function(){return r});var m=n(22),g=n(102),v=n(371),b=n(375),_=n(377),y=n(19);function r(e){function o(t,r){return function(e,n){return e(d(t,r)).then(function(){var e=n(),t=Object(y.k)(e);t&&i(e,t.pageNo)})}}function t(){return function(r,i){return r(Object(y.j)()).then(function(){var e=i(),t=Object(y.p)(e),n=u(e);return r(o(t,n))}),s(i()),Promise.resolve()}}var n=e.Spinner,r=e.isMobile,i=e.jumpToPageNumber,a=e.pageNumberToSpreadIndex,s=e.resetZoom,u=e.selectCurrentPageNumber,c=(e.selectPageCount,e.selectReadMode),l=e.selectSpreadCount,d=Object(y.g)(g.a),p=Object(m.b)(function(e){return{isVisible:Object(y.i)(e),findAvailable:Object(y.n)(e)}},{closeFindDialog:y.d,openFindDialog:t},function(e,t,n){return Object.assign({},n,e,{onClick:e.isVisible?t.closeFindDialog:t.openFindDialog,findAvailable:e.findAvailable})})(b.a),h={onCloseButtonClick:y.d,onSearch:o,setCurrentResultIdx:function(t){return function(e,n){return e(Object(y.w)(t)).then(function(){var e=n(),t=Object(y.k)(e);t&&i(e,t.pageNo)})}},triggerLoadTextInfo:function(){return function(e,t){var n=t(),r=Object(y.p)(n),i=u(n);e(o(r,i))}},inputFieldChanged:y.h},f=Object(m.b)(function(e){return{isMobile:r,isVisible:Object(y.i)(e),currentResult:Object(y.l)(e),numberOfResults:Object(y.s)(e),currentPage:u(e),nextResultIdx:Object(y.r)(e),previousResultIdx:Object(y.t)(e),inputFieldValue:Object(y.m)(e),loadingState:Object(y.q)(e),isNewQuery:Object(y.o)(e),Spinner:n}},h,function(e,t,n){return Object.assign({},n,e,t,{onNextButtonClick:function(){return t.setCurrentResultIdx(e.nextResultIdx)},onPreviousButtonClick:function(){return t.setCurrentResultIdx(e.previousResultIdx)},onRetryClick:t.triggerLoadTextInfo})})(v.a);return{actions:{setTextInfoUrl:y.x,openFindDialog:t,closeFindDialog:y.d},components:{FindOverlay:f,FindButton:p,SliderMarkers:_.a},createReducer:y.e,selectors:{isVisible:y.i,selectResults:y.u,selectCurrentResult:y.k,selectTextInfoPageModels:y.v,selectIsAvailable:y.n,selectResultMarkers:Object(y.f)(y.i,l,c,a)}}}},,,,,,,,,function(e,t,n){"use strict";n.d(t,"a",function(){return m});var r,i=n(0),c=n.n(i),o=n(11),l=n.n(o),d=n(19),a=n(372),p=n.n(a),s=n(373),h=n.n(s),u=n(374),f=n.n(u),m=(r=c.a.Component,babelHelpers.inherits(g,r),g.prototype.handleVisibilityChanged=function(e,t){!e&&t?(this.refs.input.focus(),this.props.featureTracker.opportunity("FIND_QUERY"),this.props.featureTracker.opportunity("FIND_NEXT"),this.props.featureTracker.opportunity("FIND_PREV"),this.props.featureTracker.opportunity("FIND_CLOSE"),this.props.featureTracker.opportunity("FIND_CLOSE_BLUR")):!t&&e&&this.refs.input.blur()},g.prototype.componentDidMount=function(){this.handleVisibilityChanged(!1,this.props.isVisible)},g.prototype.componentDidUpdate=function(e,t){this.handleVisibilityChanged(e.isVisible,this.props.isVisible)},g.prototype.search=function(e){this.props.featureTracker.usage("FIND_QUERY"),this.props.onSearch(e,this.props.currentPage)},g.prototype.render=function(){var e=this.props,t=e.isVisible,n=e.currentResult,r=e.numberOfResults,i=e.isMobile,o=e.Spinner,a=e.inputFieldValue,s=e.loadingState,u=e.onRetryClick;return c.a.createElement("div",{className:l()("find-widget",{"find-widget--hidden":!t})},c.a.createElement("button",{className:"find-widget__button find-widget__close-button",type:"button",dangerouslySetInnerHTML:{__html:p.a},onClick:this.close}),c.a.createElement("form",{className:"find-widget__input-wrapper",action:"javascript:void(0)"},c.a.createElement("input",{className:l()("find-widget__input",{"find-widget__input--large-font":i}),ref:"input",type:"search",onKeyDown:this.handleKeyDown,placeholder:"Find in publication...",value:a,onChange:this.handleInputChange,onBlur:this.handleInputBlur}),c.a.createElement("div",{className:"find-widget__results-wrapper"},s===d.c&&"number"==typeof r&&c.a.createElement("span",{className:"find-widget__results"},n," of ",r),s===d.a&&c.a.createElement("button",{type:"button",onClick:u,className:"find-widget__retry-button"},"retry"),s===d.b&&c.a.createElement(o,{size:o.SPINNER_SIZE_TINY}))),c.a.createElement("button",{className:l()("find-widget__button","find-widget__previous-button",{"find-widget__button--disabled":!r}),dangerouslySetInnerHTML:{__html:f.a},type:"button",onKeyDown:this.handleKeyDown,onClick:this.previous,disabled:!r}),c.a.createElement("button",{className:l()("find-widget__button","find-widget__next-button",{"find-widget__button--disabled":!r}),dangerouslySetInnerHTML:{__html:h.a},type:"button",onKeyDown:this.handleKeyDown,onClick:this.next,disabled:!r}),s===d.a&&c.a.createElement("span",{className:"find-widget__error-message"},"Oops, something went wrong"))},g);function g(e){babelHelpers.classCallCheck(this,g);var n=babelHelpers.possibleConstructorReturn(this,r.call(this,e));return n.handleKeyDown=function(e){var t="MacIntel"===window.navigator.platform;if(71===e.keyCode&&t&&e.metaKey||!t&&e.ctrlKey)e.preventDefault(),e.shiftKey?n.previous():n.next();else if("Enter"===e.key){if(e.preventDefault(),n.props.isNewQuery?(n.state.timerId&&clearTimeout(n.state.timerId),n.search(n.props.inputFieldValue)):e.shiftKey?n.previous():n.next(),n.props.isMobile)e.target.blur()}},n.handleInputChange=function(e){n.state.timerId&&clearTimeout(n.state.timerId),n.props.inputFieldChanged(e);var t=null;n.props.enableIncrementalSearch&&(t=setTimeout(function(){n.search(n.props.inputFieldValue)},500)),n.setState({timerId:t})},n.handleInputBlur=function(e){n.props.inputFieldValue||(n.props.featureTracker.usage("FIND_CLOSE_BLUR"),n.props.onCloseButtonClick())},n.next=function(){n.props.featureTracker.usage("FIND_NEXT"),n.props.onNextButtonClick()},n.previous=function(){n.props.featureTracker.usage("FIND_PREV"),n.props.onPreviousButtonClick()},n.close=function(){n.props.featureTracker.usage("FIND_CLOSE"),n.props.onCloseButtonClick()},n.state={timerId:null},n}},function(e,t){e.exports='<svg width="16" height="16" viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg">\n  <path d="M6.446 8L.322 14.124c-.43.43-.43 1.126 0 1.555.215.213.496.32.777.32.28 0 .562-.107.776-.32L8 9.554l6.124 6.124c.214.213.496.32.777.32.282 0 .563-.107.778-.32.43-.43.43-1.126 0-1.556L9.554 8l6.124-6.124c.43-.43.43-1.125 0-1.554-.43-.43-1.125-.43-1.554 0L8 6.446 1.876.322c-.43-.43-1.125-.43-1.554 0-.43.43-.43 1.125 0 1.554L6.446 8z" fill="#FFFFFF" fill-rule="evenodd"/>\n</svg>\n'},function(e,t){e.exports='<svg width="16" height="16" viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg">\n  <path d="M4.948 16c-.243 0-.484-.092-.67-.275-.37-.367-.37-.963 0-1.33L10.716 8 4.277 1.604c-.37-.368-.37-.963 0-1.33.37-.367.97-.367 1.338 0l7.108 7.06c.37.366.37.962 0 1.33l-7.106 7.06c-.185.183-.427.275-.67.275" fill="#FFFFFF" fill-rule="evenodd"/>\n</svg>\n'},function(e,t){e.exports='<svg width="16" height="16" viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg">\n  <path d="M12.052 16c.243 0 .484-.092.67-.275.37-.367.37-.963 0-1.33L6.284 8l6.438-6.395c.37-.368.37-.963 0-1.33-.37-.367-.97-.367-1.338 0l-7.108 7.06c-.37.366-.37.962 0 1.33l7.106 7.06c.185.183.427.275.67.275" fill="#FFFFFF" fill-rule="evenodd"/>\n</svg>\n'},function(e,t,n){"use strict";n.d(t,"a",function(){return l});var a,r=n(0),i=n.n(r),o=n(11),s=n.n(o),u=n(376),c=n.n(u),l=(a=r.Component,babelHelpers.inherits(d,a),d.prototype.componentDidMount=function(){this.props.featureTracker.opportunity("BUTTON_OPEN_FIND")},d.prototype.render=function(){var e=this.props.findAvailable,t=e?"Find":"Find is not available";return i.a.createElement("div",{className:s()("controls__find-button",{"controls__find-button--disabled":!e}),"data-tooltip":t},i.a.createElement("button",{type:"button",className:s()("find-button svg-btn",{"svg-btn--disabled":!e}),onClick:this.onClick,dangerouslySetInnerHTML:{__html:c.a},disabled:!e}))},d);function d(){var e,t,n;babelHelpers.classCallCheck(this,d);for(var r=arguments.length,i=Array(r),o=0;o<r;o++)i[o]=arguments[o];return(e=t=babelHelpers.possibleConstructorReturn(this,a.call.apply(a,[this].concat(i)))).onClick=function(){t.props.featureTracker.usage("BUTTON_OPEN_FIND"),t.props.onClick()},n=e,babelHelpers.possibleConstructorReturn(t,n)}},function(e,t){e.exports='<svg width="100%" height="100%" viewBox="-9 -9 34 34" xmlns="http://www.w3.org/2000/svg">\n  <path d="M6.29 12.58c3.474 0 6.29-2.816 6.29-6.29S9.765 0 6.29 0 0 2.816 0 6.29s2.816 6.29 6.29 6.29zm0-1.677c2.548 0 4.613-2.065 4.613-4.613 0-2.548-2.065-4.613-4.613-4.613-2.548 0-4.613 2.065-4.613 4.613 0 2.548 2.065 4.613 4.613 4.613zm4.665 1.83c-.492-.49-.496-1.284 0-1.78.49-.49 1.287-.49 1.78.002l2.895 2.895c.49.492.495 1.286 0 1.78-.49.492-1.288.49-1.78 0l-2.895-2.896zm-3.18-3.507L7.34 7.8H5.157l-.436 1.426H3.355l2.113-6.012H7.02l2.122 6.012H7.775zm-.738-2.49c-.403-1.29-.627-2.022-.678-2.19-.05-.17-.088-.304-.11-.403-.09.35-.348 1.214-.774 2.592h1.56z" class="shadow" fill-rule="evenodd" />\n  <path d="M6.29 12.58c3.474 0 6.29-2.816 6.29-6.29S9.765 0 6.29 0 0 2.816 0 6.29s2.816 6.29 6.29 6.29zm0-1.677c2.548 0 4.613-2.065 4.613-4.613 0-2.548-2.065-4.613-4.613-4.613-2.548 0-4.613 2.065-4.613 4.613 0 2.548 2.065 4.613 4.613 4.613zm4.665 1.83c-.492-.49-.496-1.284 0-1.78.49-.49 1.287-.49 1.78.002l2.895 2.895c.49.492.495 1.286 0 1.78-.49.492-1.288.49-1.78 0l-2.895-2.896zm-3.18-3.507L7.34 7.8H5.157l-.436 1.426H3.355l2.113-6.012H7.02l2.122 6.012H7.775zm-.738-2.49c-.403-1.29-.627-2.022-.678-2.19-.05-.17-.088-.304-.11-.403-.09.35-.348 1.214-.774 2.592h1.56z" class="icon" fill-rule="evenodd"/>\n</svg>\n'},function(e,t,n){"use strict";n.d(t,"a",function(){return u});var a,r=n(0),i=n.n(r),o=n(42),s=n.n(o),u=(a=r.Component,babelHelpers.inherits(c,a),c.prototype.componentDidMount=function(){window.addEventListener("resize",this.resize),requestAnimationFrame(this.redraw)},c.prototype.shouldComponentUpdate=function(e){return!s()(this.props,e)},c.prototype.componentDidUpdate=function(e){requestAnimationFrame(this.redraw)},c.prototype.componentWillUnmount=function(){window.removeEventListener("resize",this.resize)},c.prototype.render=function(){return i.a.createElement("canvas",{ref:"canvas",className:"slider-markers",height:1})},c);function c(){var e,i,t;babelHelpers.classCallCheck(this,c);for(var n=arguments.length,r=Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=i=babelHelpers.possibleConstructorReturn(this,a.call.apply(a,[this].concat(r)))).resize=function(){requestAnimationFrame(i.redraw)},i.redraw=function(){var e=i.props.markers,t=i.refs.canvas;if(t){var n=t.getContext("2d");if(n){var r=t.width=t.clientWidth;n.clearRect(0,0,r,1),n.fillStyle="yellow",e.forEach(function(e){n.fillRect(Math.round(e*(r-3)),0,3,1)})}}},t=e,babelHelpers.possibleConstructorReturn(i,t)}},function(e,t,n){"use strict";n.d(t,"a",function(){return r});var u=n(5),c=n(12),l=n(149),d=n(57);function r(){return function(a,e){var t=e(),n=Object(l.b)(t).api,r=Object(c.d)(t),i=r.username,o=r.documentName,s=Object(u.i)(t);return t.paywall.status!==d.d.NOTLOADED?Promise.resolve():(a({type:d.b}),fetch(n+"/call/paywall/reader/v2/overlay/"+i+"/"+o,{credentials:s?"include":"omit",mode:"cors"}).then(function(e){if(!e.ok)throw new Error("Error load paywallOverlay Api (response.status: "+e.status+")");return e.json()}).then(function(e){var t=e.currentUserPurchased,n=e.isNotAvailable,r=e.priceAmount,i=e.priceCurrency,o=e.readPurchasedPath;return a({type:d.a,currentUserPurchased:t,isNotAvailable:n,priceAmount:r,priceCurrency:i,readPurchasedPath:o})}).catch(function(e){return a({type:d.c,error:e})}))}}},function(e,t,n){"use strict";var a,r=n(0),i=n.n(r),o=n(11),s=n.n(o),u=n(133),c=n(104),l=n(157),d=(a=i.a.Component,babelHelpers.inherits(p,a),p.prototype.createAd=function(e){var t=this.adContainer,n=this.props.licenses;if(t){var r=document.createElement("div");r.className=s()("jaguar__ad-slot"),t.appendChild(r),this.adElement=r;var i=[["publicationId",this.props.publicationId],["ownerUsername",this.props.publisherUsername],["licenses",n]];u.create({rootElm:this.adElement,dfpTargeting:i,adProviderConfig:{network:"/30443627/inPublication_Native",sizes:["fluid",[1,1]]},isProductionEnv:!0,trackingKey:"ads-widget.InPublication_Native",pageUrl:e,callbacks:{onAdFilled:this.props.onShow,onAdFailed:this.props.onFailed,onAdUnfilled:this.props.onUnfilled,onAdBlocked:this.props.onBlocked}}).show()}},p.prototype.removeAd=function(){this.adElement&&this.adElement.parentNode&&(this.adElement.parentNode.removeChild(this.adElement),this.adElement=null)},p.prototype.updateProgress=function(e,t){this.progressElement&&(this.progressElement.style.transform="scaleX("+e/t+")")},p.prototype.render=function(){var t=this,e=this.props.isOverlayVisible;return i.a.createElement("div",{className:s()("jaguar",{"jaguar--hidden":!e}),ref:function(e){return t.overlayElement=e},onClick:this.props.areButtonsEnabled?this.onCloseOverlay:null},i.a.createElement("div",{className:s()("jaguar__unit")},i.a.createElement("div",{className:s()("jaguar__placeholder")}),i.a.createElement("div",{className:s()("jaguar__ad"),ref:function(e){return t.adContainer=e},onClick:this.props.onIntent,onMouseEnter:this.props.onIntent},i.a.createElement("div",{className:s()("jaguar__progress")},i.a.createElement("div",{className:s()("jaguar__progress-bar"),ref:function(e){return t.progressElement=e}})),i.a.createElement("div",{className:s()("jaguar__label")},"Advertisement"),i.a.createElement("button",{className:"jaguar__close-button",disabled:!this.props.areButtonsEnabled,type:"button",dangerouslySetInnerHTML:{__html:c.a},onClick:this.props.onClose}))),i.a.createElement("button",{className:"jaguar__prev-button",disabled:!this.props.areButtonsEnabled,type:"button",dangerouslySetInnerHTML:{__html:l.a},onClick:this.props.onClose}),i.a.createElement("button",{className:"jaguar__next-button",disabled:!this.props.areButtonsEnabled,type:"button",dangerouslySetInnerHTML:{__html:l.a},onClick:this.props.onClose}))},p);function p(){var e,t,n;babelHelpers.classCallCheck(this,p);for(var r=arguments.length,i=Array(r),o=0;o<r;o++)i[o]=arguments[o];return(e=t=babelHelpers.possibleConstructorReturn(this,a.call.apply(a,[this].concat(i)))).onCloseOverlay=function(e){e.target===t.overlayElement&&t.props.onClose()},n=e,babelHelpers.possibleConstructorReturn(t,n)}t.a=d},,function(e,t,n){"use strict";var a,r=n(0),i=n.n(r),o=n(11),s=n.n(o),u=(n(133),n(382)),c=(a=i.a.Component,babelHelpers.inherits(l,a),l.prototype.createAd=function(e){var t=this,n=this.adContainer,r=this.monitor;if(n){var i=document.createElement("div");i.id="pearl__instream",i.className="pearl__ad-slot",n.appendChild(i),this.adElement=i;var o=[["publicationId",this.props.publicationId],["ownerUsername",this.props.publisherUsername]].map(function(e){return e[0]+"="+e[1]}).join("&");this.player=u.a(i.id,{adTagUrl:"https://pubads.g.doubleclick.net/gampad/ads?iu=/30443627/inPub_Outstream&description_url="+window.encodeURIComponent(e)+"&env=vp&impl=s&correlator=&tfcd=0&npa=0&gdfp_req=1&output=vast&sz=640x480&cust_params="+window.encodeURIComponent(o)+"&max_ad_duration=30000&unviewed_position_start=1"}),r("requested"),this.player.on("error",function(e){t.player.destroy(),t.props.onFailed(),r("failed")}),this.player.on("complete",function(){t.player.destroy(),t.props.onClose()}),this.player.on("loaded",function(){r("filled"),t.props.onShow()}),this.player.start()}},l.prototype.removeAd=function(){this.player&&this.player.destroy(),this.adElement&&this.adElement.parentNode&&(this.adElement.parentNode.removeChild(this.adElement),this.adElement=null)},l.prototype.updateProgress=function(e,t){var n=this.progressElement,r=this.countdownElement;n&&(n.style.transform="scaleX("+e/t+")"),r&&(r.innerText=""+Math.ceil((t-e)/1e3))},l.prototype.render=function(){var t=this,e=this.props.isOverlayVisible;return i.a.createElement("div",{className:s()("pearl",{"pearl--hidden":!e})},i.a.createElement("div",{className:s()("pearl__ad"),ref:function(e){return t.adContainer=e},onClick:this.props.onIntent},i.a.createElement("div",{className:"pearl__gradient"}),i.a.createElement("div",{className:s()("pearl__progress")},i.a.createElement("div",{className:s()("pearl__progress-bar"),ref:function(e){return t.progressElement=e}})),i.a.createElement("div",{className:s()("pearl__label")},"Advertisement")),i.a.createElement("div",{className:s()("pearl__close-button"),onClick:this.props.areButtonsEnabled?this.props.onClose:void 0},this.props.areButtonsEnabled&&i.a.createElement("div",{className:s()("pearl__close-button--text")},"Continue to publication"),i.a.createElement("div",{className:"pearl__cover"},i.a.createElement("img",{src:this.props.thumbnailUrl,alt:""}),!this.props.areButtonsEnabled&&i.a.createElement("div",{className:s()("pearl__countdown"),ref:function(e){return t.countdownElement=e}}))),i.a.createElement("div",{className:"pearl__document-title"},this.props.documentTitle))},l);function l(){var e,t,n;babelHelpers.classCallCheck(this,l);for(var r=arguments.length,i=Array(r),o=0;o<r;o++)i[o]=arguments[o];return(e=t=babelHelpers.possibleConstructorReturn(this,a.call.apply(a,[this].concat(i)))).monitor=function(e){t.props.metrics.monitor("issuuads.identifier.inpublication-instream."+e)},n=e,babelHelpers.possibleConstructorReturn(t,n)}t.a=c},,function(e,t,n){"use strict";n.d(t,"a",function(){return o});var r=n(0),_=n.n(r),i=n(11),y=n.n(i),E=n(211);function o(e){var t=e.isNotAvailable,n=e.isOverlayVisible,r=e.isPreview,i=e.isPurchased,o=e.hostName,a=e.onKeepReading,s=e.paywallDataLoaded,u=e.priceAmount,c=e.priceCurrency,l=e.publicationCoverUrl,d=e.publicationName,p=e.publicationTitle,h=e.publisherDisplayName,f=e.publisherName,m=e.publisherProfileImageUrl,g=e.publisherProfileUrl,v=e.readPurchasedPath,b=e.showKeepReading;return i?_.a.createElement("div",{className:"paywall-read-purchased"},_.a.createElement(E.c,{hostName:o,publicationCoverUrl:l,publicationTitle:p,readPurchasedPath:v})):r?_.a.createElement("div",null,!n&&s&&_.a.createElement("div",{className:"paywall-btn--header"},_.a.createElement(E.a,{hostName:o,isNotAvailable:t,priceAmount:u,priceCurrency:c,publicationName:d,publisherName:f})),_.a.createElement("div",{className:y()("paywall-overlay",{"is-hidden":!n})},_.a.createElement(E.b,{hostName:o,isNotAvailable:t,onKeepReading:a,priceAmount:u,priceCurrency:c,publicationCoverUrl:l,publicationName:d,publicationTitle:p,publisherDisplayName:h,publisherName:f,publisherProfileImageUrl:m,publisherProfileUrl:g,showKeepReading:b}))):null}},,,function(e,t,n){"use strict";n.d(t,"a",function(){return R});var a,r=n(37),i=n(0),s=n.n(i),o=n(15),u=n.n(o),c=n(22),l=n(43),d=n(9),p=n(198),h=n(29),f=n(97),m=n(141),g=n(5),v=n(190),b=n(390),_=n(391),y=n(215),E=n(464),T=n(23),w=n(36),C=n(94),x=n(96),O=(a=i.Component,babelHelpers.inherits(S,a),S.prototype.componentDidMount=function(){this.container=u.a.findDOMNode(this.refs.main),this.loadDocument(),this.listenToVisibilityChangeEvent()},S.prototype.shouldComponentUpdate=function(e){return this.props.loading.status!==e.loading.status||this.props.adSize.join(",")!==e.adSize.join(",")||this.props.backgroundColor!==e.backgroundColor||this.props.backgroundImage!==e.backgroundImage||this.props.adSmallLayout!==e.adSmallLayout},S.prototype.render=function(){var e=["reader-container"];document.documentMode&&10===document.documentMode&&e.push("ie10");var t=this.props.adSize,n=!0,r=Object(C.a)(t);r||(t[0]<t[1]?(n=!1,e.push("reader-container--ad-on-left")):e.push("reader-container--ad-on-bottom"));var i=null;switch(this.props.loading.status){case f.a.FAILED:i=s.a.createElement(v.a,{sessionId:this.props.sessionId,reloadDocument:this.reloadDocument,error:this.props.loading.error});break;case f.a.SUCCESS:i=s.a.createElement(E.a,{featureTracker:this.props.featureTracker,toggleFullscreen:this.toggleFullscreen},s.a.createElement(_.a,{config:this.props.config,toggleFullscreen:this.toggleFullscreen,metrics:this.props.metrics,loadStatsTracker:this.props.loadStatsTracker}));break;case f.a.INITIALIZED:case f.a.LOADING:default:i=s.a.createElement(b.a,null)}this.props.backgroundImage&&(this.props.backgroundImage.style===h.BACKGROUND_IMAGE_STYLE.TOP_LEFT?e.push("reader-container--background-image-top-left"):this.props.backgroundImage.style===h.BACKGROUND_IMAGE_STYLE.STRETCH&&e.push("reader-container--background-image-stretch"));var o={width:"100%",height:"100%",backgroundColor:this.props.backgroundColor,backgroundImage:this.props.backgroundImage?"url('"+this.props.backgroundImage.url+"')":"none"};return s.a.createElement("div",{ref:"main",id:"ird3-main",className:e.join(" "),style:o},this.props.enableCookieConsent&&s.a.createElement(x.a,null),i,s.a.createElement(w.d,{metrics:this.props.metrics}),!r&&s.a.createElement(y.a,{adSize:t,horizontalLayout:n,metrics:this.props.metrics,smallLayout:this.props.adSmallLayout}))},S);function S(){var e,t,n;babelHelpers.classCallCheck(this,S);for(var r=arguments.length,i=Array(r),o=0;o<r;o++)i[o]=arguments[o];return(e=t=babelHelpers.possibleConstructorReturn(this,a.call.apply(a,[this].concat(i)))).reloadDocument=function(){t.props.documentConnector.reset(),t.loadDocument()},t.loadDocument=function(){return t.props.loadReaderData(t.props.documentConnector,function(){var e=Object(T.a)();return[t.container.clientWidth*e,t.container.clientHeight*e]},t.props.readMorePlugin)},t.listenToVisibilityChangeEvent=function(){Object(m.b)()&&Object(m.c)(function(){t.props.onVisibilityChange()})},t.toggleFullscreen=function(){return t.props.toggleFullscreen(t.props.documentUrlWithPageNumber)},n=e,babelHelpers.possibleConstructorReturn(t,n)}O.displayName="Main";var R=Object(c.b)(function(e){return{backgroundColor:g.f(e),backgroundImage:g.g(e),config:e.config,documentUrlWithPageNumber:g.p(e),enableCookieConsent:!!e.features.enableCookieConsent,loading:e.loading,readMorePlugin:e.readMorePlugin,sessionId:e.config.sessionId,adSize:Object(y.b)(e),adSmallLayout:Object(y.c)(e)}},function(e){return{toggleFullscreen:Object(l.b)(d.f,e),loadReaderData:Object(l.b)(r.e,e),onVisibilityChange:Object(l.b)(p.a,e)}},void 0,{pure:!1})(O)},function(e,t,n){"use strict";n.d(t,"a",function(){return o});var a,r=n(101),s=n.n(r),i=n(0),u=n.n(i),c=n(13),l=n(54),d=n(104),p=n(113),h=n(79),f=n(96),o=(a=i.Component,babelHelpers.inherits(m,a),m.prototype.componentDidMount=function(){var e=this.props,t=e.service,n=e.videoId,r=e.videoInfo;e.checkIfVideoExplicit&&r===h.a.UNKNOWN&&this.props.dispatch(Object(h.c)(t,n,this.props.metrics))},m.prototype.render=function(){return u.a.createElement("div",{className:"video-overlay"},u.a.createElement("div",{className:"video-overlay__background",onClick:this.onBackgroundClick}),this.renderContent())},m);function m(){var e,r,t;babelHelpers.classCallCheck(this,m);for(var n=arguments.length,i=Array(n),o=0;o<n;o++)i[o]=arguments[o];return(e=r=babelHelpers.possibleConstructorReturn(this,a.call.apply(a,[this].concat(i)))).onOpenAnywayHandler=function(){window.open(r.props.videoUrl,"_blank"),r.props.dispatch(c.a())},r.onBackgroundClick=function(){r.props.dispatch(Object(h.b)())},r.onCloseButtonClick=function(){r.props.dispatch(Object(h.b)()),r.props.dispatch(c.a())},r.getVideoEmbedUrl=function(){switch(r.props.service){case"youtube":var t=new s.a(r.props.videoUrl),n=["autoplay=1"];return["rel","start","end","loop"].forEach(function(e){t.hasQueryParam(e)&&n.push(e+"="+t.getQueryParamValue(e))}),"https://www.youtube.com/embed/"+r.props.videoId+"?"+n.join("&");case"vimeo":return"https://player.vimeo.com/video/"+r.props.videoId+"?autoplay=1";default:return""}},r.renderContent=function(){var e=r.props,t=e.videoInfo,n=e.service;if(!e.checkIfVideoExplicit||t===h.a.SAFE)return u.a.createElement("div",{className:"video-overlay__content"},u.a.createElement("iframe",{className:"video-overlay__player",src:r.getVideoEmbedUrl(),allowFullScreen:!0}),u.a.createElement(l.a,{className:"svg-btn video-overlay__close-button",content:d.a,onClick:r.onCloseButtonClick}));switch(t){case h.a.EXPLICIT:return u.a.createElement("div",{className:"video-overlay__error-content"},u.a.createElement(f.c,{onSubmit:function(){return r.onOpenAnywayHandler()},onClose:function(){return r.onCloseButtonClick()},service:n}));case h.a.UNKNOWN:return u.a.createElement("div",{className:"video-overlay__content"},u.a.createElement("div",{className:"video-overlay__loading"},u.a.createElement(p.a,null)),u.a.createElement(l.a,{className:"svg-btn video-overlay__close-button",content:d.a,onClick:r.onCloseButtonClick}));case h.a.ERROR:return u.a.createElement("div",{className:"video-overlay__error-content"},u.a.createElement(f.b,{onSubmit:function(){return r.onOpenAnywayHandler()},onClose:function(){return r.onCloseButtonClick()},service:n}));default:throw new Error("The video info is not a valid value: "+t)}},t=e,babelHelpers.possibleConstructorReturn(r,t)}o.displayName="VideoOverlay"},function(e,t,n){"use strict";function r(e){var t=e.color,n=e.size,r=babelHelpers.objectWithoutProperties(e,["color","size"]);return o.a.createElement("svg",babelHelpers.extends({xmlns:"http://www.w3.org/2000/svg",width:n,height:n,viewBox:"0 0 24 24",fill:"none",stroke:t,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},r),o.a.createElement("circle",{cx:"12",cy:"12",r:"10"}),o.a.createElement("line",{x1:"8",y1:"12",x2:"16",y2:"12"}))}var i=n(0),o=n.n(i);r.defaultProps={color:"currentColor",size:"24"},t.a=r},function(e,t,n){"use strict";function r(e){var t=e.color,n=e.size,r=babelHelpers.objectWithoutProperties(e,["color","size"]);return o.a.createElement("svg",babelHelpers.extends({xmlns:"http://www.w3.org/2000/svg",width:n,height:n,viewBox:"0 0 24 24",fill:"none",stroke:t,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},r),o.a.createElement("circle",{cx:"12",cy:"12",r:"10"}),o.a.createElement("line",{x1:"12",y1:"8",x2:"12",y2:"12"}),o.a.createElement("line",{x1:"12",y1:"16",x2:"12",y2:"16"}))}var i=n(0),o=n.n(i);r.defaultProps={color:"currentColor",size:"24"},t.a=r},function(e,t,n){"use strict";n.d(t,"a",function(){return s});var r,i=n(0),o=n.n(i),a=n(113),s=(r=i.Component,babelHelpers.inherits(u,r),u.prototype.render=function(){return o.a.createElement("div",{className:"loading"},o.a.createElement("div",{className:"loading__spinner"},o.a.createElement(a.a,{type:a.a.SPINNER_TYPE_ALTERNATE})))},u);function u(){return babelHelpers.classCallCheck(this,u),babelHelpers.possibleConstructorReturn(this,r.apply(this,arguments))}s.displayName="Loading"},function(e,t,n){"use strict";n.d(t,"a",function(){return P});var a,r=n(0),i=n.n(r),o=n(22),s=n(392),u=n(201),c=n(203),l=n(421),d=n(459),p=n(460),h=n(461),f=n(9),m=n(112),g=n(33),v=n(136),b=n(8),_=n(13),y=n(5),E=n(160),T=n(106),w=n(32),C=n(49),x=n(7),O=n(462),S=n(78),R=(a=r.Component,babelHelpers.inherits(I,a),I.prototype.componentDidMount=function(){var r=this,e=this.refs.canvas.getWrappedInstance();window.ISSUU_READER_DOCUMENTCANVAS=e,this.interactionDetector=new O.a(this.refs.mainReader,function(){r.props.interactedWithReader||window.setTimeout(function(){r.props.dispatch(b.o())},500)}),this.inputHandler=new S.a(this.refs.mainReader,{onMouseMove:function(e,t,n){r.props.dispatch(_.j())},onMouseEnter:function(e){r.props.dispatch(_.h())},onMouseLeave:function(e){r.props.dispatch(_.i())}}),this.trackOpportunities()},I.prototype.componentDidUpdate=function(e){this.props.renderReadmore&&this.props.exitedFullscreen&&this.props.moreContentContainerIsVisible&&this.props.moreContentContainerIsVisible!==e.moreContentContainerIsVisible&&this.props.featureTracker.usage(x.a.FULLSCREEN_MORE),this.trackOpportunities()},I.prototype.componentWillUnmount=function(){this.interactionDetector&&this.interactionDetector.destroy()},I.prototype.render=function(){var e=void 0;e=this.props.showCTAOverlay?i.a.createElement(p.a,{dispatch:this.props.dispatch,featureTracker:this.props.featureTracker,fullscreenEnabled:this.props.fullscreenEnabled,toggleFullscreen:this.props.toggleFullscreen,visible:this.props.isControlsVisible}):i.a.createElement(s.a,{toggleFullscreen:this.props.toggleFullscreen,visible:this.props.isControlsVisible});var t={backgroundImage:this.props.logo?"url('"+this.props.logo.url+"')":"none"};return i.a.createElement("div",{ref:"mainReader",tabIndex:"1",className:"reader",style:t},i.a.createElement("div",{className:"reader__layout"},i.a.createElement(c.a,null),i.a.createElement(u.a,null),!this.props.showCTAOverlay&&i.a.createElement(g.b.FindOverlay,{featureTracker:this.props.featureTracker,enableIncrementalSearch:!C.a.isIOS()}),i.a.createElement("div",{className:"reader__canvas-container"},i.a.createElement(l.a,{ref:"canvas",loadStatsTracker:this.props.loadStatsTracker,metrics:this.props.metrics}),i.a.createElement(d.a,{leftArrowVisible:this.props.isLeftArrowVisible,rightArrowVisible:this.props.isRightArrowVisible,onClickLeftArrow:this.onPreviousSpreadButtonClick,onClickRightArrow:this.onNextSpreadButtonClick})),e,this.props.renderReadmore&&i.a.createElement(h.a,{dispatch:this.props.dispatch,visible:this.props.moreContentContainerIsVisible,showAsOverlay:this.props.showReadmoreAsOverlay,readerSizeInPixels:this.props.readerSizeInPixels},this.props.readMorePlugin.render(this.props.config,this.props.debugMode,this.props.exitedFullscreen,this.props.moreContentContainerIsVisible,this.props.showReadmoreAsOverlay)),this.props.renderPaywallOverlay&&i.a.createElement(m.a,null),this.props.renderVideoOverlay&&i.a.createElement(v.a,{metrics:this.props.metrics})))},I);function I(){var e,t,n;babelHelpers.classCallCheck(this,I);for(var r=arguments.length,i=Array(r),o=0;o<r;o++)i[o]=arguments[o];return(e=t=babelHelpers.possibleConstructorReturn(this,a.call.apply(a,[this].concat(i)))).onNextSpreadButtonClick=function(e){e.preventDefault(),t.props.featureTracker.usage(x.a.BUTTON_ARROW_FORWARD),t.props.dispatch(_.a()),t.nextSpread()},t.onPreviousSpreadButtonClick=function(e){e.preventDefault(),t.props.featureTracker.usage(x.a.BUTTON_ARROW_BACKWARD),t.props.dispatch(_.a()),t.previousSpread()},t.trackOpportunities=function(){t.props.featureTracker.opportunity(x.a.FULLSCREEN_MORE),t.props.isLeftArrowVisible&&t.props.featureTracker.opportunity(x.a.BUTTON_ARROW_BACKWARD),t.props.isRightArrowVisible&&t.props.featureTracker.opportunity(x.a.BUTTON_ARROW_FORWARD)},t.nextSpread=function(){t.props.dispatch(b.g())},t.previousSpread=function(){t.props.dispatch(b.h())},n=e,babelHelpers.possibleConstructorReturn(t,n)}R.displayName="Reader";var P=Object(o.b)(function(e){return{debugMode:e.reader.debugMode,exitedFullscreen:e.readmore.exitedFullscreen,featureTracker:e.featureTracker,interactedWithReader:e.reader.interactedWithReader,readMorePlugin:e.readMorePlugin,showReadmoreAsOverlay:T.d(e),fullscreenEnabled:Object(f.d)(e),isControlsVisible:y.a(e),logo:y.v(e),isLeftArrowVisible:E.a(e),isRightArrowVisible:E.b(e),moreContentContainerIsVisible:y.e(e),readerSizeInPixels:y.D(e),renderReadmore:T.b(e),renderPaywallOverlay:Object(w.a)(e),showCTAOverlay:y.F(e),renderVideoOverlay:Object(v.c)(e)}},void 0,void 0,{pure:!0})(R)},function(e,t,n){"use strict";n.d(t,"a",function(){return L});var a,r=n(0),o=n.n(r),i=n(22),s=n(15),u=n.n(s),c=n(42),l=n.n(c),d=n(11),p=n.n(d),h=n(1),f=n(54),m=n(393),g=n(401),v=n(404),b=n(405),_=n(78),y=n(36),E=n(33),T=n(9),w=n(8),C=n(13),x=n(5),O=n(114),S=n(12),R=n(117),I=n(29),P=n(7),k=n(408),A=(a=r.Component,babelHelpers.inherits(N,a),N.prototype.componentDidMount=function(){var t=this;this.inputHandler=new _.a(u.a.findDOMNode(this.refs.controlsContainer),{onMouseEnter:function(e){t.props.visible&&t.props.dispatch(w.n(!0))},onMouseLeave:function(e){t.props.dispatch(w.n(!1))}}),this.props.featureTracker.opportunity(P.a.SLIDER_PAGES)},N.prototype.shouldComponentUpdate=function(e,t){var n=this.props.visible!==e.visible;return e.visible&&(n=n||!(l()(this.props,e)&&l()(this.state,t))),n},N.prototype.componentWillUnmount=function(){this.inputHandler&&this.inputHandler.destroy()},N.prototype.render=function(){var e=this,t=void 0;this.props.showIssuuBranding&&(t=o.a.createElement("div",{className:"controls__read-on-issuu"},o.a.createElement("div",{className:"controls__read-on-issuu-button","data-tooltip":"See more on Issuu"},o.a.createElement(f.a,{className:"svg-btn logo-icon",onClick:this.onReadOnIssuuClick,content:k.a}))),this.props.featureTracker.opportunity(P.a.BUTTON_LOGO));var n=null;if(this.props.fullscreenFeature){var r=!1;switch(this.props.fullscreenFeature.showButtons){case I.FULLSCREEN_BUTTON.ALWAYS:r=!0;break;case I.FULLSCREEN_BUTTON.HIDE:r=this.props.fullscreenIsSupported}r&&(n=o.a.createElement(v.a,{fullscreenEnabled:this.props.fullscreenEnabled,toggleFullscreen:this.onToggleFullscreenClick}),this.props.featureTracker.opportunity(P.a.BUTTON_FULLSCREEN))}var i=p()("controls",{"controls--hidden":!this.props.visible});return o.a.createElement("div",{className:i,ref:"controlsContainer"},o.a.createElement("div",{className:"controls__background"}),o.a.createElement("div",{className:"controls__part controls__part--page-controls"},o.a.createElement(m.a,{abortCurrentInteraction:this.props.isAdOverlayVisible,currentPageSliderPosition:this.props.currentPageSliderPosition,currentPageNumbers:this.props.currentPageNumbers,pageCount:this.props.pageCount,pageSliderOnChangeStart:this.handlePageSliderOnChangeStart,pageSliderOnChange:this.handlePageSliderOnChange,pageSliderOnChangeEnd:this.handlePageSliderOnChangeEnd,segments:this.props.pageSegments,resultMarkers:this.props.resultMarkers})),this.props.zoomFeature&&o.a.createElement("div",{className:"controls__part controls__part--zoom-controls"},o.a.createElement(g.a,{currentZoomLevel:this.props.zoomLevel,dispatch:this.props.dispatch,featureTracker:this.props.featureTracker,segments:this.props.zoomSegments,zoomSliderOnChangeStart:this.handleZoomSliderOnChangeStart,zoomSliderOnChange:this.handleZoomSliderOnChange,zoomSliderOnChangeEnd:this.handleZoomSliderOnChangeEnd})),t&&o.a.createElement("div",{className:"controls__part"},t),o.a.createElement("div",{className:"controls__part"},o.a.createElement(E.b.FindButton,{featureTracker:this.props.featureTracker})),this.props.largeViewState!==R.c&&!this.props.fullscreenEnabled&&o.a.createElement("div",{className:"controls__part"},o.a.createElement(b.a,{featureTracker:this.props.featureTracker,largeViewPromoted:this.props.largeViewPromoted,largeViewEngaged:this.props.largeViewState===R.b,handleClick:function(){e.props.dispatch(w.f())}})),n&&o.a.createElement("div",{className:"controls__part controls__part--fullscreen-controls"},n))},N);function N(){var e,t,n;babelHelpers.classCallCheck(this,N);for(var r=arguments.length,i=Array(r),o=0;o<r;o++)i[o]=arguments[o];return(e=t=babelHelpers.possibleConstructorReturn(this,a.call.apply(a,[this].concat(i)))).onReadOnIssuuClick=function(){var e=t.props.issuuBrandingFeature&&t.props.issuuBrandingFeature.openInNewTab?"_blank":"_top";window.open("https://issuu.com"+Object(h.z)("logo",t.props.issuuLinkTrackingQuery),e),t.props.dispatch(C.a()),t.props.featureTracker.usage(P.a.BUTTON_LOGO)},t.onToggleFullscreenClick=function(){t.props.toggleFullscreen(),t.props.featureTracker.usage(P.a.BUTTON_FULLSCREEN),t.props.dispatch(C.a())},t.onSliderActivityStart=function(){t.props.dispatch(w.p(!0)),t.props.dispatch(C.f())},t.onSliderActivityChange=function(){t.props.dispatch(C.f())},t.onSliderActivityEnd=function(){t.props.dispatch(w.p(!1)),t.props.dispatch(C.f())},t.handlePageSliderOnChangeStart=function(){t.props.canvasApi&&t.props.canvasApi.setSnapping(!1),t.onSliderActivityStart(),t._percentBeforeSlider=t.props.currentPageSliderPosition},t.handlePageSliderOnChange=function(e){t.onSliderActivityChange(),t.props.canvasApi&&t.props.canvasApi.jumpToPositionByPercent(e)},t.handlePageSliderOnChangeEnd=function(e){t.props.canvasApi&&t.props.canvasApi.setSnapping(!0),t.onSliderActivityEnd(),t.props.currentPageSliderPosition!==t._percentBeforeSlider&&t.props.featureTracker.usage(P.a.SLIDER_PAGES)},t.handleZoomSliderOnChangeStart=function(){t.onSliderActivityStart()},t.handleZoomSliderOnChange=function(e){t.onSliderActivityChange(),t.props.canvasApi&&t.props.canvasApi.zoomCurrentView(e)},t.handleZoomSliderOnChangeEnd=function(){t.onSliderActivityEnd()},n=e,babelHelpers.possibleConstructorReturn(t,n)}A.displayName="Controls";var L=Object(i.b)(function(e){return{showIssuuBranding:x.G(e),canvasApi:e.canvasApi,isAdOverlayVisible:Object(y.i)(e),currentPageNumbers:x.k(e).join("-"),currentPageSliderPosition:x.l(e),featureTracker:e.featureTracker,fullscreenEnabled:Object(T.d)(e),fullscreenIsSupported:e.fullscreen.supported,issuuBrandingFeature:x.r(e),issuuLinkTrackingQuery:x.s(e),pageCount:Object(S.d)(e).pageCount,pageSegments:Object(O.b)(e),resultMarkers:E.d.selectResultMarkers(e),fullscreenFeature:Object(T.e)(e),zoomFeature:x.H(e),zoomLevel:e.reader.zoomLevel,zoomSegments:Object(O.c)(e),largeViewPromoted:e.reader.largeViewPromoted,largeViewState:e.reader.largeViewState}},void 0,void 0,{pure:!1})(A)},function(e,t,n){"use strict";n.d(t,"a",function(){return c});var r,i=n(0),o=n.n(i),a=n(114),s=n(42),u=n.n(s),c=(r=i.Component,babelHelpers.inherits(l,r),l.prototype.componentDidMount=function(){window.ISSUU_READER_PAGE_SLIDER=this.refs.pageSlider},l.prototype.shouldComponentUpdate=function(e,t){return!(u()(this.props,e)&&u()(this.state,t))},l.prototype.render=function(){return o.a.createElement("div",{className:"page-controls"},o.a.createElement("span",{className:"page-controls__page-numbers"},this.props.currentPageNumbers," / ",this.props.pageCount),o.a.createElement("div",{className:"page-controls__slider"},o.a.createElement(a.a,{ref:"pageSlider",abortCurrentInteraction:this.props.abortCurrentInteraction,value:this.props.currentPageSliderPosition,onChange:this.props.pageSliderOnChange,onChangeStart:this.props.pageSliderOnChangeStart,onChangeEnd:this.props.pageSliderOnChangeEnd,locked:1===this.props.pageCount,segments:this.props.segments,markers:this.props.resultMarkers})))},l);function l(){return babelHelpers.classCallCheck(this,l),babelHelpers.possibleConstructorReturn(this,r.apply(this,arguments))}c.displayName="PageControls"},function(e,t,n){"use strict";n.d(t,"a",function(){return o});var i,r=n(151),o=(i=r.a,babelHelpers.inherits(a,i),a.prototype.destroy=function(){this.targetElement.removeEventListener("mousedown",this._elementMouseDownHandler,!1),this.targetElement.removeEventListener("mousemove",this._elementMouseMoveHandler,!1),this.targetElement.removeEventListener("mouseenter",this._elementMouseEnterHandler,!1),this.targetElement.removeEventListener("mouseleave",this._elementMouseLeaveHandler,!1),this._removeEventListenersFromOwnerDocument()},a.prototype.reset=function(){i.prototype.reset.call(this),this._removeEventListenersFromOwnerDocument()},a.prototype._removeEventListenersFromOwnerDocument=function(){this.targetElement.ownerDocument.removeEventListener("mousemove",this._ownerDocumentMouseMoveHandler,!1),this.targetElement.ownerDocument.removeEventListener("mouseup",this._ownerDocumentMouseUpHandler,!1)},a);function a(e,t,n){babelHelpers.classCallCheck(this,a);var r=babelHelpers.possibleConstructorReturn(this,i.call(this,e,t,n));return r._elementMouseDownHandler=function(e){r.options.isSimulatedMouseEvents(e)||r.isDeactivated()||((r.options.activeHandler=r).saveTargetElementOffset(),r.savePointer(1,e.pageX,e.pageY,e.timeStamp),r.saveInitialPinchDistance(),r.fireGestureStart(),r.registerTapHandlers(),r.targetElement.ownerDocument.addEventListener("mousemove",r._ownerDocumentMouseMoveHandler,!1),r.targetElement.ownerDocument.addEventListener("mouseup",r._ownerDocumentMouseUpHandler,!1))},r._ownerDocumentMouseMoveHandler=function(e){r.savePointer(1,e.pageX,e.pageY,e.timeStamp),r.saveInitialGestureIfUndefined(),r.fireGestureChange(),r.validateTapHandlers(),r.options.shouldInvokePreventDefault()&&e.preventDefault()},r._ownerDocumentMouseUpHandler=function(e){r.savePointer(1,e.pageX,e.pageY,e.timeStamp),r.fireGestureEnd(),r.executeTapHandlers(),r.deletePointer(1),r.options.shouldInvokePreventDefault()&&e.preventDefault(),r.options.resetInterception(),r._removeEventListenersFromOwnerDocument()},r._elementMouseMoveHandler=function(e){r.options.isSimulatedMouseEvents(e)||r.fireMouseMove(e)},r._elementMouseEnterHandler=function(e){r.options.isSimulatedMouseEvents(e)||r.fireMouseEnter(e)},r._elementMouseLeaveHandler=function(e){r.options.isSimulatedMouseEvents(e)||r.fireMouseLeave(e)},r.targetElement.addEventListener("mousedown",r._elementMouseDownHandler,!1),r.targetElement.addEventListener("mousemove",r._elementMouseMoveHandler,!1),r.targetElement.addEventListener("mouseenter",r._elementMouseEnterHandler,!1),r.targetElement.addEventListener("mouseleave",r._elementMouseLeaveHandler,!1),r}},function(e,t,n){"use strict";function r(e){if(!e.getClientRects().length)return{top:0,left:0};var t=e.getBoundingClientRect();if(t.width||t.height){var n=e.ownerDocument.documentElement||{};return{top:t.top+window.pageYOffset-n.clientTop,left:t.left+window.pageXOffset-n.clientLeft}}return t}n.d(t,"a",function(){return r})},function(e,t,n){"use strict";n.d(t,"a",function(){return i});var r=9999999999999;function i(e){return r<e?Math.floor(e/1e3):e<0?Math.floor(e+r):Math.floor(e)}},function(e,t,n){"use strict";n.d(t,"a",function(){return o});var i,r=n(151),o=(i=r.a,babelHelpers.inherits(a,i),a.prototype.destroy=function(){this.targetElement.removeEventListener("touchstart",this._elementTouchStartHandler,!1),this.targetElement.removeEventListener("touchmove",this._elementTouchMoveHandler,!1),this.targetElement.removeEventListener("touchend",this._elementTouchEndHandler,!1),this.targetElement.removeEventListener("touchcancel",this._elementTouchCancelHandler,!1)},a.prototype._getValidChangedPointers=function(e){for(var t=[],n=0;n<e.changedTouches.length;n++){var r=e.changedTouches.item(n);r&&this.isValidPointer(r.identifier)&&t.push(r)}return t},a.prototype._saveValidChangedPointers=function(t){var n=this;this._getValidChangedPointers(t).forEach(function(e){n.savePointer(e.identifier,e.pageX,e.pageY,t.timeStamp)})},a.prototype._saveChangedPointers=function(e){for(var t=0;t<e.changedTouches.length;t++){var n=e.changedTouches.item(t);n&&this.savePointer(n.identifier,n.pageX,n.pageY,e.timeStamp)}},a.prototype._deleteValidChangedPointers=function(e){var t=this;this._getValidChangedPointers(e).forEach(function(e){t.deletePointer(e.identifier)})},a);function a(e,t,n){babelHelpers.classCallCheck(this,a);var r=babelHelpers.possibleConstructorReturn(this,i.call(this,e,t,n));return r._elementTouchStartHandler=function(e){r.isDeactivated()||((r.options.activeHandler=r).options.updateLastTouchEventTimeStamp(e),0===r.getPointerCount()&&r.saveTargetElementOffset(),r._saveChangedPointers(e),r.saveInitialPinchDistance(),r.saveInitialGestureIfUndefined(),r.fireGestureStart(),r.registerTapHandlers(),r.options.updateInterceptionWithTouchEvent(e),r.options.shouldInvokePreventDefault()&&e.preventDefault())},r._elementTouchMoveHandler=function(e){r.isDeactivated()||(r.options.updateLastTouchEventTimeStamp(e),0!==r._getValidChangedPointers(e).length&&(r._saveValidChangedPointers(e),r.saveInitialGestureIfUndefined(),r.options.updateInterceptionWithTouchEvent(e),r.options.hasBrowserIntercepted()?r.unregisterTapHandlers():(r.fireGestureChange(),r.validateTapHandlers()),r.options.shouldInvokePreventDefault()&&e.preventDefault()))},r._elementTouchEndHandler=function(e){if(!r.isDeactivated()){r.options.updateLastTouchEventTimeStamp(e);var t=r._getValidChangedPointers(e);if(0!==t.length){r._saveValidChangedPointers(e),r.options.updateInterceptionWithTouchEvent(e);var n=!1;r.getPointerCount()===t.length?(r.fireGestureEnd(),r.executeTapHandlers(),r._deleteValidChangedPointers(e),n=!0):(r._deleteValidChangedPointers(e),r.fireGestureStart(),r.saveInitialPinchDistance()),r.options.shouldInvokePreventDefault()&&e.preventDefault(),n&&r.options.resetInterception()}}},r._elementTouchCancelHandler=function(e){r._elementTouchEndHandler(e)},r.targetElement.addEventListener("touchstart",r._elementTouchStartHandler,!1),r.targetElement.addEventListener("touchmove",r._elementTouchMoveHandler,!1),r.targetElement.addEventListener("touchend",r._elementTouchEndHandler,!1),r.targetElement.addEventListener("touchcancel",r._elementTouchCancelHandler,!1),r}},function(e,t,n){"use strict";n.d(t,"a",function(){return o});var r=n(151);var i,o=(i=r.a,babelHelpers.inherits(s,i),s.prototype.destroy=function(){this.targetElement.removeEventListener(this.pointerEventTypes.DOWN,this._elementPointerDownHandler,!1),this.targetElement.removeEventListener(this.pointerEventTypes.MOVE,this._elementPointerMoveHandler,!1),this.targetElement.removeEventListener(this.pointerEventTypes.UP,this._elementPointerUpHandler,!1),this.targetElement.removeEventListener(this.pointerEventTypes.CANCEL,this._elementPointerCancelHandler,!1),this.targetElement.removeEventListener(this.pointerEventTypes.ENTER,this._elementPointerEnterHandler,!1),this.targetElement.removeEventListener(this.pointerEventTypes.LEAVE,this._elementPointerLeaveHandler,!1)},s);function s(e,t,n){babelHelpers.classCallCheck(this,s);var a=babelHelpers.possibleConstructorReturn(this,i.call(this,e,t,n));return a._elementPointerDownHandler=function(e){if(!a.isDeactivated()){var t=e;(a.options.activeHandler=a).options.updateLastPointerEventTimeStamp(t);var n=t.pointerId,r=t.pageX,i=t.pageY;if(a.options.shouldInvokeSetPointerCapture())try{a.targetElement.setPointerCapture?a.targetElement.setPointerCapture(""+n):a.targetElement.msSetPointerCapture&&a.targetElement.msSetPointerCapture(n)}catch(e){}0===a.getPointerCount()&&a.saveTargetElementOffset(),a.savePointer(n,r,i,e.timeStamp),a.saveInitialPinchDistance(),a.saveInitialGestureIfUndefined(),a.fireGestureStart();try{a.registerTapHandlers()}catch(e){}}},a._elementPointerMoveHandler=function(e){if(!a.isDeactivated()){var t=e;a.options.updateLastPointerEventTimeStamp(t),a.fireMouseMove(t);var n=t.pointerId,r=t.pageX,i=t.pageY;a.isValidPointer(n)&&(a.isPointerMoved(n,r,i,2)&&(a.savePointer(n,r,i,e.timeStamp),a.saveInitialGestureIfUndefined(),a.fireGestureChange()),a.validateTapHandlers(),a.options.shouldInvokePreventDefault()&&e.preventDefault())}},a._elementPointerUpHandler=function(e){if(!a.isDeactivated()){var t=e;a.options.updateLastPointerEventTimeStamp(t);var n=t.pointerId,r=t.pageX,i=t.pageY;if(a.isValidPointer(n)){a.savePointer(n,r,i,e.timeStamp);var o=!1;1===a.getPointerCount()?(a.fireGestureEnd(),a.executeTapHandlers(),a.deletePointer(n),o=!0):(a.fireGestureStart(),a.deletePointer(n),a.saveInitialPinchDistance()),a.options.shouldInvokePreventDefault()&&e.preventDefault(),o&&a.options.resetInterception()}}},a._elementPointerCancelHandler=function(e){a.unregisterTapHandlers(),a._elementPointerUpHandler(e)},a._elementPointerEnterHandler=function(e){var t=e;a.options.updateLastPointerEventTimeStamp(t),a.fireMouseEnter(t)},a._elementPointerLeaveHandler=function(e){var t=e;a.options.updateLastPointerEventTimeStamp(t),a.fireMouseLeave(t)},a.pointerEventTypes=function(){var e=!!window.PointerEvent;return{DOWN:e?"pointerdown":"MSPointerDown",MOVE:e?"pointermove":"MSPointerMove",UP:e?"pointerup":"MSPointerUp",CANCEL:e?"pointercancel":"MSPointerCancel",ENTER:e?"pointerenter":"MSPointerEnter",LEAVE:e?"pointerleave":"MSPointerLeave"}}(),a.targetElement.addEventListener(a.pointerEventTypes.DOWN,a._elementPointerDownHandler,!1),a.targetElement.addEventListener(a.pointerEventTypes.MOVE,a._elementPointerMoveHandler,!1),a.targetElement.addEventListener(a.pointerEventTypes.UP,a._elementPointerUpHandler,!1),a.targetElement.addEventListener(a.pointerEventTypes.CANCEL,a._elementPointerCancelHandler,!1),a.targetElement.addEventListener(a.pointerEventTypes.ENTER,a._elementPointerEnterHandler,!1),a.targetElement.addEventListener(a.pointerEventTypes.LEAVE,a._elementPointerLeaveHandler,!1),a}},function(e,t,n){"use strict";n.d(t,"a",function(){return a});var r,i=n(152),o=n(26),a=(r=i.a,babelHelpers.inherits(s,r),s.prototype.destroy=function(){this.targetElement.removeEventListener("gesturestart",this._elementGestureStartHandler,!1),this.targetElement.removeEventListener("gesturechange",this._elementGestureChangeHandler,!1),this.targetElement.removeEventListener("gestureend",this._elementGestureEndHandler,!1),this.targetElement.removeEventListener("wheel",this._elementWheelHandler,!1)},s.prototype.reset=function(){r.prototype.reset.call(this),this._cancelIdleTimeout(),this._totalDeltaY=0,this._idleTimeoutId=null},s.prototype._resetIdleTimeout=function(){var e=this;this._cancelIdleTimeout(),this._idleTimeoutId=window.setTimeout(function(){e._idleTimeoutId=null,e._onIdle()},250)},s.prototype._cancelIdleTimeout=function(){null!==this._idleTimeoutId&&(window.clearTimeout(this._idleTimeoutId),this._idleTimeoutId=null)},s.prototype._onIdle=function(){this._totalDeltaY=0,this.fireGestureEnd(),this.deletePointer(1),this.options.resetInterception()},s.prototype._handleTrackpadGestureChange=function(e){this._totalDeltaY+=e;var t=1-this._totalDeltaY/100;this.fireGestureChange(t),this._resetIdleTimeout()},s);function s(e,t,n){babelHelpers.classCallCheck(this,s);var i=babelHelpers.possibleConstructorReturn(this,r.call(this,e,t,n));return i._totalDeltaY=0,i._idleTimeoutId=null,i._elementGestureStartHandler=function(e){if(!i.isDeactivated()){(i.options.activeHandler=i).saveTargetElementOffset();var t=e.pageX,n=e.pageY;i.savePointer(1,t,n,e.timeStamp),i.fireGestureStart(),e.preventDefault()}},i._elementGestureChangeHandler=function(e){if(!i.isDeactivated()){var t=e.pageX,n=e.pageY;i.savePointer(1,t,n,e.timeStamp);var r=e.scale;!isNaN(r)&&isFinite(r)&&(i.initialGesture===o.f&&(i.initialGesture=1<r?o.g:o.h),i.fireGestureChange(r)),i.options.shouldInvokePreventDefault()&&e.preventDefault()}},i._elementGestureEndHandler=function(e){if(!i.isDeactivated()){var t=e.pageX,n=e.pageY;i.savePointer(1,t,n,e.timeStamp),i.fireGestureEnd(),i.deletePointer(1),i.options.shouldInvokePreventDefault()&&e.preventDefault(),i.options.resetInterception()}},i._elementWheelHandler=function(e){if(e.ctrlKey&&!i.isDeactivated()){(i.options.activeHandler=i).savePointer(1,e.pageX,e.pageY,e.timeStamp),i.initialGesture===o.f&&(i.initialGesture=0<e.deltaY?o.h:o.g);var t=!1;0===i._totalDeltaY?(i.fireGestureStart(),i._handleTrackpadGestureChange(e.deltaY)):0===e.deltaY?(i._totalDeltaY=0,i.fireGestureEnd(),i.deletePointer(1),t=!0,i._cancelIdleTimeout()):i._handleTrackpadGestureChange(e.deltaY),i.options.shouldInvokePreventDefault()&&e.preventDefault(),t&&i.options.resetInterception()}},i.targetElement.addEventListener("gesturestart",i._elementGestureStartHandler,!1),i.targetElement.addEventListener("gesturechange",i._elementGestureChangeHandler,!1),i.targetElement.addEventListener("gestureend",i._elementGestureEndHandler,!1),i.targetElement.addEventListener("wheel",i._elementWheelHandler,!1),i}},function(e,t,n){"use strict";n.d(t,"a",function(){return a});var i,r=n(152),o=n(26),a=(i=r.a,babelHelpers.inherits(s,i),s.prototype.destroy=function(){this.targetElement.removeEventListener("wheel",this._elementWheelHandler,!1)},s.prototype.reset=function(){i.prototype.reset.call(this),this._cancelIdleTimeout(),this._totalDeltaY=0,this._idleTimeoutId=null},s.prototype._resetIdleTimeout=function(){var e=this;this._cancelIdleTimeout(),this._idleTimeoutId=window.setTimeout(function(){e._idleTimeoutId=null,e._onIdle()},250)},s.prototype._cancelIdleTimeout=function(){null!==this._idleTimeoutId&&(window.clearTimeout(this._idleTimeoutId),this._idleTimeoutId=null)},s.prototype._onIdle=function(){this._totalDeltaY=0,this.fireGestureEnd(),this.deletePointer(1),this.options.resetInterception()},s);function s(e,t,n){babelHelpers.classCallCheck(this,s);var r=babelHelpers.possibleConstructorReturn(this,i.call(this,e,t,n));return r._totalDeltaY=0,r._idleTimeoutId=null,r._elementWheelHandler=function(e){if(!e.ctrlKey&&r.callbacks.catchWheelEvent&&r.callbacks.catchWheelEvent()&&!r.isDeactivated()){if((r.options.activeHandler=r).savePointer(1,e.pageX,e.pageY,e.timeStamp),r.initialGesture===o.f&&(r.initialGesture=0<e.deltaY?o.h:o.g),0===r._totalDeltaY)r.fireGestureStart(),r._totalDeltaY+=e.deltaY;else{r._totalDeltaY+=e.deltaY;var t=1-r._totalDeltaY/200;r.fireGestureChange(t)}r._resetIdleTimeout(),r.options.shouldInvokePreventDefault()&&e.preventDefault()}},r.targetElement.addEventListener("wheel",r._elementWheelHandler,!1),r}},function(e,t,n){"use strict";n.d(t,"a",function(){return m});var a,r=n(0),i=n.n(r),o=n(42),s=n.n(o),u=n(54),c=n(114),l=n(24),d=n(13),p=n(402),h=n(403),f=n(7),m=(a=r.Component,babelHelpers.inherits(g,a),g.prototype.componentDidMount=function(){this.trackOpportunities()},g.prototype.shouldComponentUpdate=function(e,t){return!(s()(this.props,e)&&s()(this.state,t))},g.prototype.componentDidUpdate=function(){this.trackOpportunities()},g.prototype.render=function(){var e=100/(l.b-l.c)*(this.props.currentZoomLevel-l.c);return i.a.createElement("div",{className:"zoom-controls",ref:"zoomControls"},i.a.createElement("div",{className:"zoom-controls__button","data-tooltip":"Zoom out"},i.a.createElement(u.a,{id:"ird3-button-zoomout",className:"svg-btn",onClick:this.handleZoomOutButtonClick,content:p.a})),i.a.createElement("div",{className:"zoom-controls__slider"},i.a.createElement(c.a,{value:e,onChange:this.handleZoomSliderChange,onChangeStart:this.handleZoomSliderChangeStart,onChangeEnd:this.handleZoomSliderChangeEnd,segments:this.props.segments,type:c.a.SLIDER_TYPE_ALTERNATE})),i.a.createElement("div",{className:"zoom-controls__button","data-tooltip":"Zoom in"},i.a.createElement(u.a,{id:"ird3-button-zoomin",className:"svg-btn",onClick:this.handleZoomInButtonClick,content:h.a})))},g);function g(){var e,n,t;babelHelpers.classCallCheck(this,g);for(var r=arguments.length,i=Array(r),o=0;o<r;o++)i[o]=arguments[o];return(e=n=babelHelpers.possibleConstructorReturn(this,a.call.apply(a,[this].concat(i)))).trackOpportunities=function(){n.isZoomControlsVisible()&&(n.props.featureTracker.opportunity(f.a.BUTTON_ZOOMIN),n.props.featureTracker.opportunity(f.a.BUTTON_ZOOMOUT),n.props.featureTracker.opportunity(f.a.SLIDER_ZOOM))},n.isZoomControlsVisible=function(){var e=window.getComputedStyle(n.refs.zoomControls.parentNode);return e&&"none"!==e.display},n.handleZoomInButtonClick=function(){n.props.currentZoomLevel>=l.b||(n.props.zoomSliderOnChange(n.props.currentZoomLevel+1),n.props.featureTracker.usage(f.a.BUTTON_ZOOMIN),n.props.dispatch(d.a()))},n.handleZoomOutButtonClick=function(){n.props.zoomSliderOnChange(n.props.currentZoomLevel-1),n.props.featureTracker.usage(f.a.BUTTON_ZOOMOUT),n.props.dispatch(d.a())},n.handleZoomSliderChangeStart=function(){n.props.zoomSliderOnChangeStart(),n._zoomBeforeSliderStart=n.props.currentZoomLevel},n.handleZoomSliderChange=function(e){var t=(l.b-l.c)*(e/100)+l.c;n.props.zoomSliderOnChange(t)},n.handleZoomSliderChangeEnd=function(){n.props.zoomSliderOnChangeEnd(),n.props.currentZoomLevel!==n._zoomBeforeSliderStart&&n.props.featureTracker.usage(f.a.SLIDER_ZOOM)},t=e,babelHelpers.possibleConstructorReturn(n,t)}m.displayName="ZoomControls"},function(e,t,n){"use strict";n.d(t,"a",function(){return i});var r='transform="translate(18.000000, 18.000000) rotate(-270.000000) translate(-18.000000, -18.000000) " x="17" y="10" width="2" height="16" rx="2"',i='\n    <svg width="36px" height="36px" viewBox="0 0 36 36">\n        <g stroke="none" stroke-width="1" fill="none" fill-rule="evenodd">\n            <g>\n                <rect '+r+'></rect>\n            </g>\n        </g>\n        <rect class="shadow" '+r+'></rect>\n        <rect class="icon" '+r+"></rect>\n    </svg>\n"},function(e,t,n){"use strict";n.d(t,"a",function(){return o});var r='x="17" y="10" width="2" height="16" rx="2"',i='transform="translate(18.000000, 18.000000) scale(-1, -1) rotate(-270.000000) translate(-18.000000, -18.000000) " x="17" y="10" width="2" height="16" rx="2"',o='\n    <svg width="100%" height="100%" viewBox="0 0 36 36">\n        <g stroke="none" stroke-width="1" fill="none" fill-rule="evenodd">\n            <g>\n                <rect '+r+"></rect>\n                <rect "+i+'></rect>\n            </g>\n        </g>\n        <rect class="shadow" '+r+'></rect>\n        <rect class="shadow" '+i+'></rect>\n        <rect class="icon" '+r+'></rect>\n        <rect class="icon" '+i+"></rect>\n    </svg>\n"},function(e,t,n){"use strict";n.d(t,"a",function(){return c});var r,i=n(0),o=n.n(i),a=n(54),s=n(199),u=n(200),c=(r=i.Component,babelHelpers.inherits(l,r),l.prototype.shouldComponentUpdate=function(e,t){return this.props.fullscreenEnabled!==e.fullscreenEnabled},l.prototype.render=function(){var e=this.props.fullscreenEnabled?s.a:u.a,t=this.props.fullscreenEnabled?"Exit":"Fullscreen";return o.a.createElement("div",{className:"fullscreen-controls"},o.a.createElement("div",{className:"fullscreen-controls__button","data-tooltip":t},o.a.createElement(a.a,{id:"ird3-button-fullscreen",className:"svg-btn ",onClick:this.props.toggleFullscreen,content:e})))},l);function l(){return babelHelpers.classCallCheck(this,l),babelHelpers.possibleConstructorReturn(this,r.apply(this,arguments))}c.displayName="FullscreenControls"},function(e,t,n){"use strict";n.d(t,"a",function(){return p});var r,i=n(0),o=n.n(i),a=n(54),s=n(11),u=n.n(s),c=n(406),l=n(407),d=n(7),p=(r=o.a.PureComponent,babelHelpers.inherits(h,r),h.prototype.componentDidMount=function(){this.trackOpportunities()},h.prototype.componentDidUpdate=function(){this.trackOpportunities()},h.prototype.trackUsage=function(){var e=this.props.largeViewEngaged?d.a.BUTTON_DISENGAGE_LARGEVIEW:d.a.BUTTON_ENGAGE_LARGEVIEW;this.props.featureTracker.usage(e)},h.prototype.trackOpportunities=function(){var e=this.props.largeViewEngaged?d.a.BUTTON_DISENGAGE_LARGEVIEW:d.a.BUTTON_ENGAGE_LARGEVIEW;this.props.featureTracker.opportunity(e)},h.prototype.handleClick=function(){this.trackUsage(),this.props.handleClick()},h.prototype.render=function(){var e=this.props,t=e.largeViewEngaged,n=e.largeViewPromoted,r=t?c.a:l.a,i=t?"Standard View":"Larger View";return o.a.createElement("div",{className:u()("large-view-controls",{"large-view-controls--promoted":n})},o.a.createElement("div",{className:"large-view-controls__button","data-tooltip":i},o.a.createElement(a.a,{id:"ird3-button-large-view",className:"svg-btn ",onClick:this.handleClick,content:r})))},h);function h(e){babelHelpers.classCallCheck(this,h);var t=babelHelpers.possibleConstructorReturn(this,r.call(this,e));return t.handleClick=t.handleClick.bind(t),t}p.displayName="LargeViewControls"},function(e,t,n){"use strict";n.d(t,"a",function(){return r});var r='\n<svg width="100%" height="100%" viewBox="0 0 36 36">\n  <path\n    class="shadow"\n    d="M12 15v6h12v-6H12zm-1-2h14c.552 0 1 .448 1 1v8c0 .552-.448 1-1 1H11c-.552 0-1-.448-1-1v-8c0-.552.448-1 1-1z"\n    fill-rule="nonzero"/>\n  <path\n    class="icon"\n    d="M12 15v6h12v-6H12zm-1-2h14c.552 0 1 .448 1 1v8c0 .552-.448 1-1 1H11c-.552 0-1-.448-1-1v-8c0-.552.448-1 1-1z"\n    fill-rule="nonzero"/>\n</svg>\n'},function(e,t,n){"use strict";n.d(t,"a",function(){return r});var r='\n<svg width="100%" height="100%" viewBox="0 0 36 36">\n  <path\n    class="shadow"\n    d="M10 13v10h16V13H10zm-1-2h18c.552 0 1 .448 1 1v12c0 .552-.448 1-1 1H9c-.552 0-1-.448-1-1V12c0-.552.448-1 1-1z"\n    fill-rule="nonzero"/>\n  <path\n    class="icon"\n    d="M10 13v10h16V13H10zm-1-2h18c.552 0 1 .448 1 1v12c0 .552-.448 1-1 1H9c-.552 0-1-.448-1-1V12c0-.552.448-1 1-1z"\n    fill-rule="nonzero"/>\n</svg>\n'},function(e,t,n){"use strict";n.d(t,"a",function(){return l});var r='d="M6.83590808,3.64127016 C5.02752664,3.6236996 3.54764132,5.11190524 3.53049341,6.96464718 C3.5133455,8.81760081 4.96575284,10.3339617 6.77413428,10.3515323 C8.58251571,10.3688911 10.0626076,8.88089718 10.0795489,7.02815524 C10.0966969,5.17520161 8.64428951,3.65862903 6.83590808,3.64127016 L6.83590808,3.64127016 Z M6.78942278,8.69524194 C5.87376569,8.68635081 5.13826495,7.91853831 5.14694221,6.9803125 C5.15561947,6.04208669 5.90496249,5.28845766 6.82061958,5.29734879 C7.73627667,5.30623992 8.4717774,6.07405242 8.46310015,7.01248992 C8.45442289,7.95050403 7.70507987,8.70413306 6.78942278,8.69524194 L6.78942278,8.69524194 Z"',i='d="M6.75843258,0.424375 C6.74830911,0.424375 6.73818565,0.424798387 6.72785558,0.424798387 L6.72785558,0.424163306 L0.856245804,0.424163306 C0.562045511,0.424163306 0.321148361,0.67078629 0.321148361,0.972449597 L0.321148361,7.02053427 C0.321148361,10.6633569 3.2032369,13.6164819 6.75843258,13.6164819 C10.3138349,13.6164819 13.1957168,10.6633569 13.1957168,7.02053427 C13.1957168,3.3775 10.3138349,0.424375 6.75843258,0.424375 L6.75843258,0.424375 Z M2.33592452,6.92929435 C2.35927047,4.40019153 4.37921167,2.36920363 6.84747775,2.39291331 C9.31574383,2.41683468 11.2980836,4.48677419 11.274531,7.01566532 C11.2513917,9.54455645 9.23124389,11.5755444 6.76318441,11.551623 C4.29491833,11.5277016 2.31257857,9.45797379 2.33592452,6.92929435 L2.33592452,6.92929435 Z"',o='d="M1.18803132,0.461209677 C1.75267275,0.461209677 2.22289738,0.943235887 2.22289738,1.52137097 C2.22289738,2.09950605 1.75267275,2.58110887 1.18803132,2.58110887 C0.624009688,2.58110887 0.153578461,2.09950605 0.153578461,1.52137097 C0.153578461,0.943235887 0.624009688,0.461209677 1.18803132,0.461209677 L1.18803132,0.461209677 Z M1.18803132,12.5656351 C0.661197927,12.5656351 0.30419083,12.160877 0.30419083,11.6597984 L0.30419083,4.79775202 C0.30419083,4.29709677 0.680411851,3.89212702 1.18803132,3.89212702 C1.69627059,3.89212702 2.07228501,4.29709677 2.07228501,4.79775202 L2.07228501,11.6597984 C2.07228501,12.160877 1.71486471,12.5656351 1.18803132,12.5656351 L1.18803132,12.5656351 Z"',a='d="M7.56498795,12.6429032 C6.37971612,12.6429032 5.32646254,12.2574093 4.5742271,11.6597984 C4.31101701,11.4478931 4.19779948,11.1587198 4.19779948,10.9080746 C4.19779948,10.522369 4.49902422,10.2715121 4.87524524,10.2715121 C5.17585017,10.2715121 5.36427059,10.3877319 5.57107852,10.5420565 C6.07890458,10.9273387 6.79353858,11.2931452 7.69679959,11.2931452 C8.71265833,11.2931452 9.25808584,10.9080746 9.25808584,10.3104637 C9.25808584,9.65548387 8.73125245,9.40462702 7.41437558,9.03797379 C5.10085389,8.40268145 4.25440825,7.59231855 4.25440825,6.20509073 C4.25440825,4.75943548 5.5522778,3.81485887 7.58399527,3.81485887 C8.35503143,3.81485887 9.2200712,4.00771169 9.91631767,4.35446573 C10.4241437,4.60511089 10.781564,4.91333669 10.781564,5.29904234 C10.781564,5.64579637 10.5935568,5.97392137 10.1045315,5.97392137 C9.85991551,5.97392137 9.61529954,5.858125 9.33328872,5.70337702 C8.80624873,5.41462702 8.22321978,5.26114919 7.54639383,5.26114919 C6.60573797,5.26114919 5.96610026,5.51137097 5.96610026,6.18561492 C5.96610026,6.84144153 6.53053509,7.05292339 7.8848068,7.45789315 C9.91631767,8.05529234 10.9697779,8.61416331 10.9697779,10.1754032 C10.9697779,11.602006 9.80351335,12.6429032 7.56498795,12.6429032"',s='d="M16.0804749,12.6429032 C14.8952031,12.6429032 13.8415363,12.2574093 13.0893009,11.6597984 C12.8258842,11.4478931 12.7130799,11.1587198 12.7130799,10.9080746 C12.7130799,10.522369 13.014098,10.2715121 13.390319,10.2715121 C13.6913372,10.2715121 13.8791378,10.3877319 14.0863589,10.5420565 C14.5939784,10.9273387 15.3086124,11.2931452 16.2114602,11.2931452 C17.2275255,11.2931452 17.772953,10.9080746 17.772953,10.3104637 C17.772953,9.65548387 17.2465328,9.40462702 15.9298626,9.03797379 C13.6159277,8.40268145 12.7696886,7.59231855 12.7696886,6.20509073 C12.7696886,4.75943548 14.0677648,3.81485887 16.0990691,3.81485887 C16.8703118,3.81485887 17.7357648,4.00771169 18.4318047,4.35446573 C18.9392175,4.60511089 19.297051,4.91333669 19.297051,5.29904234 C19.297051,5.64579637 19.1088372,5.97392137 18.6193987,5.97392137 C18.3749893,5.97392137 18.1303733,5.858125 17.8485691,5.70337702 C17.3219423,5.41462702 16.7385002,5.26114919 16.0614676,5.26114919 C15.1208118,5.26114919 14.4813806,5.51137097 14.4813806,6.18561492 C14.4813806,6.84144153 15.0454023,7.05292339 16.4000872,7.45789315 C18.4318047,8.05529234 19.4850582,8.61416331 19.4850582,10.1754032 C19.4850582,11.602006 18.3185871,12.6429032 16.0804749,12.6429032"',u='d="M21.1926182,8.61416331 L21.1926182,4.79775202 C21.1926182,4.29709677 21.5878466,3.89212702 22.0768719,3.89212702 C22.5658973,3.89212702 22.9611256,4.29709677 22.9611256,4.79775202 L22.9611256,8.82606855 C22.9611256,10.0409778 23.8823609,10.9849194 25.1246547,10.9849194 C26.3659155,10.9849194 27.3063648,10.0409778 27.3063648,8.82606855 L27.3063648,4.79775202 C27.3063648,4.29709677 27.7015931,3.89212702 28.1902052,3.89212702 C28.679024,3.89212702 29.0740457,4.29709677 29.0740457,4.79775202 L29.0740457,8.61416331 C29.0740457,10.8697581 27.4001618,12.6429032 25.1246547,12.6429032 C22.8481147,12.6429032 21.1926182,10.8697581 21.1926182,8.61416331"',c='d="M31.0324197,8.61416331 L31.0324197,4.79775202 C31.0324197,4.29709677 31.4272349,3.89212702 31.9164668,3.89212702 C32.405079,3.89212702 32.8003073,4.29709677 32.8003073,4.79775202 L32.8003073,8.82606855 C32.8003073,10.0409778 33.7225756,10.9849194 34.9636298,10.9849194 C36.2048906,10.9849194 37.1455465,10.0409778 37.1455465,8.82606855 L37.1455465,4.79775202 C37.1455465,4.29709677 37.5407748,3.89212702 38.0298002,3.89212702 C38.5192387,3.89212702 38.9136406,4.29709677 38.9136406,4.79775202 L38.9136406,8.61416331 C38.9136406,10.8697581 37.2401699,12.6429032 34.9636298,12.6429032 C32.6872964,12.6429032 31.0324197,10.8697581 31.0324197,8.61416331"',l='\n<svg width="100%" height="100%" viewBox="-2 0 60 14">\n    <g class="logo__icon">\n        <path class="shadow" '+r+'></path>\n        <path class="shadow" '+i+'></path>\n        <path class="icon" '+r+'></path>\n        <path class="icon" '+i+'></path>\n    </g>\n    <g class="logo__title" transform="translate(17.000000, 0.000000)">\n        <path class="shadow" '+o+'></path>\n        <path class="shadow" '+a+'></path>\n        <path class="shadow" '+s+'></path>\n        <path class="shadow" '+u+'></path>\n        <path class="shadow" '+c+'></path>\n\n        <path class="icon" '+o+'></path>\n        <path class="icon" '+a+'></path>\n        <path class="icon" '+s+'></path>\n        <path class="icon" '+u+'></path>\n        <path class="icon" '+c+"></path>\n    </g>\n</svg>\n"},function(e,t,n){"use strict";var r=n(0),a=n.n(r),i=n(11),s=n.n(i),u=n(55),c=n(410),l=n(193),d=n(194);t.a=function(e){var t=e.downloadButtonStatus,n=e.onDownloadButtonClick,r=s()("header-controls__button","header-controls__download",{"is-visible":!0,"is-loading":t===u.b,"is-failure":t===u.a,spinner:t===u.b}),i=void 0,o=void 0;switch(t){case u.b:i=d.a,o="Downloading";break;case u.a:i=l.a,o="Failed to download";break;default:i=c.a,o="Download"}return a.a.createElement("div",{className:"header-controls__item"},a.a.createElement("div",{className:"header-controls__download--tooltip header-controls__download-protected--tooltip","data-tooltip":o},a.a.createElement("div",{className:r,onClick:n,dangerouslySetInnerHTML:{__html:i}})))}},function(e,t,n){"use strict";n.d(t,"a",function(){return i});var r='d="M7.593 13.866c.07.072.153.13.247.165.08.04.16.06.26.06l.01.005c.18 0 .36-.08.5-.223l4.037-4.016c.282-.253.282-.688 0-.967-.258-.277-.697-.277-.978 0L8.8 11.723V.732C8.8.357 8.48.04 8.1.04 7.72.04 7.4.356 7.4.73v10.992L4.52 8.885c-.26-.277-.7-.277-.98 0-.28.258-.28.693 0 .97l4.053 4.01zm6.398 3.228L2 17.1c-2.02 0-1.24-1.356.02-1.356l11.975-.005c1.26 0 2.024 1.36.005 1.36l-.01-.006z" fill="#F2F2F2" fill-rule="evenodd"',i='<svg width="16" height="18" viewBox="-2 0 20 18" xmlns="http://www.w3.org/2000/svg">\n  <path class="shadow" '+r+'></path>\n  <path class="icon" '+r+"></path>\n</svg>"},function(e,t,n){"use strict";n.d(t,"a",function(){return _});var a,r=n(0),i=n.n(r),o=n(15),s=n.n(o),u=n(11),c=n.n(u),l=n(78),d=n(118),p=n(66),h=n(49),f=n(8),m=n(13),g=n(50),v=n(202),b=n(7),_=(a=r.Component,babelHelpers.inherits(y,a),y.prototype.componentDidMount=function(){var t=this;this.inputHandler=new l.a(s.a.findDOMNode(this.refs.headerControlsContainer),{onMouseEnter:function(e){t.props.isVisible&&t.props.dispatch(Object(f.n)(!0))},onMouseLeave:function(e){t.props.dispatch(Object(f.n)(!1))}}),this.trackOpportunities()},y.prototype.componentDidUpdate=function(e){this.trackOpportunities()},y.prototype.render=function(){var e=c()("header-controls",{"is-visible":this.props.isVisible}),t=c()("header-controls__share-dropdown-wrapper",{"is-visible":this.props.shareDropdownVisible}),n=c()({"is-visible":!h.a.isMobile()});return i.a.createElement("div",{ref:"headerControlsContainer",className:e},i.a.createElement("div",{className:"header-controls__background"}),i.a.createElement("div",{className:"header-controls__items"},this.props.navigationLinkFeature&&i.a.createElement("div",{className:"header-controls__item"},i.a.createElement("div",{className:"header-controls__navigation-link",onClick:this.onNavigationLinkClick},i.a.createElement("div",{dangerouslySetInnerHTML:{__html:this.props.navigationLinkFeature.icon}}),this.props.navigationLinkFeature.text&&i.a.createElement("span",{className:n},this.props.navigationLinkFeature.text))),this.props.shouldRenderDownloadButton&&i.a.createElement(p.e,{featureTracker:this.props.featureTracker}),i.a.createElement("div",{className:"header-controls__item header-controls__item--spacer"}),this.props.shouldRenderReadMoreButton&&i.a.createElement("div",{className:c()("header-controls__item",{"header-controls__item--centered":h.a.isMobile()&&this.props.readMoreButtonCentered})},i.a.createElement("div",{className:c()("header-controls__more-toggle",{"header-controls__more-toggle--activated":this.props.readMoreDropdownVisible}),onClick:this.onMoreToggleClick},i.a.createElement("span",{className:"header-controls__more-toggle-text-wrapper"},"See More",0<this.props.readMoreButtonUnreadCount&&i.a.createElement("div",{className:"header-controls__morecount"},this.props.readMoreButtonUnreadCount)))),this.props.shouldRenderShareButton&&i.a.createElement("div",{className:"header-controls__item"},i.a.createElement(d.a,{dispatch:this.props.dispatch,featureTracker:this.props.featureTracker,toggleShareDropdown:this.toggleShareDropdown}),i.a.createElement("div",{className:t},i.a.createElement(d.b,{dispatch:this.props.dispatch,documentTitle:this.props.documentTitle,documentUrl:this.props.documentUrl,coverImageUrl:this.props.coverImageUrl,featureTracker:this.props.featureTracker,toggleShareDropdown:this.toggleShareDropdown,visible:this.props.shareDropdownVisible,shouldShowPublisherPreviewMessage:this.props.shareShouldShowPublisherPreviewMessage})))))},y);function y(){var e,t,n;babelHelpers.classCallCheck(this,y);for(var r=arguments.length,i=Array(r),o=0;o<r;o++)i[o]=arguments[o];return(e=t=babelHelpers.possibleConstructorReturn(this,a.call.apply(a,[this].concat(i)))).onMoreToggleClick=function(){t.props.readMoreDropdownVisible?t.props.dispatch(Object(g.e)()):t.props.readMorePlugin&&(t.props.readMorePlugin.clearButtonUnreadCount(),t.props.dispatch(Object(g.i)()),t.props.featureTracker.usage(b.a.BUTTON_MORE)),t.props.dispatch(Object(m.a)())},t.onNavigationLinkClick=function(){if(t.props.navigationLinkFeature){var e=t.props.navigationLinkFeature.url;t.props.dispatch(Object(m.a)()),t.props.featureTracker.usage(b.a.NAVIGATION_LINK),window.open(e,"_self")}},t.toggleShareDropdown=function(e){t.props.dispatch(Object(v.b)(e))},t.trackOpportunities=function(){t.props.shouldRenderReadMoreButton&&t.props.featureTracker.opportunity(b.a.BUTTON_MORE),t.props.shouldRenderShareButton&&t.props.featureTracker.opportunity(b.a.BUTTON_SHARE),t.props.shouldRenderDownloadButton&&t.props.featureTracker.opportunity(b.a.BUTTON_DOWNLOAD),t.props.navigationLinkFeature&&t.props.featureTracker.opportunity(b.a.NAVIGATION_LINK)},n=e,babelHelpers.possibleConstructorReturn(t,n)}_.displayName="HeaderControls"},function(e,t,n){"use strict";n.d(t,"a",function(){return s});var r,i=n(0),o=n(413),a=n.n(o),s=(r=i.Component,babelHelpers.inherits(u,r),u.prototype.render=function(){return i.createElement(a.a,{className:"share-dropdown__copy-button",onSuccess:this.onSuccess,onError:this.onError,"data-clipboard-text":this.props.copyText},i.createElement(i.Fragment,null,!this.state.copied&&this.props.children,this.state.copied&&this.props.successText))},u);function u(e){babelHelpers.classCallCheck(this,u);var t=babelHelpers.possibleConstructorReturn(this,r.call(this,e));return t.onSuccess=function(){t.setState({copied:!0}),setTimeout(function(){t.setState({copied:!1})},2e3),void 0!==t.props.onCopied&&t.props.onCopied()},t.onError=function(){var e=(/mac os x/i.test(navigator.userAgent)?"":"Ctrl")+"+C";window.prompt("Press "+e+" to copy",t.props.copyText)},t.state={copied:!1},t}},,function(e,t,n){"use strict";n.d(t,"a",function(){return r});var r='\n  <svg width="17" height="18" viewBox="0 0 17 18" xmlns="http://www.w3.org/2000/svg">\n    <path class="icon" d="M16.082.34H.964c-.518 0-.938.42-.938.94v15.116c0 .518.42.938.938.938h8.14v-6.58H6.887V8.188h2.215V6.296c0-2.195 1.34-3.39 3.298-3.39.94 0 1.745.07 1.98.1v2.295h-1.358c-1.064 0-1.27.507-1.27 1.25v1.637h2.54l-.332 2.563h-2.21v6.58h4.332c.518 0 .938-.42.938-.937V1.28c0-.52-.42-.94-.938-.94" fill-rule="evenodd"></path>\n  </svg>\n'},function(e,t,n){"use strict";n.d(t,"a",function(){return r});var r='\n  <svg width="21" height="18" viewBox="0 0 21 18" xmlns="http://www.w3.org/2000/svg">\n    <g fill="none" fill-rule="evenodd">\n      <path d="M-11.12-12.286h42.24v42.24h-42.24z"/>\n      <path class="icon" d="M0 15.526c1.757 1.122 3.886 1.683 6.39 1.683 1.22 0 2.39-.162 3.506-.483 1.116-.322 2.106-.774 2.97-1.358.853-.572 1.622-1.238 2.31-2 .686-.76 1.247-1.577 1.683-2.45.904-1.816 1.356-3.64 1.356-5.47v-.542c.812-.584 1.502-1.3 2.07-2.145-.818.36-1.618.58-2.397.66.89-.526 1.502-1.29 1.832-2.294-.852.49-1.727.826-2.625 1.003-.403-.413-.87-.733-1.397-.96-.528-.226-1.083-.34-1.664-.34-1.15 0-2.128.403-2.937 1.206-.81.803-1.214 1.776-1.214 2.917 0 .374.03.692.09.955C8.27 5.82 6.68 5.407 5.2 4.672S2.457 2.937 1.407 1.67C1.03 2.313.842 2.983.842 3.678c0 .695.165 1.345.495 1.948.33.604.786 1.096 1.367 1.477-.667-.02-1.294-.19-1.882-.512v.05c0 .99.315 1.867.946 2.628.63.76 1.428 1.236 2.392 1.426-.396.1-.766.148-1.11.148-.217 0-.475-.026-.772-.08.264.835.755 1.52 1.47 2.058.718.538 1.518.81 2.403.817-1.63 1.305-3.35 1.958-5.16 1.958-.376 0-.706-.023-.99-.07z"/>\n    </g>\n  </svg>\n'},function(e,t,n){"use strict";n.d(t,"a",function(){return r});var r='\n  <svg width="18" height="19" viewBox="0 0 18 19" xmlns="http://www.w3.org/2000/svg">\n    <g fill="none" fill-rule="evenodd">\n      <path d="M-11.695-11.286h42.24v42.24h-42.24z"/>\n      <path class="icon" d="M8.898.796C4.028.796.078 4.72.078 9.558c0 3.588 2.172 6.67 5.28 8.025-.025-.612-.005-1.347.153-2.012l1.136-4.773s-.282-.56-.282-1.387c0-1.298.758-2.268 1.7-2.268.803 0 1.19.6 1.19 1.316 0 .8-.513 2-.778 3.11-.22.928.47 1.686 1.392 1.686 1.67 0 2.796-2.132 2.796-4.658 0-1.92-1.302-3.357-3.67-3.357-2.675 0-4.34 1.98-4.34 4.194 0 .764.225 1.302.58 1.72.163.19.186.267.127.487-.04.162-.14.55-.18.704-.058.222-.238.302-.44.22-1.233-.5-1.806-1.84-1.806-3.348 0-2.49 2.112-5.473 6.303-5.473 3.367 0 5.583 2.42 5.583 5.02 0 3.436-1.923 6.004-4.76 6.004-.95 0-1.846-.51-2.153-1.092 0 0-.512 2.02-.62 2.408-.188.676-.554 1.35-.888 1.877.792.233 1.63.36 2.498.36 4.87 0 8.82-3.923 8.82-8.762 0-4.84-3.95-8.762-8.82-8.762z"/>\n    </g>\n  </svg>\n'},function(e,t,n){"use strict";n.d(t,"a",function(){return r});var r='\n  <svg width="20" height="15" viewBox="0 0 20 15" xmlns="http://www.w3.org/2000/svg">\n    <g fill="none" fill-rule="evenodd">\n      <path d="M-11.336-15.286h42.24v42.24h-42.24z"/>\n      <path class="icon" d="M.845 12.877c0 .315.112.583.336.806.225.222.495.333.812.333h16.05c.317 0 .587-.11.81-.333.225-.223.337-.49.337-.806V3.534l-9.173 6.834L.845 3.534v9.343zm0-11.39l9.172 6.834 9.172-6.833c0-.314-.113-.582-.337-.805-.224-.222-.494-.334-.81-.334H1.992c-.318 0-.588.112-.812.334-.223.223-.335.49-.335.805z"/>\n    </g>\n  </svg>\n'},function(e,t,n){"use strict";n.d(t,"a",function(){return o});var a,r=n(0),m=n.n(r),i=n(11),g=n.n(i),v=n(419),b=n(420),o=(a=r.Component,babelHelpers.inherits(s,a),s.prototype.componentDidMount=function(){this.container&&this.initFollowBtnText()},s.prototype.componentDidUpdate=function(e){if(this.props.isSummaryVisible){var t=this.props,n=t.initialPageNumber,r=t.currentPageNumbers,i=t.currentPositionInPercent,o=t.zoomLevelInPercent,a=t.isFindVisible,s=t.isFollowing,u=t.followersCount;(r.includes(n)||e.currentPositionInPercent===i)&&e.zoomLevelInPercent===o&&e.isFindVisible===a||this.fadeOut(),e.isFollowing==s&&e.followersCount==u||this.initFollowBtnText()}},s.prototype.initFollowBtnText=function(){this.setState({followButtonText:this.props.isFollowing?this.followingText:this.followText})},s.prototype.fadeOut=function(){this.props.isSummaryVisible&&this.props.onCloseSummary()},s.prototype.render=function(){var t=this,e=this.props,n=e.description,r=e.documentTitle,i=e.follow,o=e.followersCount,a=e.isFollowDisabled,s=e.isPaywallPreview,u=e.isSummaryVisible,c=e.originalPublishDate,l=e.userProfileImageUri,d=e.userProfileUri,p=e.userDisplayName,h=g()("summary",{"is-paywall-preview":s},{"is-visible":u}),f=g()("summary__follow-button",{summary__following:"following"===this.state.followButtonText});return m.a.createElement("div",{ref:function(e){return t.container=e},className:h},m.a.createElement("div",{className:"summary__items"},m.a.createElement("div",{className:"summary__item summary__document-title"},r),c&&m.a.createElement("div",{className:"summary__item summary__original-publish-date"},Object(b.a)(c)),m.a.createElement("div",{className:"summary__item summary__description"},m.a.createElement(v.a,{text:n,collapsedDescriptionLength:100})),m.a.createElement("div",{className:"summary__item summary__publisher-info"},m.a.createElement("div",{className:"left"},m.a.createElement("a",{href:d,target:"_top"},m.a.createElement("img",{className:"summary__user-profile-image-uri",src:l}))),m.a.createElement("div",{className:"right"},m.a.createElement("div",{className:"summary__display-name"},m.a.createElement("a",{href:d},p)),m.a.createElement("div",{className:f,onMouseOut:this.followButtonMouseOut,onMouseOver:this.followButtonMouseOver,onClick:a?null:i,disabled:a},m.a.createElement("span",{className:"summary__follow-text"},this.state.followButtonText),m.a.createElement("span",{className:"summary__followers-count"},o))))))},s);function s(){var e,t,n;babelHelpers.classCallCheck(this,s);for(var r=arguments.length,i=Array(r),o=0;o<r;o++)i[o]=arguments[o];return(e=t=babelHelpers.possibleConstructorReturn(this,a.call.apply(a,[this].concat(i)))).state={followButtonText:""},t.followText="follow",t.followingText="following",t.unfollowText="unfollow",t.followButtonMouseOut=function(){t.props.isFollowing&&t.setState({followButtonText:t.followingText})},t.followButtonMouseOver=function(){t.props.isFollowing&&t.setState({followButtonText:t.unfollowText})},n=e,babelHelpers.possibleConstructorReturn(t,n)}o.displayName="Summary"},function(e,t,n){"use strict";var r,i=n(0),a=n.n(i),o=(r=a.a.Component,babelHelpers.inherits(s,r),s.prototype.render=function(){var e=this.props,t=e.text,n=e.collapsedDescriptionLength,r=this.state.isExpanded,i=t.length>n,o=t;return i&&!r&&(o=t.substr(0,n).trim()+" ..."),a.a.createElement("p",{itemProp:"description"},a.a.createElement("span",null,o)," ",i&&a.a.createElement("a",{onClick:this.toggleExpansion},r?"See Less":"See More"))},s);function s(){babelHelpers.classCallCheck(this,s);var e=babelHelpers.possibleConstructorReturn(this,r.call(this));return e.toggleExpansion=function(){e.setState({isExpanded:!e.state.isExpanded})},e.state={isExpanded:!1},e}t.a=o},function(e,t,n){"use strict";n.d(t,"a",function(){return r});var o=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];function r(e){var t=new Date(e),n=t.getDate(),r=t.getMonth(),i=t.getFullYear();return o[r]+" "+n+", "+i}},function(e,t,n){"use strict";n.d(t,"a",function(){return A});var r=n(14),i=n.n(r),o=n(0),a=n.n(o),s=n(22),u=n(1),c=n(4),l=n(422),d=n(439),p=n(95),h=n(13),f=n(137),m=n(78),g=n(23),v=n(59),b=n(5),_=n(9),y=n(80),E=n(32),T=n(138),w=n(81),C=n(440),x=n(64);function O(e){for(var t={x:0,y:0},n=0;n<e.length;n++)t.x+=e[n].x,t.y+=e[n].y;return{x:t.x/e.length,y:t.y/e.length}}function S(e,t){for(var n=e.length-1;0<=n;n--){var r=e[n];if(t(r))return r}}var R,I=(R=o.Component,babelHelpers.inherits(P,R),P.prototype.componentDidMount=function(){var s=this;this._singleTapWasHandled=!1,this._lastMoveHitlist=[],this._handlersOfCurrentGesture=[],this.frameCount=0,this.createContextAndInitializeCanvas(),this.fallbackTo2DIfViewportExceedGPULimit(),this.buildCanvasObjectTree(),this.canvasObjectTree?this.canvasObjectTree.requestRedraw():this.props.dispatch(f.c()),this.inputHandler=new m.a(this.refs.canvasContainer,{getScalingFactor:function(){return Object(g.a)()},catchWheelEvent:function(){return s.props.fullscreenEnabled},onSingleTap:function(e,t){s._singleTapWasHandled=s.bubbleEvent(function(e){return e.onSingleTap},e,t).handled,s.inputHandler.requestToIntercept()},onSingleTapConfirmed:function(e,t){s.bubbleEvent(function(e){return e.onSingleTapConfirmed},e,t,s._singleTapWasHandled),s._singleTapWasHandled=!1,s.props.dispatch(h.l())},onDoubleTap:function(e,t){s.bubbleEvent(function(e){return e.onDoubleTap},e,t),s.props.dispatch(h.b())},onGestureStart:function(e,t){s.props.usePageFlip||s.props.dispatch(Object(y.c)());var n=O(e),r=n.x,i=n.y;s.bubbleEvent(function(e){return e.onGestureStart},r,i,e,t).possibleHandlers.forEach(function(e){s._handlersOfCurrentGesture.push(e)}),s.props.dispatch(h.e())},onGestureChange:function(t,n,r,i){s.releaseMouseHitlist(n);var e=O(t),o=e.x,a=e.y;S(s._handlersOfCurrentGesture,function(e){return!(!e.onGestureChange||!e.onGestureChange(o,a,t,n,r,i)||(s.inputHandler.requestToIntercept(),0))}),s.props.dispatch(h.c())},onGestureEnd:function(t){S(s._handlersOfCurrentGesture,function(e){return e.onGestureEnd&&e.onGestureEnd(t)}),s._handlersOfCurrentGesture.length=0,s.props.dispatch(h.d())},onMouseEnter:function(e){s.props.usePageFlip||s.props.dispatch(Object(y.c)())},onMouseMove:function(e,t,n){s.updateMouseHitlist(e,t,n)},onMouseLeave:function(e){s.releaseMouseHitlist(e)}}),requestAnimationFrame(function e(t){c.b.lastTick=t;var n=Object(g.a)(),r=s.canvas.clientWidth*n,i=s.canvas.clientHeight*n;r!==s.props.width||i!==s.props.height?(s.props.dispatch(Object(p.d)(r,i)),s.props.dispatch(h.k())):s.canvasObjectTree&&s.canvasObjectTree.hasPendingRedraw&&s.drawCanvasObjectTree(),s.updateInPubContent(),requestAnimationFrame(e)})},P.prototype.componentWillReceiveProps=function(e){var t=this,n=this.props;this.props=e;var r=n.readMode!==this.props.readMode||n.usePageFlip!==this.props.usePageFlip||n.visible!==this.props.visible||n.linksLoaded!==this.props.linksLoaded;if(this.canvasObjectTree&&r){var i=this.canvasObjectTree;this.previousPosition=i.getPosition(),c.b.unmountTree(i),this.canvasObjectTree=null}n.usePageFlip!==this.props.usePageFlip&&this.createContextAndInitializeCanvas();var o=n.width!==this.props.width||n.height!==this.props.height;o&&(this.canvas.width=this.props.width,this.canvas.height=this.props.height,this.fallbackTo2DIfViewportExceedGPULimit()),this.props.usePageFlip&&(o&&this.ctx&&this.ctx.viewport(0,0,this.ctx.drawingBufferWidth,this.ctx.drawingBufferHeight),/(iPad|iPhone|iPod).*(AppleWebKit\/).*(Version\/9\.).*(Mobile\/).*(Safari\/)/i.test(navigator.userAgent)&&(n.visible&&!this.props.visible&&(this.canvas.style.display=""),!n.visible&&this.props.visible&&(this.canvas.style.display="none",setTimeout(function(){t.canvas.style.display=""},250)))),this.buildCanvasObjectTree(o),this.canvasObjectTree&&this.canvasObjectTree.requestRedraw(),1===this.props.zoomLevel?this.inputHandler.enableBrowserHandlingOfVerticalPanningGestures():this.inputHandler.disableBrowserHandlingOfAllPanningGestures()},P.prototype.shouldComponentUpdate=function(){return!1},P.prototype.componentWillUnmount=function(){this.inputHandler&&this.inputHandler.destroy(),this.renderManager&&this.renderManager.release(),this.glManager&&(this.glManager.destroy(),this.glManager=null),this.ctx=null,this._glExtOesStandardDerivatives=null,this.canvas.removeEventListener("webglcontextlost",this.handleContextLost,!1),this.canvas.removeEventListener("webglcontextrestored",this.handleContextRestored,!1)},P.prototype.updateInPubContent=function(){var e=this.refs.inPubContent.getWrappedInstance(),t=!!this.canvasObjectTree&&this.canvasObjectTree.inAnimation;e.updatePagePositions(t)},P.prototype.render=function(){return a.a.createElement("div",null,a.a.createElement("div",{ref:"canvasContainer",style:{width:"100%",height:"100%",position:"absolute"}}),a.a.createElement(d.a,{ref:"inPubContent",metrics:this.props.metrics}))},P);function P(){var e,t,n;babelHelpers.classCallCheck(this,P);for(var r=arguments.length,i=Array(r),o=0;o<r;o++)i[o]=arguments[o];return e=t=babelHelpers.possibleConstructorReturn(this,R.call.apply(R,[this].concat(i))),k.call(t),n=e,babelHelpers.possibleConstructorReturn(t,n)}I.displayName="Canvas",I.contextTypes={store:i.a.object};var k=function(){var p=this;this._singleTapWasHandled=!1,this._lastMoveHitlist=[],this._handlersOfCurrentGesture=[],this.frameCount=0,this.onFallbackTo2D=function(){p.inputHandler&&p.inputHandler.reset(),p.props.metrics.monitor("reader3-fallback-to-2d",{fallback:1})},this.getCustomCursor=function(){for(var e=p._lastMoveHitlist.length-1;0<=e;e--)if(p._lastMoveHitlist[e].getCustomCursor&&p._lastMoveHitlist[e].getCustomCursor())return p._lastMoveHitlist[e].getCustomCursor();return"default"},this.createRenderManager=function(){var e=p.renderManager;p.renderManager=new x.d({useWebGL:p.props.usePageFlip,ctx:p.ctx,hintMaxWidth:p.props.width,hintMaxHeight:p.props.height,pageModels:p.props.documentPages,loadStatsTracker:p.props.loadStatsTracker,renderManager:e,checkExplicit:p.props.checkIfVideoExplicit})},this.createContextAndInitializeCanvas=function(){var e=document.createElement("canvas");if(e.className="document-canvas",e.style.width=e.style.height="100%",e.width=p.props.width,e.height=p.props.height,p.glManager&&(p.glManager.destroy(),p.glManager=null),p.canvas?(p._glExtOesStandardDerivatives=null,p.canvas.removeEventListener("webglcontextlost",p.handleContextLost,!1),p.canvas.removeEventListener("webglcontextrestored",p.handleContextRestored,!1),p.refs.canvasContainer.replaceChild(e,p.canvas)):p.refs.canvasContainer.appendChild(e),p.canvas=e,p.props.usePageFlip){var t=Object(w.a)(p.canvas);(p.ctx=t)?(p._glExtOesStandardDerivatives=t.getExtension("OES_standard_derivatives"),t.viewport(0,0,t.drawingBufferWidth,t.drawingBufferHeight),p.glManager=new C.a(t),p.canvas.addEventListener("webglcontextlost",p.handleContextLost,!1),p.canvas.addEventListener("webglcontextrestored",p.handleContextRestored,!1)):p.handleWebGLError()}else p.ctx=p.canvas.getContext("2d")},this.findComponentsAtPoint=function(i,o){var a=!(2<arguments.length&&void 0!==arguments[2])||arguments[2],s=[];return p.canvasObjectTree&&c.b.traverse(p.canvasObjectTree,function(e,t,n,r){return!(a&&!e.isVisible)&&(!!Object(v.b)(i,o,t)&&(s.push(e),!0))}),s},this.bubbleEvent=function(n,r,i){for(var e=arguments.length,o=Array(3<e?e-3:0),t=3;t<e;t++)o[t-3]=arguments[t];var a={handled:!1,possibleHandlers:[]},s=p.findComponentsAtPoint(r,i),u=Array.isArray(s),c=0;for(s=u?s:s[Symbol.iterator]();;){var l;if(u){if(c>=s.length)break;l=s[c++]}else{if((c=s.next()).done)break;l=c.value}var d=l;n(d)&&a.possibleHandlers.push(d)}return S(a.possibleHandlers,function(e){var t=n(e);return!(!t||!t.call.apply(t,[e,r,i].concat(o)))&&(a.handled=!0)}),a},this.updateMouseHitlist=function(t,n,r){var e=p.findComponentsAtPoint(t,n,!1),i=e[e.length-1],o=p._lastMoveHitlist[p._lastMoveHitlist.length-1];i!==o&&(o&&o.onMouseLeave&&o.onMouseLeave(r),i&&i.onMouseEnter&&i.onMouseEnter(r)),S(p._lastMoveHitlist=e,function(e){return e.onMouseMove&&e.onMouseMove(t,n,r)})},this.releaseMouseHitlist=function(e){var t=p._lastMoveHitlist[p._lastMoveHitlist.length-1];t&&t.onMouseLeave&&t.onMouseLeave(e),p._lastMoveHitlist=[]},this.fallbackTo2DIfViewportExceedGPULimit=function(){if(p.ctx&&Object(w.b)(p.ctx)){var e=1<p.props.width-p.ctx.drawingBufferWidth,t=1<p.props.height-p.ctx.drawingBufferHeight;(e||t)&&(e&&p.props.dispatch(Object(y.g)(p.ctx.drawingBufferWidth)),t&&p.props.dispatch(Object(y.f)(p.ctx.drawingBufferHeight)),p.onFallbackTo2D())}},this.handleWebGLError=function(e){e&&Object(u.m)(e,{extra:{"fallback-to-2d":!0}}),p.onFallbackTo2D(),p.props.dispatch(Object(y.d)())},this.buildCanvasObjectTree=function(e){if(p.props.visible&&!(!p.ctx||Object(w.b)(p.ctx)&&p.ctx.isContextLost())){try{p.canvasObjectTree&&!e||p.createRenderManager(),p.canvasObjectTree=c.b.buildTree(c.b.createElement(l.a,{ctx:p.ctx,height:p.props.height,loadStatsTracker:p.props.loadStatsTracker,readMode:p.props.readMode,renderManager:p.renderManager,store:p.context.store,usePageFlip:p.props.usePageFlip,width:p.props.width,metrics:p.props.metrics}),p.canvasObjectTree,p)}catch(e){if(!Object(w.b)(p.ctx))throw e;p.handleWebGLError(e)}p.canvasObjectTree&&p.previousPosition&&(p.canvasObjectTree.setPosition(p.previousPosition),p.previousPosition=null)}},this.drawCanvasObjectTree=function(){var e=p.canvasObjectTree,t=p.glManager;if(p.ctx&&p.props.visible&&e&&(!Object(w.b)(p.ctx)||!p.ctx.isContextLost())){try{var n={x:0,y:0,width:p.props.width,height:p.props.height};t&&Object(w.b)(p.ctx)?c.b.drawWebgl(e,t,n):c.b.draw2d(e,p.ctx,n)}catch(e){if(!Object(w.b)(p.ctx))throw e;p.handleWebGLError(e)}var r=p.getCustomCursor();p.refs.canvasContainer.style.cursor!==r&&(p.refs.canvasContainer.style.cursor=r),p.frameCount+=1}},this.handleContextLost=function(e){e.preventDefault(),p.props.metrics.monitor("reader3-webgl-context-lost"),p.props.dispatch(Object(y.b)())},this.handleContextRestored=function(e){p.props.metrics.monitor("reader3-webgl-context-restored"),p.buildCanvasObjectTree(),p.canvasObjectTree&&p.canvasObjectTree.requestRedraw()}},A=Object(s.b)(function(e){return{height:e.size.height,width:e.size.width,readMode:Object(b.B)(e),visible:!e.visibility.supported||!e.visibility.isHidden,usePageFlip:Object(y.e)(e),fullscreenEnabled:Object(_.d)(e),documentPages:Object(E.b)(e),dropdownOpen:Object(b.b)(e),linksLoaded:Object(T.d)(e),zoomLevel:e.reader.zoomLevel,checkIfVideoExplicit:Object(b.j)(e),isIdle:e.reader.isIdle}},null,null,{pure:!1,withRef:!0})(I)},function(e,t,n){"use strict";n.d(t,"a",function(){return _});var r,i=n(137),o=n(80),a=n(5),s=n(138),u=n(32),c=n(33),l=n(34),m=n(59),d=n(4),p=n(423),h=n(435),f=n(436),g=n(154),v=(r=d.b,babelHelpers.inherits(b,r),b.prototype.componentDidMount=function(){var r=this;this.spreadAnimator=this.children[0];var t={getVisibleComponents:function(){return r.getVisibleDescendants()},getRenderedViews:function(e){return r.getRenderedViews(e)},getReadMode:function(){return r.props.readMode},getPageComponent:function(e){var t=Object(l.a)(r.props.readMode,e),n=r.spreadAnimator.children[t];return n.children[0].pageNumber===e?n.children[0]:n.children[1]},goToPage:function(e){t.goToSpread(Object(l.a)(t.getReadMode(),e))},goToSpread:function(e){if(r.props.findIsVisible)r.spreadAnimator.jumpToSpread(e);else{var t=r.owner;r.props.usePageFlip||r.props.dispatch(Object(o.c)()),setTimeout(function(){t.canvasObjectTree&&t.canvasObjectTree.spreadAnimator.goToSpread(e)},0)}},jumpToPage:function(e){t.jumpToSpread(Object(l.a)(t.getReadMode(),e))},jumpToSpread:function(e){r.spreadAnimator.jumpToSpread(e)},setSnapping:function(e){return r.spreadAnimator.setSnapping(e)},jumpToPositionByPercent:function(e){return r.spreadAnimator.jumpToPositionByPercent(e)},zoomCurrentView:function(e){return r.spreadAnimator.getCurrentSpread().setZoom(e,!1)},getPosition:function(){return r.getPosition()},setPosition:function(e){return r.setPosition(e)}};this.props.dispatch(i.b(t))},b.prototype.componentDidUpdate=function(e){!e.browserTabIsVisible&&this.props.browserTabIsVisible&&(this._interactionStartTime=-1,this._frameCountAtAnimationStart=-1)},b.prototype.componentWillUnmount=function(){this.props.dispatch(i.c())},b.prototype.getChildTree=function(e){var t={allowUIToOverlayCover:this.props.allowUIToOverlayCover,canChangePages:1<this.props.documentPageSpreadList.length,currentSpreadIndex:this._currentSpreadIndex,currentPageNumber:this.props.currentPageNumber,disableGestures:this.props.findIsVisible,dispatch:this.props.dispatch,documentPageSpreadList:this.props.documentPageSpreadList,featureTracker:this.props.featureTracker,hideLinkToolTip:this.hideLinkToolTip,isLinksToggledOn:this._isLinkToggledOn,mayRenderLinks:this.props.mayRenderLinks,paywalledPageNumbers:this.props.paywalledPageNumbers,onAnimationEnd:this.onAnimationEnd,onAnimationStart:this.onAnimationStart,onSpreadChange:this.onSpreadChange,readMode:this.props.readMode,showLinkToolTip:this.showLinkToolTip,viewportHeight:this.props.height,viewportWidth:this.props.width,renderManager:this.props.renderManager};return[this.props.usePageFlip?d.b.createElement(f.a,t):d.b.createElement(p.a,t),d.b.createElement(h.a,{link:this._showTooltip})]},b.prototype.onSingleTapConfirmed=function(e,t,n){return this._isLinkToggledOn=!this._isLinkToggledOn,this.forceUpdate(),!0},b.prototype.getPosition=function(){var t=this,e=this.spreadAnimator.getCurrentSpread(),n=e.children,r=this.props.activeVideoLink,i=void 0;if(n.length<2?i=n[0]:r&&(i=n.find(function(e){return e.model.pageNumber===r.page.pageNumber})),!i){var o=d.b.RectPool.get(0,0,this.width,this.height),a=n[0].viewportBBox,s=n[1].viewportBBox,u=Object(m.a)(o,a)-Object(m.a)(o,s);i=0<u?n[0]:u<0?n[1]:n.find(function(e){return e.model.pageNumber===t.props.currentPageNumber}),d.b.RectPool.release(o)}if(!i)return null;var c=e.getCenter(),l=i.transform.inverse().transformPoint(c.x*e.width,c.y*e.height);return{x:l[0]/i.width,y:l[1]/i.height,zoom:e.getZoom(),pageNumber:i.pageNumber}},b.prototype.setPosition=function(t){var e=Object(l.a)(this.props.readMode,t.pageNumber),n=this.spreadAnimator.children[e],r=n.children.find(function(e){return e.pageNumber===t.pageNumber});if(g.a.scroller.zoom=t.zoom,r){var i=r.transform.transformPoint(t.x*r.width,t.y*r.height);n.setCenter({x:i[0],y:i[1]}),this.spreadAnimator.jumpToSpread(e),this.requestRedraw()}},b.prototype.getRenderedViews=function(e){var p=!(0<arguments.length&&void 0!==e)||e,h={},f={x:0,y:0,width:this.width,height:this.height};return d.b.traverse(this,function(e,t,n,r){if(!Object(m.a)(f,t))return!1;if(p&&!e.isVisible)return!0;h.hasOwnProperty(e.displayName)||(h[e.displayName]=[]);var i={},o=Object.keys(e).concat(Object.getOwnPropertyNames(Object.getPrototypeOf(e))),a=Array.isArray(o),s=0;for(o=a?o:o[Symbol.iterator]();;){var u;if(a){if(s>=o.length)break;u=o[s++]}else{if((s=o.next()).done)break;u=s.value}var c=u,l=e[c];"number"!=typeof l&&"string"!=typeof l&&"boolean"!=typeof l||(i[c]=l)}var d=e.model||{};return h[e.displayName].push(Object.assign(e.viewportBBox,{model:d,view:i})),!0}),JSON.parse(JSON.stringify(h))},babelHelpers.createClass(b,[{key:"frameCount",get:function(){return this.owner.frameCount}},{key:"inAnimation",get:function(){return this._inAnimation}}]),b);function b(e,t){babelHelpers.classCallCheck(this,b);var n=babelHelpers.possibleConstructorReturn(this,r.call(this,e,t));return n._isLinkToggledOn=!1,n._showTooltip=null,n._frameCountAtAnimationStart=-1,n._interactionStartTime=-1,n._inAnimation=!1,n.onSpreadChange=function(e){n._currentSpreadIndex=e,n._isLinkToggledOn=!1,n.forceUpdate()},n.onAnimationStart=function(){n._frameCountAtAnimationStart=n.frameCount,n._interactionStartTime=d.b.lastTick,n._inAnimation=!0},n.onAnimationEnd=function(){if(n._inAnimation=!1,0<=n._frameCountAtAnimationStart&&0<=n._interactionStartTime){var e=d.b.lastTick-n._interactionStartTime,t=e/(1e3/60)-(n.frameCount-n._frameCountAtAnimationStart);0<t&&n.props.metrics.onFrameDrop({droppedFrames:t,duration:e,webgl:n.props.usePageFlip})}},n.showLinkToolTip=function(e){n._showTooltip!==e&&(n._showTooltip=e,n.forceUpdate())},n.hideLinkToolTip=function(){n._showTooltip&&(n._showTooltip=null,n.forceUpdate())},n.__store__=e.store,n._currentSpreadIndex=Object(l.a)(e.readMode,e.currentPageNumber),n}var _=d.b.connect(v,function(e){return{allowUIToOverlayCover:a.q(e)||e.features.allowUIToOverlayCover,browserTabIsVisible:!e.visibility.isHidden,activeVideoLink:e.inlineVideo.activeVideoLink,currentPageNumber:e.reader.currentPageNumber,currentSpreadIndex:e.reader.currentSpreadIndex,documentPageSpreadList:a.z(e),findIsVisible:c.d.isVisible(e),featureTracker:e.featureTracker,mayRenderLinks:Object(s.a)(e),paywalledPageNumbers:Object(u.c)(e)}})},function(e,t,n){"use strict";n.d(t,"a",function(){return h});var r,o=n(56),f=n(4),a=n(154),i=n(204),m=n(45),s=n(26),d=n(59),u=n(23),c=n(7),l=n(25),p=n(24),h=(r=f.b,babelHelpers.inherits(g,r),g.prototype.componentDidMount=function(){this.scroller.resize(0,0,1,this.props.viewportWidth,this.props.viewportHeight,this.width,this.height),this.scroller.setSnap(!0,this.snapFunction,!1);var e=this.clampChildrenIndex(this.props.currentSpreadIndex),t=this.children[e].unzoomedBBox;this.scroller.jumpTo(0,t.x-this.xMargin,1),f.b.RectPool.release(t),this.props.featureTracker.opportunity(c.a.DOUBLE_TAP_ZOOM),this.props.featureTracker.opportunity(c.a.GESTURE_PINCH_ZOOM),this.props.canChangePages&&this.props.featureTracker.opportunity(c.a.GESTURE_DRAG_PAGES)},g.prototype.componentDidUpdate=function(e){if(this.props.viewportWidth!==e.viewportWidth||this.props.viewportHeight!==e.viewportHeight){var t=this.children[this.props.currentSpreadIndex].unzoomedBBox,n=t.x-this.xMargin;this.scroller.resize(0,n,1,this.props.viewportWidth,this.props.viewportHeight,this.width,this.height),f.b.RectPool.release(t)}},g.prototype.getChildrenToTraverse=function(){var e=this.getSpreadIndexAt(this.scroller.left),t=this.getSpreadIndexAt(this.scroller.left+this.props.viewportWidth-1);return this.children.slice(Math.max(e,0),Math.min(t,this.children.length-1)+1)},g.prototype.clampChildrenIndex=function(e){return Math.max(Math.min(e,this.children.length-1),0)},g.prototype.onGestureStart=function(e,t,n,r){return this._spreadIndexBeforeGestureStart=this.props.currentSpreadIndex,this.scroller.touchStart(e,t,r),1===n.length},g.prototype.onGestureChange=function(e,t,n,r,i,o){return(o===s.b||o===s.d)&&1===n.length&&(this.scroller.touchMove(e,t,r,i),this.requestRedraw(),!0)},g.prototype.onGestureEnd=function(e){return this.scroller.touchEnd(e,f.b.lastTick),this.props.currentSpreadIndex!==this._spreadIndexBeforeGestureStart&&this.props.featureTracker.usage(c.a.GESTURE_DRAG_PAGES),this.scroller.isMoving&&this.requestRedraw(),!0},g.prototype.onSingleTapConfirmed=function(e,t,n){var r=this.getCurrentSpread(),i=r.children[0].viewportBBox;if(1<r.children.length){var o=r.children[1].viewportBBox;i.width+=o.width,i.height=Math.max(i.height,o.height),i.y=Math.min(i.y,o.y)}if(t>i.y&&t<i.y+i.height){var a=this.children.indexOf(r);if(e<i.x)return this.goToSpread(a-1),!0;if(e>i.x+i.width)return this.goToSpread(a+1),!0}return!1},g.prototype.getCurrentSpreadIndex=function(){return this.getSpreadIndexAt(this.scroller.left+this.props.viewportWidth/2)},g.prototype.getCurrentSpread=function(){return this.children[this.getCurrentSpreadIndex()]},g.prototype.getVisiblePageNumbers=function(){for(var e=[],t=Math.max(this.getSpreadIndexAt(this.scroller.left),0),n=this.getSpreadIndexAt(this.scroller.left+this.props.viewportWidth-1),r=f.b.RectPool.get(0,0,this.props.viewportWidth,this.props.viewportHeight),i=t;i<=n;i++){var o=this.children[i].children,a=Array.isArray(o),s=0;for(o=a?o:o[Symbol.iterator]();;){var u;if(a){if(s>=o.length)break;u=o[s++]}else{if((s=o.next()).done)break;u=s.value}var c=u,l=c.viewportBBox;Object(d.a)(r,l)&&e.push(c.model.pageNumber),f.b.RectPool.release(l)}}return f.b.RectPool.release(r),e},g.prototype.setSnapping=function(e){this.scroller.setSnap(e,null,!0,f.b.lastTick),this.requestRedraw()},g.prototype.jumpToPositionByPercent=function(e){this.getCurrentSpread().setZoom(1),this.scroller.jumpTo(0,e*(this.width-this.props.viewportWidth)/100),this.requestRedraw()},g.prototype.goToSpread=function(e){if(this.getCurrentSpreadIndex()!==e){this.getCurrentSpread().setZoom(1);var t=this.clampChildrenIndex(e),n=this.children[t].unzoomedBBox;this.scroller.scrollTo(0,n.x-this.xMargin,1,f.b.lastTick),f.b.RectPool.release(n),this.requestRedraw()}},g.prototype.jumpToSpread=function(e){if(this.getCurrentSpreadIndex()!==e){this.getCurrentSpread().setZoom(1);var t=this.clampChildrenIndex(e),n=this.children[t].unzoomedBBox;this.scroller.jumpTo(0,n.x-this.xMargin,1),f.b.RectPool.release(n),this.requestRedraw()}},g.prototype.getSpreadIndexAt=function(e){var t=Math.floor((e-this.xMargin)/(this.props.viewportWidth-this.xMargin-this.xOverlap));return Math.min(Math.max(t,0),this.children.length-1)},g.prototype.getChildTree=function(e){var i=this;return this.props.documentPageSpreadList.map(function(e,t){var n=(i.props.viewportWidth-i.xMargin-i.xOverlap)*t+i.xMargin,r=new o.a;return r.mTranslate(n,i.yMargin),f.b.createElement(a.a,{dispatch:i.props.dispatch,featureTracker:i.props.featureTracker,height:i.props.viewportHeight-2*i.yMargin,hideLinkToolTip:i.props.hideLinkToolTip,isCurrentSpread:t===i.props.currentSpreadIndex,isLinksToggledOn:i.props.isLinksToggledOn,isSnapped:i._isSnapped,mayRenderLinks:i.props.mayRenderLinks,pageModels:e.pages,paywalledPageStatus:e.pages.map(function(e){return i.props.paywalledPageNumbers.includes(e.pageNumber)}),readMode:i.props.readMode,showLinkToolTip:i.props.showLinkToolTip,transform:r,width:i.props.viewportWidth-2*i.xMargin,renderManager:i.props.renderManager})})},g.prototype.afterDraw=function(e){var t=this.scroller.isDragging||this.scroller.isAnimating||this.scroller.isMoving;this.scroller.update(f.b.lastTick);var n=this.scroller.isDragging||this.scroller.isAnimating||this.scroller.isMoving;(n||t)&&(this._isSnapped?(this._isSnapped=!1,this.forceUpdate()):this.requestRedraw()),n||!this.scroller.isSnapped()||this._isSnapped?this._isSnapped||this.requestRedraw():(this._isSnapped=!0,this.forceUpdate()),!this._scrollerMovedLastFrame&&n?this.props.onAnimationStart():this._scrollerMovedLastFrame&&!n&&this.props.onAnimationEnd(),this._scrollerMovedLastFrame=n;var r=this.getCurrentSpreadIndex();r!==this.props.currentSpreadIndex&&this.props.onSpreadChange(r);var i=this.getVisiblePageNumbers(),o=i.join()!==this._lastVisiblePages;this._lastVisiblePages=i.join();var a=-1===this._lastCenterSpreadIndex,s=this._lastCenterSpreadIndex!==r&&!a,u=this.children[r].children.map(function(e){return e.model.pageNumber}),c=this.props.currentPageNumber;if(s)c=u[0];else if(!i.includes(function(e){return e===c})){var l=i.find(function(e){return u.includes(e)});"number"==typeof l&&(c=l)}this._lastCenterSpreadIndex=r;var d=this.scroller.getHorizontalPositionInPercent(),p=d!==this._lastPositionInPercent;if(this._lastPositionInPercent=d,(p||s||o)&&this.props.dispatch(Object(m.b)(i,r,c,u,d,p,s,o,this.scroller.isDragging)),s||a){var h=Array.from(new Set([].concat(i,u)));this.props.renderManager.setActivePages(h,this.props.readMode)}},babelHelpers.createClass(g,[{key:"width",get:function(){var e=this.children?this.children.length:0;return this.props.viewportWidth*e-(this.xMargin+this.xOverlap)*(e-1)}},{key:"height",get:function(){return this.props.viewportHeight}},{key:"transform",get:function(){return this._transform||(this._transform=new o.a),this._transform.mReset().mTranslate(-this.scroller.left,-this.scroller.top),this._transform}},{key:"inAnimation",get:function(){return!!this.scroller.isMoving||r.prototype.inAnimation}},{key:"xMargin",get:function(){var e=this.props.readMode===l.DOUBLE_PAGE_SPREAD?p.f:p.g;return Object(u.a)()*e}},{key:"yMargin",get:function(){var e=0;return e=this.props.readMode===l.DOUBLE_PAGE_SPREAD?this.props.allowUIToOverlayCover?p.h:p.i:this.props.allowUIToOverlayCover?p.k:p.j,Object(u.a)()*e}},{key:"xOverlap",get:function(){return 0}}]),g);function g(e,t){babelHelpers.classCallCheck(this,g);var s=babelHelpers.possibleConstructorReturn(this,r.call(this,e,t));return s._lastCenterSpreadIndex=-1,s._isSnapped=!0,s._scrollerMovedLastFrame=!1,s._lastVisiblePages="",s._lastPositionInPercent=0,s._spreadIndexBeforeGestureStart=0,s.snapFunction=function(e,t,n){var r=s.clampChildrenIndex(s.getSpreadIndexAt(t+s.props.viewportWidth/2)),i=s.children[r];if(!i)return{left:t,top:0,zoom:1};var o=i.unzoomedBBox,a=o.x-s.xMargin;return f.b.RectPool.release(o),{left:a,top:0,zoom:1}},s.scroller=new i.a(0,0,1,s.props.viewportWidth,s.props.viewportHeight,s.width,s.height),s}},function(e,t,n){"use strict";n.d(t,"a",function(){return r});var o=n(212),a=n(23),r={draw:function(e,t,n,r){var i=Object(a.a)();e.save(),e.translate(t,n),e.scale(i,i),e.rotate(r/230),e.translate(-o.a.w/2,-o.a.h/2),o.a.d[0](e,{stack:0}),e.restore()}}},function(e,t,n){"use strict";n.d(t,"a",function(){return l});var M=n(4),r=n(56),o=n(10),i=n(33),H=n(67),F=n(73),U=n(159),a=n(42),s=n.n(a);function u(e,t,n){var r=o.c.create(),i=o.c.create();return o.c.set(r,t,n),o.c.transformMat2d(i,r,e),{x:i[0],y:i[1]}}function B(e,t){var n=o.a.create();return o.a.multiply(n,t,e.matrix),{p1:u(n,e.x,e.y),p2:u(n,e.x+e.width,e.y),p3:u(n,e.x,e.y+e.height),p4:u(n,e.x+e.width,e.y+e.height)}}var c,l=(c=M.b,babelHelpers.inherits(d,c),d.prototype.componentDidUpdate=function(e){s()(e.selectedResult,this.props.selectedResult)||(this._lastActionTick=this.props.selectedResult?M.b.lastTick:0)},d.prototype.isAnimating=function(e){return e-500<this._lastActionTick},d.prototype.draw=function(e,t){var n=Object(H.c)(t,this.props.pageType),r=this.getViewportCTM().matrix;if(e.save(),this.selectedResult){e.fillStyle="rgba(255, 255, 0, 0.5)";var i=this.selectedResult,o=Array.isArray(i),a=0;for(i=o?i:i[Symbol.iterator]();;){var s;if(o){if(a>=i.length)break;s=i[a++]}else{if((a=i.next()).done)break;s=a.value}var u=s,c=u.matrix;e.setTransform(r[0],r[1],r[2],r[3],r[4],r[5]),e.transform(c[0],c[1],c[2],c[3],c[4],c[5]),e.fillRect(u.x,u.y,u.width,u.height)}}var l=this.results,d=Array.isArray(l),p=0;for(l=d?l:l[Symbol.iterator]();;){var h;if(d){if(p>=l.length)break;h=l[p++]}else{if((p=l.next()).done)break;h=p.value}var f=h,m=Array.isArray(f),g=0;for(f=m?f:f[Symbol.iterator]();;){var v;if(m){if(g>=f.length)break;v=f[g++]}else{if((g=f.next()).done)break;v=g.value}var b=v;e.beginPath(),e.setTransform(1,0,0,1,0,0),e.rect(n.x,n.y,n.width,n.height);var _=b.matrix;e.setTransform(r[0],r[1],r[2],r[3],r[4],r[5]),e.transform(_[0],_[1],_[2],_[3],_[4],_[5]),e.rect(b.x,b.y,b.width,b.height),e.clip("evenodd")}}e.setTransform(1,0,0,1,0,0),e.fillStyle="rgba(0, 0, 0, 0.3)",e.fillRect(n.x,n.y,n.width,n.height),e.restore()},d.prototype.appendWebglOps=function(e,t,n){var r=Object(H.c)(t,this.props.pageType),i=this.getViewportCTM().matrix,o=this.transform.matrix,a=this.model.pageNumber,s=[],u=this.results,c=Array.isArray(u),l=0;for(u=c?u:u[Symbol.iterator]();;){var d;if(c){if(l>=u.length)break;d=u[l++]}else{if((l=u.next()).done)break;d=l.value}var p=d,h=Array.isArray(p),f=0;for(p=h?p:p[Symbol.iterator]();;){var m;if(h){if(f>=p.length)break;m=p[f++]}else{if((f=p.next()).done)break;m=f.value}var g=m;s.push(B(g,i))}}var v=this.selectedResult,b=[],_=[];if(v){var y=v,E=Array.isArray(y),T=0;for(y=E?y:y[Symbol.iterator]();;){var w;if(E){if(T>=y.length)break;w=y[T++]}else{if((T=y.next()).done)break;w=T.value}var C=w,x=B(C,i),O=Object(U.b)(x);if(b.push(x),this.isAnimating(M.b.lastTick)){var S=B(C,o),R=Object(U.b)(S),I=null;if(1<=R.max.x-R.min.x&&1<=R.max.y-R.min.y){var P=(O.max.x-O.min.x+40)/(R.max.x-R.min.x);I=this.props.renderManager.generateSurfacesUncached([P,0,0,P,R.min.x*P*-1,R.min.y*P*-1],(R.max.x-R.min.x)*P,(R.max.y-R.min.y)*P,a)}_.push(I)}}}if(e.push({type:M.f,args:[r,s]}),b.length){var k=b.reduce(function(e,t){var n=Object(U.b)(t);return e.left=Math.min(n.min.x,e.left),e.top=Math.min(n.min.y,e.top),e.right=Math.max(n.max.x,e.right),e.bottom=Math.max(n.max.y,e.bottom),e},{left:1/0,top:1/0,right:-1/0,bottom:-1/0}),A=Math.max(k.right-k.left,k.bottom-k.top),N=(M.b.lastTick-this._lastActionTick)/500,L=N<.5?(A+Object(F.d)(0,40,2*N))/A:(A+Object(F.b)(40,0,2*(N-.5)))/A,D={x:(k.left+k.right)/2,y:(k.top+k.bottom)/2};e.push({type:M.e,args:[b,_,D,L]})}},d.prototype.afterDraw=function(e){this.isAnimating(M.b.lastTick)&&this.requestRedraw()},babelHelpers.createClass(d,[{key:"isVisible",get:function(){return!!this.model&&i.d.isVisible(this.root.__store__.getState())}},{key:"width",get:function(){return this.model?this.model.width:0}},{key:"height",get:function(){return this.model?this.model.height:0}},{key:"results",get:function(){return this.props.results}},{key:"selectedResult",get:function(){return this.props.selectedResult}},{key:"model",get:function(){return this.props.model}},{key:"transform",get:function(){return this._transform||(this._transform=new r.a),this.width&&this.height&&this.parent&&this._transform.mSet(this.parent.width/this.width,0,0,this.parent.height/this.height,0,0),this._transform}}]),d);function d(e,t){babelHelpers.classCallCheck(this,d);var n=babelHelpers.possibleConstructorReturn(this,c.call(this,e,t));return n._lastActionTick=0,n}},function(e,t){e.exports="precision highp float;\nuniform vec4 u_color;\nvoid main ()\n{\n  gl_FragColor = u_color;\n}\n\n"},function(e,t){e.exports="attribute vec2 a_vertex;\nuniform mat3 u_displayMatrix;\nvoid main ()\n{\n  vec3 tmpvar_1;\n  tmpvar_1.z = 1.0;\n  tmpvar_1.xy = a_vertex;\n  highp vec4 tmpvar_2;\n  tmpvar_2.w = 1.0;\n  tmpvar_2.xyz = (u_displayMatrix * tmpvar_1);\n  gl_Position = tmpvar_2;\n}\n\n"},function(e,t){e.exports="precision highp float;\nuniform vec4 u_color;\nuniform sampler2D u_texture;\nvarying vec2 v_texCoord;\nvoid main ()\n{\n  lowp vec4 tmpvar_1;\n  tmpvar_1.w = 1.0;\n  tmpvar_1.xyz = ((texture2D (u_texture, v_texCoord).xyz * u_color.w) + (u_color.xyz * u_color.w));\n  gl_FragColor = tmpvar_1;\n}\n\n"},function(e,t){e.exports="precision highp float;\nattribute vec2 a_vertex;\nattribute vec2 a_texCoord;\nuniform mat3 u_displayMatrix;\nvarying vec2 v_texCoord;\nvoid main ()\n{\n  v_texCoord = a_texCoord;\n  vec3 tmpvar_1;\n  tmpvar_1.z = 1.0;\n  tmpvar_1.xy = a_vertex;\n  highp vec4 tmpvar_2;\n  tmpvar_2.w = 1.0;\n  tmpvar_2.xyz = (u_displayMatrix * tmpvar_1);\n  gl_Position = tmpvar_2;\n}\n\n"},function(e,t,n){"use strict";n.d(t,"a",function(){return h});var r=n(102),i=n(155),o=n(52),s=n(25),a=6,u=0,c=1,l=2,d=0;function p(t,n){return function(e,t){return e.layersInfo?Object(r.d)({url:e.layersInfo.uri,pageNumber:e.pageNumber,version:e.layersInfo.version,loadStatsTracker:t}):Object(r.c)({url:e.imageUri,pageNumber:e.pageNumber,width:e.width,height:e.height,loadStatsTracker:t})}(t,n).catch(function(e){if(t.layersInfo)return e&&e.skipTracking||n.onLoaderError(),n.onLayersImageFallback(),t.layersInfo=void 0,p(t,n);throw e})}var h=(f.prototype._getPageData=function(e){return this.pageDatas[e-1]||(this.pageDatas[e-1]={state:u}),this.pageDatas[e-1]},f.prototype.getPageModel=function(e){return this.pageModels[e-1]},f.prototype.getPageLayers=function(e){return function e(t,n,r){switch(n.state){case u:return d<a&&(d++,n.state=c,p(t,r).then(function(e){n.state=l,n.data=e,d--},function(){d--})),null;case c:return null;case l:return n.data.images.some(function(e){return 0===e.width||0===e.height})?(delete n.data,n.state=u,e(t,n,r)):n.data;default:return null}}(this.getPageModel(e),this._getPageData(e),this.loadStatsTracker)},f.prototype.isPageReady=function(e){return this._getPageData(e).state===l},f.prototype._getVideoData=function(e){var t=e.page.pageNumber+"_"+e.id;return this.videoDatas[t]||(this.videoDatas[t]={state:u}),this.videoDatas[t]},f.prototype.getVideoThumb=function(e){return function(e,t){if(t.state===u){t.state=c;var n=e.inlineData;n&&Object(i.c)("https://"+n.thumbnail).then(function(e){t.state=l,t.data=e},function(){})}return t.data}(e,this._getVideoData(e))},f.prototype.getVideoThumbs=function(e){var t=this;this.getPageModel(e).links.forEach(function(e){Object(o.b)(e)&&t.getVideoThumb(e)})},f.prototype.setActivePages=function(e,t){var r=this;e.forEach(function(e){r.getPageLayers(e),r.getVideoThumbs(e)});for(var i=[],n=t===s.SINGLE_PAGE_SPREAD?1:2,o=e[0]-n,a=e[e.length-1]+n;o<=a;a--)0<a&&a<=this.pageModels.length&&(this.getPageLayers(a),this.getVideoThumbs(a),i.push(a));return this.pageDatas.forEach(function(e,t){e&&e.state===l&&!i.includes(t+1)&&(delete e.data,e.state=u)}),Object.keys(this.videoDatas).forEach(function(e){var t=r.videoDatas[e],n=parseInt(e,10);t.state!==l||i.includes(n)||(delete t.data,t.state=u)}),i},f);function f(e,t){babelHelpers.classCallCheck(this,f),this.videoDatas={},this.pageModels=e,this.loadStatsTracker=t,this.pageDatas=new Array(e.length)}},function(e,t,n){"use strict";n.d(t,"a",function(){return b});var a,r=n(0),l=n.n(r),i=n(139),o=n.n(i),s=n(207),u=n(432),c=n(7),d=n(1),p=n(23),h=n(96),f=n(434),m=n.n(f),g=[{width:210,height:120},{width:120,height:210}],v={x:0,y:0,width:1,height:1},b=(a=r.Component,babelHelpers.inherits(_,a),_.prototype.componentDidMount=function(){this.props.shouldBeLoaded&&!this.props.isExplicit&&this._createPlayer()},_.prototype.shouldComponentUpdate=function(e,t){return!o()(this.props,e)||!o()(this.state,t)},_.prototype.componentDidUpdate=function(e){this.props.shouldBeLoaded&&!this.props.isExplicit?this._createPlayer():this._destroyPlayer();var t=this.state.inlinePlayer;if(t){t.fullscreenCallback=this._fullscreenCallback,t.playStatusCallback=this._playStatusCallback;var n=this.props,r=n.hidden,i=n.shouldBePaused,o=n.shouldAutoplay;this._isPlaying()&&(r||i)&&t.pause(),this._shouldVideoBeRendered()&&!r&&o&&!this._played&&t.play()}},_.prototype._createPlayer=function(){var t=this;if(!this._playerInitialized){var e=this.props.inlineVideo.link,n=e.videoService,r=e.videoId,i=e.inlineData,o=!!i&&i.autoplay,a=this._getVideoContainerId();"youtube"===n?Object(s.a)(r,a,o,function(){return t._trackError()}).then(function(e){return t.setState({inlinePlayer:e})}):"vimeo"===n&&Object(u.a)(r,a,o).then(function(e){return t.setState({inlinePlayer:e})}).catch(function(e){return t._trackError()}),this._playerInitialized=!0}},_.prototype._getVideoContainerId=function(){var e=this.props.inlineVideo.link;return"videoplayer_"+e.videoService+"_"+e.id},_.prototype._destroyPlayer=function(){var t=this;Object(d.t)().rIC(function(){var e=t.state.inlinePlayer;!e||t.props.shouldBeLoaded&&!t.state.errorOccurred||(e.fullscreenCallback=null,e.playStatusCallback=null,e.destroy(),t.setState({inlinePlayer:null}),t._playerInitialized=!1,t._played=!1)})},_.prototype._isPlaying=function(){return!!this.state.inlinePlayer&&this.state.inlinePlayer.isPlaying()},_.prototype._isFullscreen=function(){return!!this.state.inlinePlayer&&this.state.inlinePlayer.isFullscreen()},_.prototype._isReady=function(){return!!this.state.inlinePlayer&&this.state.inlinePlayer.isReady()},_.prototype._playerSizeOk=function(t){var e=this.props.inlineVideo,n=e.link,r=e.pageWidth,i=e.pageHeight,o=Object(p.a)();return g.some(function(e){return t.width/o*(n.width/r)>e.width&&t.height/o*(n.height/i)>e.height})},_.prototype._shouldVideoBeRendered=function(){var e=this.props.pageViewportBBox;return!!e&&(!(!this._isPlaying()&&!this._isFullscreen())||this._playerSizeOk(e)&&!!this.state.inlinePlayer&&!this.state.errorOccurred)},_.prototype._shouldIconBeRendered=function(){var e=this.props.pageViewportBBox;return!(!e||this._isPlaying()||this._isFullscreen()||this._playerSizeOk(e))},_.prototype._trackOpportunity=function(){this._isReady()&&(this._trackingFlag.videoImpressed||(this._trackingFlag.videoImpressed=!0,this.props.featureTracker.opportunity(c.a.PUBLICATION_INLINE_VIDEO_LINK),this.props.metrics.monitor("reader3-inpub-video-opportunity",{view:1,service:this.props.inlineVideo.link.videoService})))},_.prototype._trackUsage=function(){this._trackingFlag.videoWatched||(this._trackingFlag.videoWatched=!0,this.props.featureTracker.usage(c.a.PUBLICATION_INLINE_VIDEO_LINK),this.props.metrics.monitor("reader3-inpub-video-view",{view:1,service:this.props.inlineVideo.link.videoService}))},_.prototype._trackError=function(){this._trackingFlag.videoWentWrong||(this._trackingFlag.videoWentWrong=!0,this.props.metrics.monitor("reader3-inpub-video-error",{failure:1,service:this.props.inlineVideo.link.videoService}),this._destroyPlayer(),this.setState({errorOccurred:!0}))},_.prototype._adjustAlignment=function(e,t){var n=e.top,r=e.left,i=n+e.height,o=r+e.width;Math.abs(n-t.top)<=4&&(n=t.top),Math.abs(r-t.left)<=4&&(r=t.left),Math.abs(i-(t.top+t.height))<=4&&(i=t.top+t.height),Math.abs(o-(t.left+t.width))<=4&&(o=t.left+t.width),e.top=Math.floor(n),e.left=Math.floor(r),e.height=Math.ceil(i)-e.top,e.width=Math.ceil(o)-e.left},_.prototype.renderPlayer=function(){var e=this._shouldVideoBeRendered();e&&this._trackOpportunity();var t={display:e?"block":"none"};return l.a.createElement("div",{className:"inline-video__player",style:t},l.a.createElement("div",{id:this._getVideoContainerId()}))},_.prototype.renderArrow=function(){var e={display:this._shouldIconBeRendered()?"block":"none"};return l.a.createElement("div",{className:"inline-video__cta",style:e,dangerouslySetInnerHTML:{__html:m.a}})},_.prototype.renderMessage=function(){var e=this.props,t=e.pageViewportBBox,n=e.inlineVideo.link,r=n.videoService,i=n.url,o={display:t&&this._playerSizeOk(t)?"block":"none"};return this.props.isExplicit?l.a.createElement("div",{className:"inline-video__message",style:o},l.a.createElement(h.c,{onSubmit:function(){return window.open(i,"_blank")},service:r})):this.state.errorOccurred?l.a.createElement("div",{className:"inline-video__message",style:o},l.a.createElement(h.b,{onSubmit:function(){return window.open(i,"_blank")},service:r})):null},_.prototype.render=function(){var e=this.props.inlineVideo,t=e.link,n=e.pageWidth,r=e.pageHeight,i=this.props.pageViewportBBox||v,o=Object(p.a)(),a={top:i.y/o,left:i.x/o,width:i.width/o,height:i.height/o},s=a.width/n,u=a.height/r,c={top:t.y*u+a.top,left:t.x*s+a.left,width:t.width*s,height:t.height*u};return this._adjustAlignment(c,a),l.a.createElement("div",{className:"inline-video__container",style:c},this.renderPlayer(),this.renderArrow(),this.renderMessage())},_);function _(){var e,t,n;babelHelpers.classCallCheck(this,_);for(var r=arguments.length,i=Array(r),o=0;o<r;o++)i[o]=arguments[o];return(e=t=babelHelpers.possibleConstructorReturn(this,a.call.apply(a,[this].concat(i))))._played=!1,t._playerInitialized=!1,t._trackingFlag={videoImpressed:!1,videoWatched:!1,videoWentWrong:!1},t.state={inlinePlayer:null,errorOccurred:!1},t._playStatusCallback=function(){t._played=t._played||t._isPlaying(),t.props.interactionCallback(t.props.inlineVideo,t._isPlaying(),t._isFullscreen()),t._shouldVideoBeRendered()&&t._trackOpportunity(),t._played&&t._trackUsage()},t._fullscreenCallback=function(){t.props.interactionCallback(t.props.inlineVideo,t._isPlaying(),t._isFullscreen())},n=e,babelHelpers.possibleConstructorReturn(t,n)}},function(e,t,n){"use strict";n.d(t,"a",function(){return s});var i=n(433),r=n(62),o=(a.prototype.play=function(){return this._player.play()},a.prototype.pause=function(){this._player.pause()},a.prototype.destroy=function(){Object(r.f)(this._onFullscreenChange),this.fullscreenCallback=void 0,this.playStatusCallback=void 0,this._player.unload()},a.prototype.isPlaying=function(){return this._isPlaying},a.prototype.isFullscreen=function(){return this._isFullscreen},a.prototype.isReady=function(){return!0},a.prototype._invokePlayStatusCallback=function(){this.playStatusCallback&&this.playStatusCallback()},a);function a(e,t){var n=this;babelHelpers.classCallCheck(this,a),this._isPlaying=!1,this._isFullscreen=!1,this._onPlay=function(){n._isPlaying=!0,n._invokePlayStatusCallback()},this._onPause=function(){n._isPlaying=!1,n._invokePlayStatusCallback()},this._onEnded=function(){n._isPlaying=!1,n._invokePlayStatusCallback()},this._onFullscreenChange=function(){var e=document.getElementById(n.id);n._isFullscreen=!!e&&e.contains(Object(r.d)()),n.fullscreenCallback&&n.fullscreenCallback()},this._player=t,this.id=e,this._player.on("play",this._onPlay),this._player.on("pause",this._onPause),this._player.on("ended",this._onEnded),Object(r.a)(this._onFullscreenChange)}function s(t,e,n){var r=new i.a(e,{id:t,muted:n,autoplay:!1,autopause:!1,title:!1,portrait:!1,byline:!1,transparent:!1});return r.on("error",function(e){r.loadVideo(t)}),r.ready().then(function(){return Promise.resolve(new o(e,r))})}},,function(e,t){e.exports='<svg width="36px" height="36px" viewBox="0 0 36 36" version="1.1" xmlns="http://www.w3.org/2000/svg">\n    <g stroke="none" stroke-width="1" fill="none" fill-rule="evenodd">\n        <g stroke-width="2" stroke="#F2F2F2" fill="#F2F2F2">\n            <path d="M12.3408714,10.0141234 C12.4387046,9.9874359 12.5458435,9.99787995 12.6384534,10.0513483 L25.7231942,17.6058269 C25.7441713,17.6179381 25.7635499,17.6317943 25.7812762,17.6471132 C25.8505849,17.6811974 25.9106579,17.7350136 25.9510292,17.8049388 C26.0614195,17.9961404 25.9953885,18.2409294 25.8085954,18.3487745 L12.645177,25.9486776 C12.5764657,25.9883481 12.5002354,26.0040755 12.4258831,25.9991127 C12.4172304,25.9996948 12.4085186,25.9999904 12.3997586,25.9999904 C12.178978,25.9999904 12,25.8204113 12,25.6047213 L12,10.404915 C12,10.2069041 12.152566,10.0428998 12.3408714,10.0141234 L12.3408714,10.0141234 Z">\n            </path>\n        </g>\n    </g>\n</svg>\n'},function(e,t,n){"use strict";n.d(t,"a",function(){return a});var r,i=n(81),c=n(4),o=n(51),l=n(23),u="'Open Sans', Helvetica, Arial, Tahoma, Sans-serif",a=(r=c.b,babelHelpers.inherits(s,r),s.prototype.componentWillUnmount=function(){this.gl&&this._texture&&this.gl.deleteTexture(this._texture)},s.prototype.initializeTexture=function(){if(this.gl){var e=this.gl;this._texture=e.createTexture(),e.bindTexture(e.TEXTURE_2D,this._texture),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MAG_FILTER,e.NEAREST),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MIN_FILTER,e.NEAREST),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_S,e.CLAMP_TO_EDGE),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_T,e.CLAMP_TO_EDGE)}},s.prototype.drawRoundRect=function(e,t,n,r,i,o){e.beginPath(),e.moveTo(t+o,n),e.lineTo(t+r-o,n),e.quadraticCurveTo(t+r,n,t+r,n+o),e.lineTo(t+r,n+i-o),e.quadraticCurveTo(t+r,n+i,t+r-o,n+i),e.lineTo(t+o,n+i),e.quadraticCurveTo(t,n+i,t,n+i-o),e.lineTo(t,n+o),e.quadraticCurveTo(t,n,t+o,n),e.closePath(),e.fill(),e.stroke()},s.prototype.updateOffscreenCanvases=function(){var e=this._alphaCanvas||document.createElement("canvas"),t=e.getContext("2d",{alpha:!1});t.font="12px "+u;var n=Math.ceil(t.measureText(this.text).width+12),r=Object(l.a)(),i=n*r,o=20*r,a=4*r,s=3.5*r;e.width=i,e.height=o,t.fillStyle="#4c4c4c",t.strokeStyle="#4c4c4c",t.clearRect(0,0,i,o),this.drawRoundRect(t,0,0,i,o,a),t.fillStyle="#ffffff",t.textBaseline="alphabetic",t.textAlign="center",t.font=12*r+"px "+u,t.fillText(this.text,i/2,o/2+s),this._textWidth=n,this._renderedText=this.text,this._alphaCanvas=e},s.prototype.updateTexture=function(){if(this.gl&&this._alphaCanvas){var e=this.gl,t=this._alphaCanvas;e.pixelStorei(e.UNPACK_FLIP_Y_WEBGL,!1),e.bindTexture(e.TEXTURE_2D,this._texture),e.texImage2D(e.TEXTURE_2D,0,e.RGBA,e.RGBA,e.UNSIGNED_BYTE,t)}},s.prototype.appendWebglOps=function(e,t,n){this._renderedText!==this.text&&(this.updateOffscreenCanvases(),this.updateTexture());var r=Object(l.a)(),i=this._textWidth*r,o=20*r,a=15*r,s=this.props.link.viewportBBox,u={x:s.x+s.width/2-i/2,y:s.y+s.height+(a-o/2),width:i,height:o};e.push({type:c.i,args:[this._texture,u,{x:0,y:0,width:1,height:1}]})},s.prototype.draw=function(e,t){this._renderedText!==this.text&&this.updateOffscreenCanvases();var n=Object(l.a)(),r=this._textWidth*n,i=20*n,o=15*n,a=this.props.link.viewportBBox,s=Math.round(a.x+a.width/2-r/2),u=Math.round(a.y+a.height+o-i/2);this._alphaCanvas&&e.drawImage(this._alphaCanvas,s,u,r,i)},babelHelpers.createClass(s,[{key:"displayName",get:function(){return"LinkTooltip"}},{key:"width",get:function(){return this.props.link?this.props.link.width:0}},{key:"height",get:function(){return this.props.link?20:0}},{key:"isVisible",get:function(){return this.props.link&&this.props.link.isVisible}},{key:"model",get:function(){return this.props.link.model}},{key:"text",get:function(){return this.model.type===o.b.GOTO_PAGE?"Navigate to page "+this.model.gotoPageNumber:this.model.type===o.b.OPEN_URL?""+this.model.url:""}}]),s);function s(e,t){babelHelpers.classCallCheck(this,s);var n=babelHelpers.possibleConstructorReturn(this,r.call(this,e,t));return n._renderedText="",n._textWidth=0,Object(i.b)(n.root.props.ctx)&&(n.gl=n.root.props.ctx,n.initializeTexture()),n}},function(e,t,n){"use strict";n.d(t,"a",function(){return T});var a=n(56),g=n(4),s=n(154),r=n(24),h=n(45),i=n(262),o=n(25),u=n(158),c=n(73),l=n(26),d=n(59),p=n(23),f=n(7),v=n(64),m=n(438),b=n(67);function _(e){return e===o.SINGLE_PAGE_SPREAD?200:400}function y(e){var t=Math.abs(e);return t<.1?c.c(0,1,10*t):.9<t?c.c(0,1,10*(1-t)):1}var E,T=(E=g.b,babelHelpers.inherits(w,E),w.prototype.componentDidMount=function(){this.props.featureTracker.opportunity(f.a.DOUBLE_TAP_ZOOM),this.props.featureTracker.opportunity(f.a.GESTURE_PINCH_ZOOM),this.props.canChangePages&&this.props.featureTracker.opportunity(f.a.GESTURE_DRAG_PAGES)},w.prototype.onGestureStart=function(e,t,n,r){return!this.props.disableGestures&&(this.animation.isRunning(g.b.lastTick)&&this.jumpToSpread(this._targetSpreadIndex),this._gesture={startX:e,startY:t,endX:e,endY:t,velocity:0,timeStamp:r},!0)},w.prototype.onGestureChange=function(e,t,n,r,i,o){if(this.props.disableGestures)return!1;if(o!==l.b&&o!==l.d||1!==n.length)return!1;var a=-(e-this._gesture.endX)/Math.max(1,r-this._gesture.timeStamp)*.6+.4*this._gesture.velocity;this._gesture.endX=e,this._gesture.endY=t,this._gesture.timeStamp=r,this._gesture.velocity=a;var s=this.getCurrentSpreadIndex(),u=this._getValidSpreadIndex(s+(o===l.b?1:-1));return s!==u&&this._tweakAnimation({duration:Number.MAX_VALUE,targetSpreadIndex:u}),!0},w.prototype.onGestureEnd=function(e){if(this.props.disableGestures)return!1;if(this._isDraggingManually()){var t=this._getPageSetupForFlip(this.getCurrentSpreadIndex(),this._targetSpreadIndex),n=this._getProgressBasedOnFingerPosition(t.start.edge,t.end.edge),r=this._targetSpreadIndex>this.getCurrentSpreadIndex()?0<this._gesture.velocity:this._gesture.velocity<0,i=Math.abs(this._gesture.velocity),o=r&&(.6<n||.36<i),a=_(this.props.readMode)*(.95-Math.atan(i)/Math.PI);return this._tweakAnimation({duration:a,startTime:g.b.lastTick-a*(o?n:1-n),reverse:!o}),o&&this.props.featureTracker.usage(f.a.GESTURE_DRAG_PAGES),!0}return!1},w.prototype.onSingleTapConfirmed=function(e,t,n){var r=this.getCurrentSpread(),i=r.children[0].viewportBBox;if(1<r.children.length){var o=r.children[1].viewportBBox;i.width+=o.width,i.height=Math.max(i.height,o.height),i.y=Math.min(i.y,o.y)}if(t>i.y&&t<i.y+i.height){var a=this.children.indexOf(r);if(e<i.x)return this.props.disableGestures?this.jumpToSpread(Math.max(a-1,0)):this.goToSpread(Math.max(a-1,0)),!0;if(e>i.x+i.width)return this.props.disableGestures?this.jumpToSpread(Math.min(a+1,this.children.length-1)):this.goToSpread(Math.min(a+1,this.children.length-1)),!0}return!1},w.prototype.getCurrentSpreadIndex=function(){return this.props.currentSpreadIndex},w.prototype.getCurrentSpread=function(){return this.children[this.getCurrentSpreadIndex()]},w.prototype.getVisiblePageNumbers=function(){var e=[];if(this.getCurrentSpreadIndex()!==this._targetSpreadIndex){var t=Math.min(this.getCurrentSpreadIndex(),this._targetSpreadIndex),n=Math.max(this.getCurrentSpreadIndex(),this._targetSpreadIndex);e.push.apply(e,this.children[t].children.map(function(e){return e.model.pageNumber})),e.push.apply(e,this.children[n].children.map(function(e){return e.model.pageNumber}))}else{var r=g.b.RectPool.get(0,0,this.props.viewportWidth,this.props.viewportHeight),i=this.getCurrentSpread().children,o=Array.isArray(i),a=0;for(i=o?i:i[Symbol.iterator]();;){var s;if(o){if(a>=i.length)break;s=i[a++]}else{if((a=i.next()).done)break;s=a.value}var u=s,c=u.viewportBBox;Object(d.a)(r,c)&&e.push(u.model.pageNumber),g.b.RectPool.release(c)}g.b.RectPool.release(r)}return e},w.prototype.setSnapping=function(e){},w.prototype.jumpToPositionByPercent=function(e){this.getCurrentSpread().setZoom(1),this.jumpToSpread(Math.round(e/100*(this.children.length-1)))},w.prototype.goToSpread=function(e){var t=g.b.lastTick;this.animation.isRunning(t)?this._pendingTargetSpreadIndex=e:this._animateToSpread(e,t,_(this.props.readMode))},w.prototype.jumpToSpread=function(e){this._animateToSpread(e,g.b.lastTick,0)},w.prototype._getValidSpreadIndex=function(e){return Math.max(0,Math.min(this.children.length-1,e))},w.prototype._animateToSpread=function(e,t,n){this._targetSpreadIndex=this._getValidSpreadIndex(e),this.getCurrentSpreadIndex()!==this._targetSpreadIndex&&(this.getCurrentSpread().setZoom(1),this._tweakAnimation({startTime:t,duration:n}))},w.prototype._tweakAnimation=function(e){var t=0<arguments.length&&void 0!==e?e:{};this.animation.duration=t.hasOwnProperty("duration")?t.duration:_(this.props.readMode),this._targetSpreadIndex=this._getValidSpreadIndex(t.hasOwnProperty("targetSpreadIndex")?t.targetSpreadIndex:this._targetSpreadIndex),this.animation.reset(t.startTime||0),this.animation.options.reverse=!!t.hasOwnProperty("reverse")&&t.reverse,this._justStartedAnimation=!0,this.requestRedraw()},w.prototype.getChildrenToTraverse=function(){var e=this.getCurrentSpreadIndex();return this.children.slice(e,e+1)},w.prototype.getChildTree=function(e){var n=this,r=this.xMargin,i=this.yMargin,o=new a.a;return o.mTranslate(r,i),this.props.documentPageSpreadList.map(function(e,t){return g.b.createElement(s.a,{dispatch:n.props.dispatch,featureTracker:n.props.featureTracker,height:n.props.viewportHeight-2*i,hideLinkToolTip:n.props.hideLinkToolTip,isCurrentSpread:t===n.props.currentSpreadIndex,isLinksToggledOn:n.props.isLinksToggledOn,isSnapped:n._isSnapped,mayRenderLinks:n.props.mayRenderLinks&&n._isSnapped,pageModels:e.pages,paywalledPageStatus:e.pages.map(function(e){return n.props.paywalledPageNumbers.includes(e.pageNumber)}),readMode:n.props.readMode,renderManager:n.props.renderManager,showLinkToolTip:n.props.showLinkToolTip,transform:o,width:n.props.viewportWidth-2*r})})},w.prototype.beforeDraw=function(e){!this._wasAnimatingLastFrame&&this.animation.isRunning(g.b.lastTick)&&this.props.onAnimationStart(),(this.animation.isRunning(g.b.lastTick)||!this._wasAnimatingLastFrame&&!this._justStartedAnimation)&&0!==this.animation.duration||(this.animation.options.reverse&&(this._targetSpreadIndex=this.getCurrentSpreadIndex()),this._targetSpreadIndex!==this.getCurrentSpreadIndex()&&this.props.onSpreadChange(this._targetSpreadIndex),isNaN(this._pendingTargetSpreadIndex)||(this.goToSpread(this._pendingTargetSpreadIndex),this._pendingTargetSpreadIndex=NaN))},w.prototype.appendWebglOps=function(e,t,n){this.animation.isRunning(g.b.lastTick)?this._appendWebglOpsForFlipping(e,this.getCurrentSpreadIndex(),this._targetSpreadIndex,n):this._appendWebglOpsForPages(e,n),this._justStartedAnimation=!1},w.prototype.afterDraw=function(e){this._wasAnimatingLastFrame&&!this.animation.isRunning(g.b.lastTick)&&this.props.onAnimationEnd();var t=this._isDraggingManually();this._wasAnimatingLastFrame=this.animation.isRunning(g.b.lastTick),this._wasAnimatingLastFrame&&!t&&this.requestRedraw();var n=this.getVisiblePageNumbers(),r=this.getCurrentSpreadIndex(),i=this.getCurrentSpread().children.map(function(e){return e.model.pageNumber}),o=r/Math.max(this.children.length-1,1)*100,a=this._lastPositionInPercent!==o,s=-1===this._lastSpreadIndex,u=this._lastSpreadIndex!==r&&!s,c=n.join()!==this._lastVisiblePages,l=this.props.currentPageNumber;if(u)l=i[0];else if(!n.includes(l)){var d=n.find(function(e){return i.includes(e)});"number"==typeof d&&(l=d)}if(this._lastPositionInPercent=o,this._lastSpreadIndex=r,this._lastVisiblePages=n.join(),(a||u||c)&&this.props.dispatch(Object(h.b)(n,r,l,i,o,a,u,c,t)),this._wasAnimatingLastFrame===this._isSnapped&&(this._isSnapped=!this._wasAnimatingLastFrame,this._isSnapped||this.props.hideLinkToolTip(),this.forceUpdate()),u||s){var p=Array.from(new Set([].concat(n,i)));this.props.renderManager.setActivePages(p,this.props.readMode)}},w.prototype._appendWebglOpsForFlipping=function(t,e,n,r){var i=this,o=this._getPageSetupForFlip(e,n),a=n<e,s=this._getConicContribution(),u=this._getProgressBasedOnFingerPosition(o.start.edge,o.end.edge),c=Object(b.c)(this._transformBBox(o.start.bbox,o.end.bbox,u),b.b),l=this._bendingMesh.calculateProgress(o.start.edge,o.end.edge,this._getFingerPosition(o.start.edge,o.end.edge),c,s);this._bendingMesh.bend(l,s);var d=this._lightRatioEasing(u),p=o.start.bending?this._loadPreviewTextureInfos(o.start.bending,c,r).ops:[],h=o.end.bending?this._loadPreviewTextureInfos(o.end.bending,c,r).ops:[];if(p.some(function(e){return e&&(e.type===v.b||e.type===v.c)})||(p=[null]),h.some(function(e){return e&&(e.type===v.b||e.type===v.c)})||(h=[null]),p.forEach(function(e){e&&e.type===v.a?t.push({type:g.d,args:[i._bendingMesh,e,c,d,a,!!o.start.bending,g.b.lastTick]}):t.push({type:g.a,args:[i._bendingMesh,e,c,d,a,!!o.start.bending,g.b.lastTick]})}),h.forEach(function(e){e&&e.type===v.a?t.push({type:g.d,args:[i._bendingMesh,e,c,d,!a,!!o.end.bending,g.b.lastTick]}):t.push({type:g.a,args:[i._bendingMesh,e,c,d,!a,!!o.end.bending,g.b.lastTick]})}),t.push({type:g.c,args:[this._bendingMesh,c]}),o.start.flat){var f=this._transformBBox(o.start.flat.viewportBBox,o.end.bending.viewportBBox,u);this._appendWebglOpsForPage(t,o.start.flat,f,r),t.push({type:g.h,args:[f,1e-4]})}if(o.end.flat){var m=this._transformBBox(o.start.bending.viewportBBox,o.end.flat.viewportBBox,u);this._appendWebglOpsForPage(t,o.end.flat,m,r),t.push({type:g.h,args:[m,1e-4]})}},w.prototype._transformBBox=function(e,t,n){var r=Math.abs(n);return{x:c.e(e.x,t.x,r),y:c.e(e.y,t.y,r),width:c.e(e.width,t.width,r),height:c.e(e.height,t.height,r)}},w.prototype._isDraggingManually=function(){return!(this.animation.duration!==Number.MAX_VALUE||!this._gesture)},w.prototype._getConicContribution=function(){if(this.animation.duration!==_(this.props.readMode)&&this._gesture){var e=(this._gesture.endY-this._gesture.startY)/(this.height-this._gesture.startY);return Math.min(1,Math.max(-1,e))}return-.5},w.prototype._getFingerPosition=function(e,t){return this._isDraggingManually()?this._gesture.endX-this._gesture.startX+e:e+(t-e)*this._progressEasing(g.b.lastTick)},w.prototype._getProgressBasedOnFingerPosition=function(e,t){var n=this._getFingerPosition(e,t);return Math.min(1,Math.max(0,(n-e)/(t-e)))},w.prototype._getPageSetupForFlip=function(e,t){var n=t<e,r=this.children[e].children,i=this.children[t].children;return Object(m.a)(r,i,this.props.readMode,n)},w.prototype._appendWebglOpsForPages=function(t,n){var r=this;this.getCurrentSpread().children.forEach(function(e){r._appendWebglOpsForPage(t,e,e.viewportBBox,n)})},w.prototype._appendWebglOpsForPage=function(t,e,n,r){var i=this;if(this.overlaps(n)){var o=Object(b.c)(n,e.pageType),a=this._lightRatioEasing(0),s=this._loadTextureInfos(e,n,r),u=s.done,c=s.ops;c.forEach(function(e){e.type===v.a?t.push({type:g.d,args:[i._flatMesh,e,o,a,!1,!0,g.b.lastTick]}):t.push({type:g.a,args:[i._flatMesh,e,o,a,!1,!0,g.b.lastTick]})}),u||0!==c.length||t.push({type:g.a,args:[this._flatMesh,null,o,a,!1,!0,g.b.lastTick]}),u||this.requestRedraw()}},w.prototype._loadPreviewTextureInfos=function(e,t,n){var r=this._loadTextureInfos(e,t,n);return r.ops=r.ops.filter(function(e){return e!==v.b}),r},w.prototype._loadTextureInfos=function(e,t,n){return e.getOperations(t,n.width,n.height)},babelHelpers.createClass(w,[{key:"width",get:function(){return this.props.viewportWidth}},{key:"height",get:function(){return this.props.viewportHeight}},{key:"xMargin",get:function(){var e=r.f;return Object(p.a)()*e}},{key:"yMargin",get:function(){var e=this.props.allowUIToOverlayCover?r.h:r.i;return Object(p.a)()*e}}]),w);function w(e,t){babelHelpers.classCallCheck(this,w);var n=babelHelpers.possibleConstructorReturn(this,E.call(this,e,t));return n._bendingMesh=new i.a(25,.001),n._flatMesh=new i.a(2,0),n._isSnapped=!0,n._wasAnimatingLastFrame=!1,n._lastSpreadIndex=-1,n._lastPositionInPercent=0,n._lastVisiblePages="",n._pendingTargetSpreadIndex=NaN,n._lightRatioEasing=y,n._progressEasing=function(e){return n.animation.value(e)},n._justStartedAnimation=!1,n._targetSpreadIndex=n.props.currentSpreadIndex,n.animation=new u.a(Number.MAX_VALUE,_(n.props.readMode)),n}},function(e,t,n){"use strict";function g(e,t,n,r,i){e<n-1&&i.push(r[t+0+3*n]-r[t+0],r[t+1+3*n]-r[t+1],r[t+2+3*n]-r[t+2])}function v(e,t,n,r,i){0<e&&i.push(r[t+0-3*n]-r[t+0],r[t+1-3*n]-r[t+1],r[t+2-3*n]-r[t+2])}function b(e,t,n,r,i){0<e&&i.push(r[t+0-3]-r[t+0],r[t+1-3]-r[t+1],r[t+2-3]-r[t+2])}function _(e,t,n,r,i){e<n-1&&i.push(r[t+0+3]-r[t+0],r[t+1+3]-r[t+1],r[t+2+3]-r[t+2])}function d(e,t,n,r,i,o,a){t===r-1?(b(e,n,0,i,o),v(t,n,r,i,o),_(e,n,r,i,o)):0===e?(v(t,n,r,i,o),_(e,n,r,i,o),g(t,n,r,i,o)):0===t?(_(e,n,r,i,o),g(t,n,r,i,o),b(e,n,0,i,o)):e===r-1?(g(t,n,r,i,o),b(e,n,0,i,o),v(t,n,r,i,o)):(g(t,n,r,i,o),b(e,n,0,i,o),v(t,n,r,i,o),_(e,n,r,i,o));for(var s,u,c,l,d,p,h,f=o.length/3,m=0;m<f-1;m++)s=o[3*m+0],u=o[3*m+1],c=o[3*m+2],l=o[3*(m+1)+0],d=o[3*(m+1)+1],p=o[3*(m+1)+2],(h=a).x+=p*u-d*c,h.y+=l*c-p*s,h.z+=d*s-l*u}n.d(t,"a",function(){return r});var p={x:0,y:0,z:0},h=[];function r(e,t,n,r){for(var i,o,a=p,s=h,u=0;u<e;u++)for(var c=0;c<e;c++){a.x=0,a.y=0,a.z=0,s.length=0;var l=u*e*3+3*c;d(c,u,l,e,t,s,a),i=a,void 0,o=Math.sqrt(i.x*i.x+i.y*i.y+i.z*i.z),i.x/=o,i.y/=o,i.z/=o,n[0+l]=a.x,n[1+l]=a.y,n[2+l]=a.z,r[0+l]=-a.x,r[1+l]=-a.y,r[2+l]=-a.z}}},function(e,t,n){"use strict";n.d(t,"a",function(){return r});var i=n(25);function r(e,t,n,r){return n===i.SINGLE_PAGE_SPREAD?r?function(e,t){var n=e[0].viewportBBox,r=t[0].viewportBBox;return{start:{bending:null,flat:e[0],bbox:n,edge:n.x},end:{bending:t[0],flat:null,bbox:r,edge:r.x+r.width}}}(e,t):function(e,t){var n=e[0].viewportBBox,r=t[0].viewportBBox;return{start:{bending:e[0],flat:null,bbox:n,edge:n.x+n.width},end:{bending:null,flat:t[0],bbox:r,edge:r.x}}}(e,t):r?function(e,t){var n=e[0].viewportBBox,r=t[t.length-1].viewportBBox;return{start:{bending:e[0],flat:1<e.length?e[e.length-1]:null,bbox:Object.assign({},n,{x:n.x+n.width}),edge:n.x},end:{bending:t[t.length-1],flat:1<t.length?t[0]:null,bbox:r,edge:r.x+r.width}}}(e,t):function(e,t){var n=e[e.length-1].viewportBBox,r=t[0].viewportBBox;return{start:{bending:e[e.length-1],flat:1<e.length?e[0]:null,bbox:n,edge:n.x+n.width},end:{bending:t[0],flat:1<t.length?t[t.length-1]:null,bbox:Object.assign({},r,{x:r.x+r.width}),edge:r.x}}}(e,t)}},function(e,t,n){"use strict";n.d(t,"a",function(){return h});var a,r=n(0),i=n.n(r),o=n(22),s=n(139),u=n.n(s),c=n(155),l=n(5),d=(a=r.Component,babelHelpers.inherits(p,a),p.prototype.shouldComponentUpdate=function(e,t){return!u()(this.state,t)},p.prototype.updatePagePositions=function(e){var n=this,r={};this.props.currentPageNumbers.forEach(function(e){var t=n.props.getPageComponent(e);t&&(n.props.visiblePageNumbers.includes(e)?r[e]=babelHelpers.extends({},t.position):r[e]=babelHelpers.extends({},t.viewportBBox))}),this.setState({pageViewportBBoxes:r,hidden:e})},p.prototype.render=function(){var e={display:this.state.hidden?"none":"block"};return i.a.createElement("div",{className:"dynamic-content__container",style:e},i.a.createElement(c.a,{pageViewportBBoxes:this.state.pageViewportBBoxes,hidden:this.state.hidden,metrics:this.props.metrics}))},p);function p(){var e,t,n;babelHelpers.classCallCheck(this,p);for(var r=arguments.length,i=Array(r),o=0;o<r;o++)i[o]=arguments[o];return(e=t=babelHelpers.possibleConstructorReturn(this,a.call.apply(a,[this].concat(i)))).state={pageViewportBBoxes:{},hidden:!0},n=e,babelHelpers.possibleConstructorReturn(t,n)}d.displayName="InPubContent";var h=Object(o.b)(function(e){return{getPageComponent:e.canvasApi?e.canvasApi.getPageComponent:function(){return null},visiblePageNumbers:e.reader.visiblePageNumbers,currentPageNumbers:Object(l.k)(e)}},null,null,{pure:!1,withRef:!0})(d)},function(e,t,n){"use strict";n.d(t,"a",function(){return l});var r=n(441),i=n(444),o=n(447),a=n(450),s=n(455),u=n(458),c=n(159),l=(d.prototype.destroy=function(){this.shadow.destroy(),this.shadowDraw.destroy(),this.bendingPage.destroy(),this.imagePrimitive.destroy(),this.link.destroy(),this.linkTooltip.destroy(),this.highlights.destroy(),this.gl=null},d);function d(e){babelHelpers.classCallCheck(this,d),this.gl=e,this.shadow=new r.a(e),this.shadowDraw=new i.a(e),this.bendingPage=new a.a(e),this.imagePrimitive=new o.a(e),this.link=new s.a(e,this.imagePrimitive),this.linkTooltip=new u.a(e,this.imagePrimitive),this.highlights=new c.a(e)}},function(e,t,n){"use strict";n.d(t,"a",function(){return c});var r=n(65),a=n(10),i=n(442),o=n.n(i),s=n(443),u=n.n(s),c=(l.prototype.destroy=function(){var e=this.gl;e.deleteBuffer(this.verticeBuffer),e.deleteBuffer(this.indiceBuffer),e.deleteTexture(this.depthMapTexture),e.deleteFramebuffer(this.depthMapFrameBuffer),this.shader.destroy()},l.prototype._calculateMatrix=function(e,t){var n=t.x,r=e.drawingBufferHeight-t.y-t.height,i=t.width,o=t.height;a.b.set(this.matrix,i,0,0,0,o,0,n,r,1),a.b.set(this.projection,2/e.drawingBufferWidth,0,0,0,2/e.drawingBufferHeight,0,-1,-1,1),a.b.multiply(this.matrix,this.projection,this.matrix)},l.prototype.computeDepthMap=function(e,t){var n=this.gl,r=this.shader;n.disable(n.DEPTH_TEST),n.enable(n.BLEND),n.blendFunc(n.ONE,n.ZERO),n.blendEquation(n.FUNC_ADD),n.disable(n.CULL_FACE),n.bindFramebuffer(n.FRAMEBUFFER,this.depthMapFrameBuffer),n.viewport(0,0,512,512),n.clearColor(0,0,0,0),n.clear(n.COLOR_BUFFER_BIT),r.bind(),this._calculateMatrix(n,t),n.uniformMatrix3fv(r.u_matrix,!1,this.matrix),n.bindBuffer(n.ARRAY_BUFFER,this.verticeBuffer),n.bufferSubData(n.ARRAY_BUFFER,0,e.vertices),n.vertexAttribPointer(r.vertex,3,n.FLOAT,!1,0,0),n.bindBuffer(n.ELEMENT_ARRAY_BUFFER,this.indiceBuffer),n.bufferSubData(n.ELEMENT_ARRAY_BUFFER,0,e.indices),n.drawElements(n.TRIANGLES,6*(e.size-1)*(e.size-1),n.UNSIGNED_SHORT,0),n.bindFramebuffer(n.FRAMEBUFFER,null),n.viewport(0,0,n.drawingBufferWidth,n.drawingBufferHeight)},l);function l(e){babelHelpers.classCallCheck(this,l),this.matrix=a.b.create(),this.projection=a.b.create(),this.gl=e,this.shader=Object(r.a)(e,u.a,o.a);this.verticeBuffer=e.createBuffer(),e.bindBuffer(e.ARRAY_BUFFER,this.verticeBuffer),e.bufferData(e.ARRAY_BUFFER,7500,e.DYNAMIC_DRAW);this.indiceBuffer=e.createBuffer(),e.bindBuffer(e.ELEMENT_ARRAY_BUFFER,this.indiceBuffer),e.bufferData(e.ELEMENT_ARRAY_BUFFER,6912,e.DYNAMIC_DRAW),this.depthMapTexture=e.createTexture(),e.bindTexture(e.TEXTURE_2D,this.depthMapTexture),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MAG_FILTER,e.LINEAR),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MIN_FILTER,e.LINEAR),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_S,e.CLAMP_TO_EDGE),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_T,e.CLAMP_TO_EDGE),e.texImage2D(e.TEXTURE_2D,0,e.RGBA,512,512,0,e.RGBA,e.UNSIGNED_BYTE,null),this.depthMapFrameBuffer=e.createFramebuffer(),e.bindFramebuffer(e.FRAMEBUFFER,this.depthMapFrameBuffer),e.framebufferTexture2D(e.FRAMEBUFFER,e.COLOR_ATTACHMENT0,e.TEXTURE_2D,this.depthMapTexture,0),e.bindFramebuffer(e.FRAMEBUFFER,null)}},function(e,t){e.exports="precision highp float;\nvoid main ()\n{\n  highp float tmpvar_1;\n  tmpvar_1 = abs(gl_FragCoord.z);\n  highp vec4 tmpvar_2;\n  tmpvar_2.w = 0.25;\n  tmpvar_2.x = tmpvar_1;\n  tmpvar_2.y = tmpvar_1;\n  tmpvar_2.z = tmpvar_1;\n  gl_FragColor = tmpvar_2;\n}\n\n"},function(e,t){e.exports="precision highp float;\nattribute vec3 vertex;\nuniform mat3 u_matrix;\nvoid main ()\n{\n  vec3 tmpvar_1;\n  tmpvar_1.z = 1.0;\n  tmpvar_1.xy = vertex.xy;\n  vec3 tmpvar_2;\n  tmpvar_2.xy = (u_matrix * tmpvar_1).xy;\n  tmpvar_2.z = vertex.z;\n  highp vec4 tmpvar_3;\n  tmpvar_3.xy = tmpvar_2.xy;\n  tmpvar_3.z = (-(vertex.z) * 0.7);\n  tmpvar_3.w = (1.0 + (vertex.z * -0.35));\n  gl_Position = tmpvar_3;\n}\n\n"},function(e,t,n){"use strict";n.d(t,"a",function(){return u});var r=n(65),i=n(445),o=n.n(i),a=n(446),s=n.n(a),u=(c.prototype.draw=function(e,t,n){var r=this.gl,i=this.shader;r.enable(r.DEPTH_TEST),r.enable(r.BLEND),r.blendFuncSeparate(r.SRC_ALPHA,r.ONE_MINUS_SRC_ALPHA,r.ZERO,r.ONE),i.bind();var o=r.canvas.width,a=r.canvas.height,s=(t.x-o/2)/(o/2),u=(0-t.y+a/2)/(a/2),c=(t.x+t.width-o/2)/(o/2),l=(0-(t.y+t.height)+a/2)/(a/2),d=new Float32Array([s,u,n,s,l,n,c,u,n,c,u,n,s,l,n,c,l,n]);r.activeTexture(r.TEXTURE0),r.bindTexture(r.TEXTURE_2D,e),r.uniform1i(i.depthMapTexture,0),r.bindBuffer(r.ARRAY_BUFFER,this.verticeBuffer),r.bufferSubData(r.ARRAY_BUFFER,0,d),r.vertexAttribPointer(i.vertex,3,r.FLOAT,!1,0,0),r.drawArrays(r.TRIANGLES,0,6)},c.prototype.destroy=function(){this.gl.deleteBuffer(this.verticeBuffer),this.shader.destroy()},c);function c(e){babelHelpers.classCallCheck(this,c),this.gl=e,this.shader=Object(r.a)(e,s.a,o.a);this.verticeBuffer=e.createBuffer(),e.bindBuffer(e.ARRAY_BUFFER,this.verticeBuffer),e.bufferData(e.ARRAY_BUFFER,72,e.DYNAMIC_DRAW)}},function(e,t){e.exports="precision mediump float;\nuniform sampler2D depthMapTexture;\nvarying vec2 v_shadowTexcoord;\nvarying vec2 v_shadowBlurCoords[8];\nvoid main ()\n{\n  lowp vec4 color_1;\n  color_1 = (texture2D (depthMapTexture, v_shadowBlurCoords[0]) * 0.04436833);\n  color_1 = (color_1 + (texture2D (depthMapTexture, v_shadowBlurCoords[1]) * 0.07767442));\n  color_1 = (color_1 + (texture2D (depthMapTexture, v_shadowBlurCoords[2]) * 0.1158766));\n  color_1 = (color_1 + (texture2D (depthMapTexture, v_shadowBlurCoords[3]) * 0.1473081));\n  color_1 = (color_1 + (texture2D (depthMapTexture, v_shadowTexcoord) * 0.1595769));\n  color_1 = (color_1 + (texture2D (depthMapTexture, v_shadowBlurCoords[4]) * 0.1473081));\n  color_1 = (color_1 + (texture2D (depthMapTexture, v_shadowBlurCoords[5]) * 0.1158766));\n  color_1 = (color_1 + (texture2D (depthMapTexture, v_shadowBlurCoords[6]) * 0.07767442));\n  color_1 = (color_1 + (texture2D (depthMapTexture, v_shadowBlurCoords[7]) * 0.04436833));\n  gl_FragColor = color_1;\n}\n\n"},function(e,t){e.exports="attribute vec3 vertex;\nvarying vec2 v_shadowTexcoord;\nvarying vec2 v_shadowBlurCoords[8];\nvoid main ()\n{\n  vec2 tmpvar_1;\n  tmpvar_1 = ((vertex.xy + vec2(1.0, 1.0)) / vec2(2.0, 2.0));\n  v_shadowTexcoord = tmpvar_1;\n  v_shadowBlurCoords[0] = (tmpvar_1 + vec2(0.0, -0.016));\n  v_shadowBlurCoords[1] = (tmpvar_1 + vec2(0.0, -0.012));\n  v_shadowBlurCoords[2] = (tmpvar_1 + vec2(0.0, -0.008));\n  v_shadowBlurCoords[3] = (tmpvar_1 + vec2(0.0, -0.004));\n  v_shadowBlurCoords[4] = (tmpvar_1 + vec2(0.0, 0.004));\n  v_shadowBlurCoords[5] = (tmpvar_1 + vec2(0.0, 0.008));\n  v_shadowBlurCoords[6] = (tmpvar_1 + vec2(0.0, 0.012));\n  v_shadowBlurCoords[7] = (tmpvar_1 + vec2(0.0, 0.016));\n  highp vec4 tmpvar_2;\n  tmpvar_2.w = 1.0;\n  tmpvar_2.xy = vertex.xy;\n  tmpvar_2.z = -(vertex.z);\n  gl_Position = tmpvar_2;\n}\n\n"},function(e,t,n){"use strict";n.d(t,"a",function(){return u});var r=n(65),i=n(448),o=n.n(i),a=n(449),s=n.n(a),u=(c.prototype.destroy=function(){var e=this.gl;e.bindBuffer(e.ARRAY_BUFFER,null),e.deleteBuffer(this.verticeBuffer),this.shader.destroy()},c.prototype.draw=function(e,t,n,r){var i=2<arguments.length&&void 0!==n?n:{x:0,y:0,width:1,height:1},o=3<arguments.length&&void 0!==r?r:1,a=this.gl,s=this.shader;s.bind(),a.disable(a.DEPTH_TEST),a.uniform2f(s.viewport,a.drawingBufferWidth,a.drawingBufferHeight),a.uniform4f(s.bbox,t.x,t.y,t.width,t.height),a.uniform4f(s.texCoords,i.x,i.y,i.width,i.height),a.uniform1f(s.opacity,o),a.activeTexture(a.TEXTURE0),a.bindTexture(a.TEXTURE_2D,e),a.uniform1i(s.texture,0),a.bindBuffer(a.ARRAY_BUFFER,this.verticeBuffer),a.vertexAttribPointer(s.vertex,2,a.FLOAT,!1,0,0),a.drawArrays(a.TRIANGLE_STRIP,0,4)},c);function c(e){babelHelpers.classCallCheck(this,c),this.gl=e,this.shader=Object(r.a)(e,s.a,o.a);var t=e.createBuffer();e.bindBuffer(e.ARRAY_BUFFER,t),e.bufferData(e.ARRAY_BUFFER,new Float32Array([0,0,0,1,1,0,1,1]),e.STATIC_DRAW),this.verticeBuffer=t}},function(e,t){e.exports="precision mediump float;\nuniform sampler2D texture;\nvarying vec2 textureCoordinate;\nuniform float opacity;\nvoid main ()\n{\n  lowp vec4 tmpvar_1;\n  tmpvar_1 = texture2D (texture, textureCoordinate);\n  gl_FragColor = (tmpvar_1 * opacity);\n}\n\n"},function(e,t){e.exports="attribute vec2 vertex;\nuniform vec4 texCoords;\nuniform vec4 bbox;\nuniform vec2 viewport;\nvarying vec2 textureCoordinate;\nvoid main ()\n{\n  vec2 tmpvar_1;\n  tmpvar_1 = ((2.0 * bbox.xz) / viewport.x);\n  vec2 tmpvar_2;\n  tmpvar_2 = ((2.0 * bbox.yw) / viewport.y);\n  highp vec2 tmpvar_3;\n  tmpvar_3.x = ((tmpvar_1.x - 1.0) + (vertex.x * tmpvar_1.y));\n  tmpvar_3.y = ((1.0 - tmpvar_2.x) - (vertex.y * tmpvar_2.y));\n  vec2 tmpvar_4;\n  tmpvar_4.x = (texCoords.x + (vertex.x * texCoords.z));\n  tmpvar_4.y = (texCoords.y + (vertex.y * texCoords.w));\n  textureCoordinate = tmpvar_4;\n  highp vec4 tmpvar_5;\n  tmpvar_5.zw = vec2(0.0, 1.0);\n  tmpvar_5.xy = tmpvar_3;\n  gl_Position = tmpvar_5;\n}\n\n"},function(e,t,n){"use strict";n.d(t,"a",function(){return c});var r=n(65),v=n(23),T=n(10),u=n(64),i=n(451),o=n.n(i),a=n(452),s=n.n(a),c=(n(453),n(454),l.prototype.destroy=function(){var e=this.gl;e.deleteBuffer(this.verticeBuffer),e.deleteBuffer(this.normalsBuffer),e.deleteBuffer(this.textureCoordsBuffer),e.deleteBuffer(this.perspectiveCorrectionsBuffer),e.deleteBuffer(this.indiceBuffer),e.deleteTexture(this.whitePaperTexture),e.deleteTexture(this.blackPaperTexture),this.shader.destroy()},l.prototype._calculateMatrix=function(e,t,n){var r=t?t.src_px.x:0,i=t?t.src_px.y:0,o=t?t.src_px.width:n.width,a=t?t.src_px.height:n.height,s=t?t.surface.width:n.width,u=t?t.surface.height:n.height,c=t?t.surface.imgWidth:n.width,l=t?t.surface.imgHeight:n.height,d=t?t.dest_px.x:0,p=t?t.dest_px.y:0,h=t?t.dest_px.width:n.width,f=t?t.dest_px.height:n.height,m=e.drawingBufferHeight-n.y-n.height;i=l-i-a,p=n.height-p-f,T.b.set(this.matrix,n.width,0,0,0,n.height,0,n.x,m,1),T.b.set(this.projection,2/e.drawingBufferWidth,0,0,0,2/e.drawingBufferHeight,0,-1,-1,1),T.b.multiply(this.matrix,this.projection,this.matrix);var g=Math.max(0,(1-o/h)/2),v=Math.max(0,(1-a/f)/2),b=(o-2*g)/s/(h/n.width),_=(a-2*v)/u/(f/n.height),y=-d/n.width*b+(r+g)/s,E=-p/n.height*_+(i+v)/u;T.b.set(this.texMatrix,b,0,0,0,_,0,y,E,1),this.clipRect.set([(r+g)/c,(r+o-g)/c,(i+v)/l,(i+a-v)/l])},l.prototype.fill=function(e,t,n,r,i,o,a){var s=6<arguments.length&&void 0!==a?a:0;this.draw(e,{surface:{texture:this.blackPaperTexture,width:1,height:1,imgWidth:1,imgHeight:1},type:u.e,src_px:{x:0,y:0,width:1,height:1},dest_px:t.dest_px},n,r,i,o,s)},l.prototype.draw=function(e,t,n,r,i,o,a){var s=6<arguments.length&&void 0!==a?a:0,u=this.gl,c=this.shader,l=Object(v.a)();u.enable(u.DEPTH_TEST),u.depthFunc(u.LEQUAL),u.enable(u.BLEND),u.blendFunc(u.ONE,u.ONE_MINUS_SRC_ALPHA),u.enable(u.CULL_FACE),u.cullFace(u.BACK),c.bind(),this._calculateMatrix(u,t,n),u.uniformMatrix3fv(c.u_matrix,!1,this.matrix),u.uniformMatrix3fv(c.u_texMatrix,!1,this.texMatrix);var d=u.canvas.width,p=u.canvas.height,h=n.x/d*2-1,f=n.y/p*2-1,m=n.width/d*2,g=n.height/p*2;u.uniform1f(c.lightRatio,r),u.uniform1f(c.tick,s),u.uniform1f(c.spinnerSize,22*l),u.uniform1i(c.showSpinner,!t&&o?1:0),u.uniform4f(c.bbox,h,f,m,g),u.uniform4fv(c.clipRect,this.clipRect),u.uniform2f(c.viewport,u.drawingBufferWidth,u.drawingBufferHeight),u.activeTexture(u.TEXTURE0),u.bindTexture(u.TEXTURE_2D,t?t.surface.texture:this.whitePaperTexture),u.uniform1i(c.texture,0),u.bindBuffer(u.ARRAY_BUFFER,this.verticeBuffer),u.bufferSubData(u.ARRAY_BUFFER,0,e.vertices),u.vertexAttribPointer(c.vertex,3,u.FLOAT,!1,0,0),u.bindBuffer(u.ARRAY_BUFFER,this.normalsBuffer),u.bufferSubData(u.ARRAY_BUFFER,0,i?e.backFacingNormals:e.normals),u.vertexAttribPointer(c.normal,3,u.FLOAT,!1,0,0),u.bindBuffer(u.ARRAY_BUFFER,this.textureCoordsBuffer),u.bufferSubData(u.ARRAY_BUFFER,0,i?e.backFacingTextureCoords:e.textureCoords),u.vertexAttribPointer(c.textureCoord,2,u.FLOAT,!1,0,0),u.bindBuffer(u.ARRAY_BUFFER,this.perspectiveCorrectionsBuffer),u.bufferSubData(u.ARRAY_BUFFER,0,e.perspectiveCorrections),u.vertexAttribPointer(c.perspectiveCorrection,1,u.FLOAT,!1,0,0),u.bindBuffer(u.ELEMENT_ARRAY_BUFFER,this.indiceBuffer),u.bufferSubData(u.ELEMENT_ARRAY_BUFFER,0,i?e.backFacingIndices:e.indices),u.drawElements(u.TRIANGLES,6*(e.size-1)*(e.size-1),u.UNSIGNED_SHORT,0)},l);function l(e){babelHelpers.classCallCheck(this,l),this.matrix=T.b.create(),this.projection=T.b.create(),this.texMatrix=T.b.create(),this.clipRect=new Float32Array([0,1,0,1]),this.gl=e,this.shader=Object(r.a)(e,s.a,o.a);this.verticeBuffer=e.createBuffer(),e.bindBuffer(e.ARRAY_BUFFER,this.verticeBuffer),e.bufferData(e.ARRAY_BUFFER,7500,e.DYNAMIC_DRAW),this.normalsBuffer=e.createBuffer(),e.bindBuffer(e.ARRAY_BUFFER,this.normalsBuffer),e.bufferData(e.ARRAY_BUFFER,7500,e.DYNAMIC_DRAW),this.textureCoordsBuffer=e.createBuffer(),e.bindBuffer(e.ARRAY_BUFFER,this.textureCoordsBuffer),e.bufferData(e.ARRAY_BUFFER,5e3,e.DYNAMIC_DRAW),this.perspectiveCorrectionsBuffer=e.createBuffer(),e.bindBuffer(e.ARRAY_BUFFER,this.perspectiveCorrectionsBuffer),e.bufferData(e.ARRAY_BUFFER,2500,e.DYNAMIC_DRAW);this.indiceBuffer=e.createBuffer(),e.bindBuffer(e.ELEMENT_ARRAY_BUFFER,this.indiceBuffer),e.bufferData(e.ELEMENT_ARRAY_BUFFER,6912,e.DYNAMIC_DRAW),this.whitePaperTexture=e.createTexture(),e.bindTexture(e.TEXTURE_2D,this.whitePaperTexture),e.texImage2D(e.TEXTURE_2D,0,e.RGBA,1,1,0,e.RGBA,e.UNSIGNED_BYTE,new Uint8Array([255,255,255,255])),e.bindTexture(e.TEXTURE_2D,null),this.blackPaperTexture=e.createTexture(),e.bindTexture(e.TEXTURE_2D,this.blackPaperTexture),e.texImage2D(e.TEXTURE_2D,0,e.RGBA,1,1,0,e.RGBA,e.UNSIGNED_BYTE,new Uint8Array([0,0,0,255])),e.bindTexture(e.TEXTURE_2D,null)}},function(e,t){e.exports="precision highp float;\nvarying vec3 vnormal;\nvarying vec3 cameraDirection;\nvarying vec3 lightDirection;\nvarying vec2 texcoord;\nuniform float lightRatio;\nuniform sampler2D texture;\nuniform bool showSpinner;\nuniform float tick;\nuniform float spinnerSize;\nuniform vec4 bbox;\nuniform vec2 viewport;\nuniform vec4 clipRect;\nvoid main ()\n{\n  lowp vec3 color_1;\n  if (showSpinner) {\n    float tmpvar_2;\n    float tmpvar_3;\n    tmpvar_3 = (bbox.w * viewport.y);\n    tmpvar_2 = (1.0/((tmpvar_3 / 2.0)));\n    vec2 tmpvar_4;\n    tmpvar_4.x = ((texcoord.x - 0.5) * ((bbox.z * viewport.x) / tmpvar_3));\n    tmpvar_4.y = (texcoord.y - 0.5);\n    float tmpvar_5;\n    tmpvar_5 = (((spinnerSize * tmpvar_2) * 2.5) / 15.7);\n    float tmpvar_6;\n    tmpvar_6 = (((spinnerSize * tmpvar_2) * 6.75) / 15.7);\n    float tmpvar_7;\n    tmpvar_7 = sqrt(dot (tmpvar_4, tmpvar_4));\n    float tmpvar_8;\n    tmpvar_8 = (((spinnerSize * tmpvar_2) * 0.6) / 15.7);\n    float tmpvar_9;\n    tmpvar_9 = ((spinnerSize * tmpvar_2) / 15.7);\n    vec2 tmpvar_10;\n    float tmpvar_11;\n    tmpvar_11 = (tick * 0.00435);\n    tmpvar_10.x = sin(tmpvar_11);\n    tmpvar_10.y = cos(tmpvar_11);\n    vec2 tmpvar_12;\n    tmpvar_12 = normalize(tmpvar_10);\n    float tmpvar_13;\n    float x_14;\n    x_14 = (dot (tmpvar_4, tmpvar_12) / sqrt(dot (tmpvar_4, tmpvar_4)));\n    tmpvar_13 = (1.570796 - (sign(x_14) * (1.570796 - \n      (sqrt((1.0 - abs(x_14))) * (1.570796 + (abs(x_14) * (-0.2146018 + \n        (abs(x_14) * (0.08656672 + (abs(x_14) * -0.03102955)))\n      ))))\n    )));\n    float edge0_15;\n    edge0_15 = ((tmpvar_5 - tmpvar_8) - tmpvar_2);\n    float tmpvar_16;\n    tmpvar_16 = clamp (((tmpvar_7 - edge0_15) / (\n      (tmpvar_5 - tmpvar_8)\n     - edge0_15)), 0.0, 1.0);\n    float edge0_17;\n    edge0_17 = (tmpvar_5 + tmpvar_8);\n    float tmpvar_18;\n    tmpvar_18 = clamp (((tmpvar_7 - edge0_17) / (\n      ((tmpvar_5 + tmpvar_8) + tmpvar_2)\n     - edge0_17)), 0.0, 1.0);\n    float tmpvar_19;\n    tmpvar_19 = ((tmpvar_16 * (tmpvar_16 * \n      (3.0 - (2.0 * tmpvar_16))\n    )) * (1.0 - (tmpvar_18 * \n      (tmpvar_18 * (3.0 - (2.0 * tmpvar_18)))\n    )));\n    float edge0_20;\n    edge0_20 = ((tmpvar_6 - tmpvar_9) - tmpvar_2);\n    float tmpvar_21;\n    tmpvar_21 = clamp (((tmpvar_7 - edge0_20) / (\n      (tmpvar_6 - tmpvar_9)\n     - edge0_20)), 0.0, 1.0);\n    float edge0_22;\n    edge0_22 = (tmpvar_6 + tmpvar_9);\n    float tmpvar_23;\n    tmpvar_23 = clamp (((tmpvar_7 - edge0_22) / (\n      ((tmpvar_6 + tmpvar_9) + tmpvar_2)\n     - edge0_22)), 0.0, 1.0);\n    float tmpvar_24;\n    tmpvar_24 = ((tmpvar_21 * (tmpvar_21 * \n      (3.0 - (2.0 * tmpvar_21))\n    )) * (1.0 - (tmpvar_23 * \n      (tmpvar_23 * (3.0 - (2.0 * tmpvar_23)))\n    )));\n    vec2 tmpvar_25;\n    tmpvar_25.x = tmpvar_12.y;\n    tmpvar_25.y = -(tmpvar_12.x);\n    vec2 x_26;\n    x_26 = (tmpvar_4 - (tmpvar_25 * tmpvar_6));\n    float tmpvar_27;\n    tmpvar_27 = clamp (((\n      sqrt(dot (x_26, x_26))\n     - tmpvar_9) / (\n      (tmpvar_9 + tmpvar_2)\n     - tmpvar_9)), 0.0, 1.0);\n    float tmpvar_28;\n    tmpvar_28 = (1.0 - (tmpvar_27 * (tmpvar_27 * \n      (3.0 - (2.0 * tmpvar_27))\n    )));\n    vec2 tmpvar_29;\n    tmpvar_29.x = -(tmpvar_12.y);\n    tmpvar_29.y = tmpvar_12.x;\n    vec2 x_30;\n    x_30 = (tmpvar_4 - (tmpvar_29 * tmpvar_6));\n    float tmpvar_31;\n    tmpvar_31 = clamp (((\n      sqrt(dot (x_30, x_30))\n     - tmpvar_9) / (\n      (tmpvar_9 + tmpvar_2)\n     - tmpvar_9)), 0.0, 1.0);\n    float tmpvar_32;\n    tmpvar_32 = (1.0 - (tmpvar_31 * (tmpvar_31 * \n      (3.0 - (2.0 * tmpvar_31))\n    )));\n    float tmpvar_33;\n    tmpvar_33 = (max (tmpvar_19, tmpvar_24) * 0.5);\n    float tmpvar_34;\n    if ((tmpvar_13 < 1.570796)) {\n      tmpvar_34 = tmpvar_24;\n    } else {\n      tmpvar_34 = 0.0;\n    };\n    color_1 = mix (vec3(0.9453125, 0.9453125, 0.9453125), vec3(0.6015625, 0.65625, 0.6601562), max (max (tmpvar_33, tmpvar_34), max (\n      max (tmpvar_28, tmpvar_32)\n    , tmpvar_19)));\n  } else {\n    color_1 = texture2D (texture, texcoord).xyz;\n  };\n  lowp vec3 tmpvar_35;\n  vec3 I_36;\n  I_36 = -(lightDirection);\n  tmpvar_35 = (((\n    ((vec3(0.9, 0.9, 0.9) * color_1) + ((vec3(0.2, 0.2, 0.2) * clamp (\n      dot (vnormal, lightDirection)\n    , 0.0, 1.0)) * color_1))\n   + \n    (vec3(0.3, 0.3, 0.3) * pow (max (dot (\n      (I_36 - (2.0 * (dot (vnormal, I_36) * vnormal)))\n    , cameraDirection), 0.0), 5.0))\n  ) * lightRatio) + ((1.0 - lightRatio) * color_1));\n  color_1 = tmpvar_35;\n  if ((((\n    (texcoord.x >= clipRect.x)\n   && \n    (texcoord.x <= clipRect.y)\n  ) && (texcoord.y >= clipRect.z)) && (texcoord.y <= clipRect.w))) {\n    lowp vec4 tmpvar_37;\n    tmpvar_37.w = 1.0;\n    tmpvar_37.xyz = tmpvar_35;\n    gl_FragColor = tmpvar_37;\n  } else {\n    gl_FragColor = vec4(0.0, 0.0, 0.0, 0.0);\n  };\n}\n\n"},function(e,t){e.exports="precision highp float;\nattribute vec3 vertex;\nattribute vec3 normal;\nattribute vec2 textureCoord;\nattribute float perspectiveCorrection;\nuniform mat3 u_matrix;\nuniform mat3 u_texMatrix;\nvarying vec3 vnormal;\nvarying vec3 lightDirection;\nvarying vec3 cameraDirection;\nvarying vec2 texcoord;\nvoid main ()\n{\n  vec3 tmpvar_1;\n  tmpvar_1.z = 1.0;\n  tmpvar_1.xy = vertex.xy;\n  vec3 tmpvar_2;\n  tmpvar_2.xy = (u_matrix * tmpvar_1).xy;\n  tmpvar_2.z = vertex.z;\n  vnormal = normal;\n  lightDirection = normalize((vec3(10.0, 5.0, 4.0) - tmpvar_2));\n  cameraDirection = normalize((vec3(0.0, 0.0, 1.0) - tmpvar_2));\n  vec3 tmpvar_3;\n  tmpvar_3.z = 1.0;\n  tmpvar_3.xy = textureCoord;\n  texcoord = (u_texMatrix * tmpvar_3).xy;\n  highp vec4 tmpvar_4;\n  tmpvar_4.xy = tmpvar_2.xy;\n  tmpvar_4.z = -(vertex.z);\n  tmpvar_4.w = perspectiveCorrection;\n  gl_Position = tmpvar_4;\n}\n\n"},function(e,t){e.exports="precision highp float;\nuniform mat3 u_matrix;\nattribute vec3 vertex;\nvoid main ()\n{\n  vec3 tmpvar_1;\n  tmpvar_1.z = 1.0;\n  tmpvar_1.xy = vertex.xy;\n  vec3 tmpvar_2;\n  tmpvar_2.xy = (u_matrix * tmpvar_1).xy;\n  tmpvar_2.z = vertex.z;\n  highp vec4 tmpvar_3;\n  tmpvar_3.xy = tmpvar_2.xy;\n  tmpvar_3.z = (-(vertex.z) * 0.8);\n  tmpvar_3.w = (1.0 + (vertex.z * -0.2));\n  gl_Position = tmpvar_3;\n}\n\n"},function(e,t){e.exports="precision highp float;\nuniform bool backFacing;\nvoid main ()\n{\n  if (backFacing) {\n    gl_FragColor = vec4(1.0, 0.0, 0.0, 1.0);\n  } else {\n    gl_FragColor = vec4(0.0, 1.0, 0.0, 1.0);\n  };\n}\n\n"},function(e,t,n){"use strict";n.d(t,"a",function(){return p});var i=n(65),r=n(456),o=n.n(r),a=n(457),s=n.n(a),u=n(23),c=n(52),l=n(205),d=n(206);var p=(h.prototype.destroy=function(){var e=this.gl;e.deleteBuffer(this.verticeBuffer),e.deleteBuffer(this.barycentricBuffer),e.deleteTexture(this.texture),this.shader.destroy()},h.prototype._iconRadius=function(){return 20*Object(u.a)()},h.prototype.initializeTexture=function(){var e=this.gl,t=2*this._iconRadius(),n=function(e){return 1<<1+Math.floor(Math.log2(e))}(2*t),r=document.createElement("canvas");r.width=n,r.height=n;var i=r.getContext("2d");i.fillStyle="rgba(0, 1, 0, 0.0)",i.fillRect(0,0,r.width,r.height),i.fillStyle="rgba(0, 0, 0, 0.7)",d.a.draw(i,t/2,t/2,this._iconRadius()),l.a.draw(i,t+t/2,t/2,this._iconRadius()),this.texture&&e.deleteTexture(this.texture);var o=e.createTexture();e.bindTexture(e.TEXTURE_2D,o),e.texImage2D(e.TEXTURE_2D,0,e.RGBA,e.RGBA,e.UNSIGNED_BYTE,r),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MAG_FILTER,e.NEAREST),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MIN_FILTER,e.NEAREST),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_S,e.CLAMP_TO_EDGE),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_T,e.CLAMP_TO_EDGE),this.texture=o,this.textureSize=n},h.prototype.draw=function(e,t,n){var r=this.gl,i=this.shader;if(r.disable(r.DEPTH_TEST),r.enable(r.BLEND),r.blendFuncSeparate(r.SRC_ALPHA,r.ONE_MINUS_SRC_ALPHA,r.ZERO,r.ONE),r.blendEquation(r.FUNC_ADD),i.bind(),r.uniform2f(i.viewport,r.drawingBufferWidth,r.drawingBufferHeight),r.uniform4f(i.bbox,n.x,n.y,n.width,n.height),r.uniform1f(i.opacity,t),r.uniform1f(i.strokeWidth,1),r.bindBuffer(r.ARRAY_BUFFER,this.verticeBuffer),r.vertexAttribPointer(i.vertex,2,r.FLOAT,!1,0,0),r.bindBuffer(r.ARRAY_BUFFER,this.barycentricBuffer),r.vertexAttribPointer(i.barycentric,4,r.FLOAT,!1,0,0),r.drawArrays(r.TRIANGLE_STRIP,0,4),(Object(c.d)(e)||Object(c.c)(e))&&50<n.width&&50<n.height){var o={x:n.x+n.width/2-this._iconRadius(),y:n.y+n.height/2-this._iconRadius(),width:2*this._iconRadius(),height:2*this._iconRadius()},a={x:0,y:0,width:2*this._iconRadius()/this.textureSize,height:2*this._iconRadius()/this.textureSize};Object(c.d)(e)&&this.imagePrimitive.draw(this.texture,o,a,t),Object(c.c)(e)&&(a.x+=a.width,this.imagePrimitive.draw(this.texture,o,a,t))}},h);function h(e,t){babelHelpers.classCallCheck(this,h),this.gl=e,this.shader=Object(i.a)(e,s.a,o.a),this.imagePrimitive=t;var n=e.createBuffer();e.bindBuffer(e.ARRAY_BUFFER,n),e.bufferData(e.ARRAY_BUFFER,new Float32Array([0,0,0,1,1,0,1,1]),e.STATIC_DRAW),this.verticeBuffer=n;var r=e.createBuffer();e.bindBuffer(e.ARRAY_BUFFER,r),e.bufferData(e.ARRAY_BUFFER,new Float32Array([1,1,0,0,1,0,0,1,0,1,1,0,0,0,1,1]),e.STATIC_DRAW),this.barycentricBuffer=r,this.initializeTexture()}},function(e,t){e.exports="#extension GL_OES_standard_derivatives : enable\nprecision highp float;\nuniform float opacity;\nuniform float strokeWidth;\nvarying vec4 vBC;\nvoid main ()\n{\n  vec4 tmpvar_1;\n  tmpvar_1.xyz = vec3(0.4627451, 0.6470588, 0.8);\n  tmpvar_1.w = opacity;\n  vec4 tmpvar_2;\n  tmpvar_2.xyz = vec3(0.4627451, 0.6470588, 0.8);\n  tmpvar_2.w = (opacity / 2.0);\n  vec4 tmpvar_3;\n  vec4 tmpvar_4;\n  tmpvar_4 = clamp ((vBC / (\n    (abs(dFdx(vBC)) + abs(dFdy(vBC)))\n   * strokeWidth)), 0.0, 1.0);\n  tmpvar_3 = (tmpvar_4 * (tmpvar_4 * (3.0 - \n    (2.0 * tmpvar_4)\n  )));\n  gl_FragColor = mix (tmpvar_1, tmpvar_2, min (min (tmpvar_3.x, tmpvar_3.y), min (tmpvar_3.z, tmpvar_3.w)));\n}\n\n"},function(e,t){e.exports="attribute vec2 vertex;\nattribute vec4 barycentric;\nuniform vec2 viewport;\nuniform vec4 bbox;\nvarying vec4 vBC;\nvoid main ()\n{\n  vec2 tmpvar_1;\n  tmpvar_1 = ((2.0 * bbox.xz) / viewport.x);\n  vec2 tmpvar_2;\n  tmpvar_2 = ((2.0 * bbox.yw) / viewport.y);\n  highp vec2 tmpvar_3;\n  tmpvar_3.x = ((tmpvar_1.x - 1.0) + (vertex.x * tmpvar_1.y));\n  tmpvar_3.y = ((1.0 - tmpvar_2.x) - (vertex.y * tmpvar_2.y));\n  vBC = barycentric;\n  highp vec4 tmpvar_4;\n  tmpvar_4.zw = vec2(0.0, 1.0);\n  tmpvar_4.xy = tmpvar_3;\n  gl_Position = tmpvar_4;\n}\n\n"},function(e,t,n){"use strict";n.d(t,"a",function(){return r});var r=(i.prototype.destroy=function(){},i.prototype.draw=function(e,t,n,r){var i=3<arguments.length&&void 0!==r?r:1,o=this.gl;o.disable(o.DEPTH_TEST),o.enable(o.BLEND),o.blendFuncSeparate(o.SRC_ALPHA,o.ONE_MINUS_SRC_ALPHA,o.ONE,o.ONE_MINUS_SRC_ALPHA),o.blendEquation(o.FUNC_ADD),this.imagePrimitive.draw(e,t,n,i)},i);function i(e,t){babelHelpers.classCallCheck(this,i),this.gl=e,this.imagePrimitive=t}},function(e,t,n){"use strict";n.d(t,"a",function(){return u});var r,i=n(0),o=n.n(i),a=n(54),s=n(157),u=(r=i.Component,babelHelpers.inherits(c,r),c.prototype.render=function(){return o.a.createElement("div",null,o.a.createElement(a.a,{ref:"buttonPrevious",className:"navigation-arrow navigation-arrow--left",onClick:this.props.onClickLeftArrow,isHidden:!this.props.leftArrowVisible,id:"ird3-button-previous",content:s.a}),o.a.createElement(a.a,{ref:"buttonNext",className:"navigation-arrow navigation-arrow--right",onClick:this.props.onClickRightArrow,isHidden:!this.props.rightArrowVisible,id:"ird3-button-next",content:s.a}))},c);function c(){return babelHelpers.classCallCheck(this,c),babelHelpers.possibleConstructorReturn(this,r.apply(this,arguments))}u.displayName="NavigationArrows"},function(e,t,n){"use strict";n.d(t,"a",function(){return h});var a,r=n(0),i=n.n(r),o=n(8),s=n(13),u=n(54),c=n(78),l=n(7),d=n(199),p=n(200),h=(a=r.Component,babelHelpers.inherits(f,a),f.prototype.componentDidMount=function(){var t=this;this.inputHandler=new c.a(this.refs.button,{onMouseEnter:function(e){t.props.visible&&t.props.dispatch(o.n(!0))},onMouseLeave:function(e){t.props.dispatch(o.n(!1))}}),this.trackOpportunities()},f.prototype.componentDidUpdate=function(){this.trackOpportunities()},f.prototype.render=function(){var e=this.props.fullscreenEnabled?d.a:p.a,t=this.props.fullscreenEnabled?"Exit":"Fullscreen",n="cta-overlay "+(this.props.visible?"":"cta-overlay--hidden");return i.a.createElement("div",{ref:"button",className:n,"data-tooltip":t,onClick:this.onClickHandler},i.a.createElement(u.a,{id:"ird3-button-fullscreen",className:"svg-btn cta-overlay__button",content:e}))},f);function f(){var e,t,n;babelHelpers.classCallCheck(this,f);for(var r=arguments.length,i=Array(r),o=0;o<r;o++)i[o]=arguments[o];return(e=t=babelHelpers.possibleConstructorReturn(this,a.call.apply(a,[this].concat(i)))).onClickHandler=function(){t.props.featureTracker.usage(l.a.BUTTON_CTA_OVERLAY),t.props.dispatch(s.a()),t.props.toggleFullscreen()},t.trackOpportunities=function(){t.props.visible&&t.props.featureTracker.opportunity(l.a.BUTTON_CTA_OVERLAY)},n=e,babelHelpers.possibleConstructorReturn(t,n)}h.displayName="CTAOverlay"},function(e,t,n){"use strict";n.d(t,"a",function(){return p});var a,r=n(0),i=n.n(r),o=n(11),s=n.n(o),u=n(50),c=n(13),l=n(104),d=n(49),p=(a=r.Component,babelHelpers.inherits(h,a),h.prototype.render=function(){return i.a.createElement("div",{className:s()("more-content-container",{"more-content-container--hidden":!this.props.visible,"more-content-container--overlay":this.props.showAsOverlay})},this.props.children,i.a.createElement("button",{type:"button",className:s()("more-content-container__close-button",{"more-content-container__close-button--left":d.a.isMobile()}),onClick:this.onCloseButtonClick,dangerouslySetInnerHTML:{__html:l.a}}),!this.props.showAsOverlay&&i.a.createElement("div",{className:"more-content-container__clickable-background",onClick:this.onBackgroundClick}))},h);function h(){var e,t,n;babelHelpers.classCallCheck(this,h);for(var r=arguments.length,i=Array(r),o=0;o<r;o++)i[o]=arguments[o];return(e=t=babelHelpers.possibleConstructorReturn(this,a.call.apply(a,[this].concat(i)))).onCloseButtonClick=function(){t.props.dispatch(Object(u.e)()),t.props.dispatch(Object(c.a)())},t.onBackgroundClick=function(){t.props.dispatch(Object(u.e)())},n=e,babelHelpers.possibleConstructorReturn(t,n)}p.displayName="MoreContentContainer"},function(e,t,n){"use strict";n.d(t,"a",function(){return r});var r=(i.prototype.destroy=function(){this.target.removeEventListener("mousedown",this._eventHandler,!0),this.target.removeEventListener("touchstart",this._eventHandler,!0),this.target.removeEventListener("pointerdown",this._eventHandler,!0),this.target.removeEventListener("MSPointerDown",this._eventHandler,!0),this.target.removeEventListener("gesturestart",this._eventHandler,!0),this.target.removeEventListener("wheel",this._eventHandler,!0),this.target.ownerDocument.removeEventListener("keydown",this._eventHandler,!0)},i);function i(e,t){var n=this;babelHelpers.classCallCheck(this,i),this._eventHandler=function(e){"wheel"===e.type&&!e.ctrlKey||n.callback()},this.target=e,this.callback=t,this.target.addEventListener("mousedown",this._eventHandler,!0),this.target.addEventListener("touchstart",this._eventHandler,!0),this.target.addEventListener("pointerdown",this._eventHandler,!0),this.target.addEventListener("MSPointerDown",this._eventHandler,!0),this.target.addEventListener("gesturestart",this._eventHandler,!0),this.target.addEventListener("wheel",this._eventHandler,!0),this.target.ownerDocument.addEventListener("keydown",this._eventHandler,!0)}},function(e,t,n){"use strict";var a,r=n(0),i=n.n(r),o=n(133),s=n(94),u=n(1),c=(a=i.a.Component,babelHelpers.inherits(l,a),l.prototype.componentDidMount=function(){if(window!=window.parent){var e=new u.l(window.document.location.toString());this.hostUrl=e.getHostUrl()}this.props.hideAd||this._loadAd()},l.prototype.componentWillUpdate=function(e){Object(s.a)(this.props.adSize)||this.props.adSize.join(",")!==e.adSize.join(",")&&this._clearAd()},l.prototype.componentDidUpdate=function(e){e.hideAd!==this.props.hideAd&&(this.props.hideAd?this._clearAd():this._loadAd())},l.prototype.componentWillUnmount=function(){this._clearAd()},l.prototype._adActivityTrackingCallback=function(e){var t=this;return function(){t.props.metrics.monitor("reader3-ad.fullscreen."+e)}},l.prototype._adActivityTracking=function(e){this._adActivityTrackingCallback(e)()},l.prototype._clearAd=function(){this.adLoaded=!1,this._clearRefreshTimeout(),this.adElement&&(this.adElement.parentNode&&this.adElement.parentNode.removeChild(this.adElement),delete this.adElement)},l.prototype._loadAd=function(){var e=this.props.adsensePublisherId;if(!this.adLoaded&&!Object(s.a)(this.props.adSize)){var t=[["pageType","embed"],["publicationId",this.props.publicationId],["ownerUsername",this.props.publisherUsername],["isDevelopmentTest",(!1).toString()]];this.adElement=document.createElement("div"),this.adContainer&&(this.adContainer.appendChild(this.adElement),e?this.adElement&&(this.adElement.className="fullscreen-ad-placement--adsense-slot",Object(u.o)(this.adElement,e,this.hostUrl)):(this.ad=o.create({rootElm:this.adElement,dfpTargeting:t,adProviderConfig:{network:"/30443627/Doc_inBarReader",sizes:[this.props.adSize]},isProductionEnv:!0,callbacks:{onAdFilled:this._adActivityTrackingCallback("filled"),onAdFailed:this._adActivityTrackingCallback("failed"),onAdUnfilled:this._adActivityTrackingCallback("unfilled"),onAdViewable:this._onAdViewable.bind(this)},trackingKey:"ads-widget.Doc_inBarReader",bidders:[{name:"a9",config:{pubID:"80a73d60-ff2d-4d63-a39a-b13edebb77c0"}}],bidderTimeout:1500,pageUrl:this.hostUrl}),this.ad.show()),this.adLoaded=!0,this._adActivityTracking("load"),this._setRefreshTimeout())}},l.prototype._canRefreshAd=function(){var e=!(void 0!==document.hidden)||!1===document.hidden,t=!!this.props.adRefreshTimeout;return e&&1==t},l.prototype._refreshAd=function(){this._adActivityTracking("refresh"),this._clearAd(),this._loadAd()},l.prototype._clearRefreshTimeout=function(){this.adRefreshTimeoutId&&(clearTimeout(this.adRefreshTimeoutId),this.adRefreshTimeoutId=void 0)},l.prototype._setRefreshTimeout=function(){this._canRefreshAd()&&(this._clearRefreshTimeout(),this.adRefreshTimeoutId=setTimeout(this._refreshAd.bind(this),1e3*this.props.adRefreshTimeout))},l.prototype._onAdViewable=function(){this._adActivityTracking("viewable"),this._setRefreshTimeout()},l.prototype._getContainerStyle=function(){var e=this.props.adSize,t=e[0],n=e[1];if(this.props.horizontalLayout){var r=this.props.smallLayout?21:0;return{minHeight:n+r+"px",maxHeight:n+r+"px"}}return{minWidth:t+"px",maxWidth:t+"px"}},l.prototype._getContainerClass=function(){var e=["fullscreen-ad-placement"];return this.props.smallLayout&&e.push("fullscreen-ad-placement--small"),this.props.horizontalLayout?e.push("fullscreen-ad-placement--horizontal"):e.push("fullscreen-ad-placement--vertical"),e.join(" ")},l.prototype._getAdPlacementStyle=function(){return this.props.horizontalLayout?{width:this.props.adSize[0]+"px"}:{}},l.prototype._getAdStyle=function(){return{width:this.props.adSize[0]+"px",height:this.props.adSize[1]+"px"}},l.prototype.render=function(){var t=this;return i.a.createElement("div",{className:this._getContainerClass(),style:this._getContainerStyle()},i.a.createElement("div",{className:"fullscreen-ad-placement__cnt",style:this._getAdPlacementStyle()},!this.props.hideAd&&i.a.createElement("div",{className:"fullscreen-ad-placement__text"},"Ad"),i.a.createElement("div",{className:"fullscreen-ad-placement__ad",style:this._getAdStyle(),ref:function(e){t.adContainer=e}})))},l);function l(){var e,t,n;babelHelpers.classCallCheck(this,l);for(var r=arguments.length,i=Array(r),o=0;o<r;o++)i[o]=arguments[o];return(e=t=babelHelpers.possibleConstructorReturn(this,a.call.apply(a,[this].concat(i)))).adLoaded=!1,n=e,babelHelpers.possibleConstructorReturn(t,n)}c.defaultProps={adsensePublisherId:null},t.a=c},function(e,t,n){"use strict";n.d(t,"a",function(){return _});var o,r=n(0),i=n(22),p=n(8),a=n(5),s=n(160),h=n(13),f=n(44),u=n(24),c=n(36),m=n(33),g=n(50),l=n(9),d=n(7),v=(o=r.Component,babelHelpers.inherits(b,o),b.prototype.componentDidMount=function(){this.isOSX="MacIntel"===window.navigator.platform,window.addEventListener("keyup",this.onKeyUp,!1),window.addEventListener("keydown",this.onKeyDown,!1)},b.prototype.componentDidUpdate=function(){var e=this.props,t=e.abortCurrentInteraction,n=e.canGoBackward,r=e.canGoForward,i=e.canFind,o=e.featureTracker;t?this.stopRepeating():(n&&o.opportunity(d.a.KEYBOARD_BACKWARD),r&&o.opportunity(d.a.KEYBOARD_FORWARD),i&&o.opportunity(d.a.KEYBOARD_OPEN_FIND))},b.prototype.componentWillUnmount=function(){this.stopRepeating(),window.removeEventListener("keyup",this.onKeyUp,!1),window.removeEventListener("keydown",this.onKeyDown,!1)},b.prototype.startRepeating=function(n){var r=this,i=!0;!function e(){n(i);var t=i?u.a:u.e;i=!1,r._repeatTimeoutId=setTimeout(e,t)}()},b.prototype.isRepeating=function(){return!!this._repeatTimeoutId},b.prototype.stopRepeating=function(){this._repeatTimeoutId&&clearTimeout(this._repeatTimeoutId),this._repeatTimeoutId=null},b.prototype.goToPreviousPage=function(){var e=this.props,t=e.dispatch,n=e.featureTracker;t(p.h()),n.usage(d.a.KEYBOARD_BACKWARD)},b.prototype.goToNextPage=function(){var e=this.props,t=e.dispatch,n=e.featureTracker;t(p.g()),n.usage(d.a.KEYBOARD_FORWARD)},b.prototype.openFindDialog=function(){var e=this.props,t=e.dispatch,n=e.featureTracker;t(m.a.openFindDialog()),n.usage(d.a.KEYBOARD_OPEN_FIND)},b.prototype.render=function(){return r.Children.only(this.props.children)},b);function b(){var e,d,t;babelHelpers.classCallCheck(this,b);for(var n=arguments.length,r=Array(n),i=0;i<n;i++)r[i]=arguments[i];return(e=d=babelHelpers.possibleConstructorReturn(this,o.call.apply(o,[this].concat(r)))).onKeyDown=function(t){var e=d.props,n=e.dispatch,r=e.toggleFullscreen,i=e.canFind,o=e.lastSpreadIndex,a=e.moreContentContainerIsVisible,s=e.isFindOverlayVisible,u=e.fullscreenEnabled,c=e.abortCurrentInteraction,l=d.isOSX;if(c)d.stopRepeating();else{if(t.keyCode===f.c)a?n(Object(g.e)()):s?n(m.a.closeFindDialog()):u&&r();else if(d.isRepeating()||document.activeElement&&"INPUT"===document.activeElement.tagName)return;switch(t.keyCode){case f.d:i&&l&&t.metaKey||!l&&t.ctrlKey?(t.preventDefault(),d.openFindDialog()):r();break;case f.e:i&&!l&&(t.preventDefault(),d.openFindDialog());break;case f.f:i&&(t.preventDefault(),d.openFindDialog());break;case f.h:case f.a:if(t.metaKey)break;d.startRepeating(function(e){d.props.canGoBackward&&d.goToPreviousPage(),e||d.props.dispatch(h.g(t.keyCode))});break;case f.j:case f.i:case f.k:if(t.metaKey)break;d.startRepeating(function(e){d.props.canGoForward&&d.goToNextPage(),e||d.props.dispatch(h.g(t.keyCode))});break;case f.g:n(p.m(0));break;case f.b:n(p.m(o))}n(h.g(t.keyCode))}},d.onKeyUp=function(e){switch(e.keyCode){case f.j:case f.h:case f.a:case f.i:case f.k:d.stopRepeating()}},t=e,babelHelpers.possibleConstructorReturn(d,t)}var _=Object(i.b)(function(e){return{abortCurrentInteraction:Object(c.i)(e),canFind:!a.F(e)&&m.d.selectIsAvailable(e),canGoBackward:s.a(e),canGoForward:s.b(e),lastSpreadIndex:a.t(e),moreContentContainerIsVisible:a.e(e),isFindOverlayVisible:m.d.isVisible(e),fullscreenEnabled:Object(l.d)(e)}})(v)},function(e,t,n){"use strict";n.d(t,"a",function(){return r});var O=n(1),S=n(97),R=n(466),I=n(467),P=n(201),k=n(9),A=n(50),N=n(80),L=n(95),D=n(149),M=n(112),H=n(137),F=n(16),U=n(33),B=n(198),j=n(136),z=n(155),G=n(66),V=n(12),W=n(51),Y=n(468),X=n(103),Z=n(36),q=n(203),K=n(58);function r(e,t,n,r,i,o,a,s,u,c){var l=R.a(o,i),d=S.b(),p=I.a(o),h=Object(P.b)(),f=Object(k.c)(),m=Object(A.f)(),g=Object(N.a)(u),v=Object(L.b)(),b=Object(H.a)(),_=Object(U.c)(),y=Object(F.s)(o.disableLicenseCheck),E=Object(D.a)(e,t,n,r),T=Object(z.b)(),w=Object(Z.f)(),C=Object(q.b)(),x=Object(O.n)(c);return function(e,t){var n=e||{};return{metadata:Object(V.c)(n.metadata,t),adsense:Object(X.c)(n.adsense,t),pages:Object(Y.a)(n.pages,t),links:Object(W.f)(n.links,t),canvasContext:g(n.canvasContext,t),download:Object(G.f)(n.download,t),fullscreen:f(n.fullscreen,t),headerControls:h(n.headerControls,t),loading:d(n.loading,t),reader:l(n.reader,t),readmore:m(n.readmore,t),paywall:Object(M.d)(n.paywall,t),size:v(n.size,t),videoOverlay:Object(j.b)(n.videoOverlay,t),inlineVideo:T(n.inlineVideo,t),visibility:Object(B.b)(n.visibility,t),features:p(n.features,t),canvasApi:b(n.canvasApi,t),find:_(n.find,t),licenses:y(n.licenses,t),config:E(n.config,t),featureTracker:a,readMorePlugin:t.type===K.a?t.readMorePlugin:n.readMorePlugin||s,adOverlay:w(n.adOverlay,t),summary:C(n.summary,t),experiment:x(n.experiment)}}}},function(e,t,n){"use strict";n.d(t,"a",function(){return f});var r=n(8),i=n(45),o=n(58),a=n(37),s=n(95),u=n(117),c={arrivedAtSpreadTimeStamp:0,autoFlipInitially:!1,debugMode:!1,hoveringOverControls:!1,initialPageNumber:0,interactedWithReader:!1,interactingWithControls:!1,interactingWithCanvas:!1,isIdle:!0,isReady:!1,lastSpreadIndexArrivedAt:-1,targetSpreadIndex:0,visiblePageNumbers:[],currentPageNumbers:[],currentPageNumber:0,currentSpreadIndex:-1,positionInPercent:0,zoomLevel:1,largeViewState:u.c,largeViewPromoted:!1};function l(e,t){return Object.assign({},e,{hoveringOverControls:t})}function d(e,t){return Object.assign({},e,{largeViewState:t})}function p(e,t){return Object.assign({},e,{largeViewPromoted:t})}function h(e,t){switch(t.type){case r.s.SET_TARGET_SPREAD_INDEX:return function(e,t){return Object.assign({},e,{targetSpreadIndex:t.index})}(e,t);case r.s.SET_INTERACTING_WITH_CONTROLS:return function(e,t){return Object.assign({},e,{interactingWithControls:t.val})}(e,t);case r.s.SET_INTERACTED_WITH_READER:return function(e){return Object.assign({},e,{interactedWithReader:!0})}(e);case r.s.SET_HOVERING_OVER_CONTROLS:return l(e,t.val);case s.a:return l(e,!1);case i.a:return function(e,t){return Object.assign({},e,{visiblePageNumbers:t.visiblePageNumbers,currentPageNumbers:t.currentPageNumbers,currentSpreadIndex:t.currentSpreadIndex,currentPageNumber:t.currentPageNumber,positionInPercent:t.positionInPercent,targetSpreadIndex:t.currentSpreadIndex===e.targetSpreadIndex?-1:e.targetSpreadIndex})}(e,t);case r.s.READER_ZOOM_LEVEL_CHANCED:return function(e,t){return Object.assign({},e,{zoomLevel:t.zoomLevel})}(e,t);case r.s.LARGE_VIEW_HIDE:return d(e,u.c);case r.s.LARGE_VIEW_SHOW_ENGAGED:return d(e,u.b);case r.s.LARGE_VIEW_SHOW_DISENGAGED:return d(e,u.a);case r.s.LARGE_VIEW_BUTTON_PROMOTED:return p(e,!0);case r.s.LARGE_VIEW_BUTTON_NOT_PROMOTED:return p(e,!1);case o.a:return function(e){return Object.assign({},e,{interactedWithReader:!1})}(e);case a.d:return function(e,t){var n=t.pageNumber,r=t.targetSpreadIndex,i=t.currentPageNumbers;return Object.assign({},e,{targetSpreadIndex:r,currentPageNumbers:i,currentPageNumber:n,isReady:!0})}(e,t);case"SET_IS_IDLE":return function(e,t){return Object.assign({},e,{isIdle:t.isIdle})}(e,t);default:return e}}function f(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:1,n=babelHelpers.extends({},c,{autoFlipInitially:e.autoFlip,initialPageNumber:t});return function(){return h(0<arguments.length&&void 0!==arguments[0]?arguments[0]:n,arguments[1])}}},function(e,t,n){"use strict";n.d(t,"a",function(){return a});var i=n(58),o=n(29);function r(e,t){switch(t.type){case i.a:var n=t.embedConfig,r=Object.assign({},e,{autoFlip:n.autoFlip,backgroundImage:function(e){if(e.backgroundImage){var t=null;if("topleft"===e.backgroundImagePosition?t=o.BACKGROUND_IMAGE_STYLE.TOP_LEFT:"stretch"===e.backgroundImagePosition&&(t=o.BACKGROUND_IMAGE_STYLE.STRETCH),t)return{url:e.backgroundImage,style:t,hideWhenNotInFullscreen:!e.showBackgroundImagesOutsideFullscreen}}return null}(n),logo:function(e){return e.logo?{url:e.logo,hideWhenNotInFullscreen:!e.showBackgroundImagesOutsideFullscreen}:null}(n),backgroundColor:n.backgroundColor,fullscreenBackgroundColor:n.fullscreenBackgroundColor,readModeRules:{defaultMode:"singlePage"===n.viewMode?o.READ_MODE.SINGLE_PAGE_SPREAD:o.READ_MODE.DOUBLE_PAGE_SPREAD,responsiveModeWhen:o.READ_MODE.RESPONSIVE.HANDHELD_IN_PORTRAIT_FULLSCREEN}});return r.controls=r.controls.map(function(e){return e.type===o.SHARE_DIALOG_TYPE?Object.assign({},e,{customizedToNotShow:!n.shareButtonEnabled}):e}),r;default:return e}}function a(e){return function(){return r(0<arguments.length&&void 0!==arguments[0]?arguments[0]:e,arguments[1])}}},function(e,t,n){"use strict";n.d(t,"a",function(){return o});var r=n(12),i={pages:[]};function o(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:i,t=arguments[1];switch(t.type){case r.a:return{pages:t.doc.pages};default:return e}}},,function(e,t,n){"use strict";n.d(t,"a",function(){return d});var i=n(37),o=n(8),a=n(58),r=n(5),s=void 0,u=!0;function c(e){s=window.setInterval(function(){r.c(e.getState())?u=!0:r.d(e.getState())&&(u=!1),e.dispatch(u?Object(o.g)():Object(o.h)())},4e3)}function l(){s&&(window.clearInterval(s),s=void 0)}var d=function(r){return function(n){return function(e){var t=n(e);switch(e.type){case i.d:r.getState().reader.autoFlipInitially&&c(r);break;case o.s.SET_INTERACTED_WITH_READER:r.getState().reader.interactedWithReader&&l();break;case a.a:l(),r.getState().features.autoFlip&&c(r)}return t}}}},function(e,t,n){"use strict";n.d(t,"a",function(){return i});var s=n(37),u=n(58),r=(n(5),n(50)),i=function(e){var i=null,o=e;function a(e){i&&o&&(e.dispatch(i),e.dispatch(Object(r.g)(e.getState().readMorePlugin)))}return function(r){return function(n){return function(e){var t=n(e);switch(e.type){case s.b:i=Object(s.f)(e.timeStamp,e.pageNumber,e.targetSpreadIndex,e.currentPageNumbers),a(r);break;case u.b:o||(o=!0,a(r))}return t}}}}},function(e,t,n){"use strict";n.d(t,"a",function(){return r});var c=n(28),l=n(9),d=n(37),p=n(50),h=n(5),f=n(97),r=function(u){return function(s){return function(a){return function(e){var t=a(e);switch(e.type){case d.d:var n=s.getState().loading;if(n.status===f.a.SUCCESS&&u.monitor("reader3-documentload-stats",{success_time:n.loadSuccessTime-n.loadStartTime}),u.isEmbed){var r={};r[Object(h.C)(s.getState())]=1,u.monitor("reader3-embed-size",r)}break;case d.c:var i=s.getState().loading;i.status===f.a.FAILED&&u.monitor("reader3-documentload-stats",{failed_time:i.loadFailureTime-i.loadStartTime,backend_error:i.error.name===c.f?1:0,fetch_error:i.error.name===c.g?1:0});break;case p.c:u.monitor("reader3-readmoreload-stats",{success:1});break;case p.b:u.monitor("reader3-readmoreload-stats",{failure:1});break;case l.a:var o="reader3-fullscreen-method."+e.fullscreenMethod;u.monitor(o,{count:1})}return t}}}}},function(e,t,n){"use strict";n.d(t,"a",function(){return r});n(58);var v=n(8),b=n(45),_=n(51),y=n(66),E=n(37),T=n(95),w=n(36),C=n(5),x=n(9),O=n(12),S=[],R=[],r=function(g){return function(m){return function(f){return function(e){var t=f(e),n=m.getState();switch(e.type){case v.b:g.onActivity(n.reader.interactedWithReader);break;case v.a:g.onZoom(n.reader.zoomLevel);break;case y.d:g.onDownload(Object(O.d)(n));break;case b.a:if(e.currentPagesHasChanged){var r=Object(w.h)(n);r&&R.push(n.reader.currentPageNumbers);var i=r?S:n.reader.currentPageNumbers;g.onPageChanged(i)}break;case w.a:R.forEach(function(e){g.onPageChanged(e)}),R.splice(0);break;case E.d:var o=Object(w.i)(n)?S:Object(C.k)(n);g.onDocumentLoaded(Object(O.d)(n),o);break;case T.a:g.onResize(e.width+"x"+e.height,Object(x.d)(n));break;case _.a:if(e.linkModel.type===_.b.GOTO_PAGE){var a=e.linkModel,s=a.id,u=a.page.pageNumber,c=a.gotoPageNumber;g.onClippingActionGotoPage(s,u,c)}else{var l=e.linkModel,d=l.id,p=l.page.pageNumber,h=l.url;g.onClippingActionOpenUrl(d,p,h)}}return t}}}}},function(e,t,n){"use strict";n.d(t,"a",function(){return r});function c(e,t,n,r){var i="reader3-ad-takeover."+e+"."+(n?"fullscreen":"normal")+"."+t[0];r.monitor(i)}function l(e,t,n,r){var i=t?"fullscreen":"normal";e.forEach(function(e){var t="reader3-ad-takeover.page_read."+e+"."+i+"."+n+"."+r.readerEndPoint;r.monitor(t)})}var d=n(45),p=n(37),h=n(36),f=n(5),m=n(9),g=[],r=function(a){var s=void 0,u=[];return function(o){return function(i){return function(e){var t=i(e),n=o.getState();switch(e.type){case d.a:if(e.currentPagesHasChanged&&Object(h.g)(n))if(Object(h.h)(n))g.push(e.currentPageNumbers);else{var r=u.concat(e.currentPageNumbers);u.length&&(window.clearTimeout(s),u=[]),l(r,Object(m.d)(n),n.experiment.identifier,a)}break;case h.b:c("requested",n.reader.currentPageNumbers,Object(m.d)(n),a);break;case h.c:c("displayed",n.reader.currentPageNumbers,Object(m.d)(n),a);break;case h.a:g.forEach(function(e){l(e,Object(m.d)(n),n.experiment.identifier,a)}),g.splice(0),c(e.reason,n.reader.currentPageNumbers,Object(m.d)(n),a);break;case p.d:Object(h.g)(n)&&(e.currentPageNumbers.includes(1)&&function(e,t,n){var r="reader3-ad-takeover.document_impression."+(e?"fullscreen":"normal")+"."+t+"."+n.readerEndPoint;n.monitor(r)}(Object(m.d)(n),n.experiment.identifier,a),Object(h.h)(n)?g.push(u):(u=Object(f.k)(n),s=window.setTimeout(function(){var e=o.getState();l(u,Object(m.d)(e),e.experiment.identifier,a),u=[]},2e3)))}return t}}}}},function(e,t,n){"use strict";n.d(t,"a",function(){return i});var r=n(53),o=n.n(r),i=(a.prototype.onLoaderError=function(){this.metrics.monitor("reader3-render-manager-load-layer-error")},a.prototype.onOpsValidationError=function(e){this.metrics.monitor("reader3-render-manager-ops-validation-failed",{count:e})},a.prototype.onDynamicApiLoadComplete=function(e,t){t?this.metrics.monitor("reader3-dynamicapi-stats",{failure:1,failure_time:Math.round(e)}):this.metrics.monitor("reader3-dynamicapi-stats",{success:1,success_time:Math.round(e)})},a.prototype.onPageLoadStart=function(e,t){this.mode=t,this._pageLoadStartTime.set(e,o()())},a.prototype.onPageLoadSuccess=function(e){var t=o()();if(!this._hasTrackedTimeToCover){try{var n=window.performance.timing.fetchStart-window.performance.timing.navigationStart,r=window.performance.now()-n;this.metrics.onTimeToCover(r)}catch(e){}this._hasTrackedTimeToCover=!0}this._pageLoadStats.successCount+=1,this._pageLoadStats.successTotalTime+=t-(this._pageLoadStartTime.get(e)||0),this._pageLoadStartTime.delete(e),this.batchPageLoadStats()},a.prototype.onPageLoadSuccessAfterRetry=function(e){this._pageLoadStats.successAfterRetryCount+=1,this.onPageLoadSuccess(e)},a.prototype.onPageLoadFailure=function(e){this._pageLoadStats.failedCount+=1,this._pageLoadStats.failedTotalTime+=o()()-(this._pageLoadStartTime.get(e)||0),this.batchPageLoadStats()},a.prototype.onLayersImageFallback=function(){this._pageLoadStats.layersImageFallbackCount+=1,this.batchPageLoadStats()},a.prototype.onFontRenderingStart=function(){},a.prototype.onFontRenderingEnd=function(){},a.prototype.uncachedFontRenderingTracker=function(){return this._fontRenderingTracker("uncached")},a.prototype.previewFontRenderingTracker=function(){return this._fontRenderingTracker("preview")},a.prototype.hiresFontRenderingTracker=function(){return this._fontRenderingTracker("hires")},a.prototype._fontRenderingTracker=function(n){var r=this,i=void 0;return{start:function(){i=o()()},end:function(){var e=o()()-i;r._fontRenderingTimings[n].push(Math.round(e)),r._totalFontRenderCalls+=1;var t=Math.max(Math.floor(e/(1e3/60))-1,0);t&&(r._totalSlowFontRenderCalls+=1,r._totalFramesDroppedOnFontRendering+=t),r.batchPageLoadStats()}}},a.prototype.onFontLoadStart=function(e){this._fontLoadStartTime.set(e,o()())},a.prototype.onFontLoadEnd=function(e){var t=o()()-(this._fontLoadStartTime.get(e)||0);this._fontLoadTimings.push(Math.round(t)),this._fontLoadStartTime.delete(e)},a.prototype.onImageDecodeStart=function(e){this._imageDecodeStartTime.set(e,o()())},a.prototype.onImageDecodeEnd=function(e){var t=o()()-(this._imageDecodeStartTime.get(e)||0);this._imageDecodeTimings.push(Math.round(t)),this._imageDecodeStartTime.delete(e)},a.prototype.batchPageLoadStats=function(){var t=this;if(!this._pageLoadStatsTimerId){var n=this._pageLoadStats;this._pageLoadStatsTimerId=setTimeout(function(){if(t._pageLoadStatsTimerId=null,0<n.successCount){var e={success_count:n.successCount,success_total_time:n.successTotalTime,success_avg_time:n.successTotalTime/n.successCount,success_after_retry:n.successAfterRetryCount,mode:t.mode,load_and_decode_count:void 0,load_and_decode_total_time:void 0,load_and_decode_avg_time:void 0};0<n.fontloadCount&&(Object.assign(e,{load_and_decode_count:n.fontloadCount,load_and_decode_total_time:n.fontloadTotalTime,load_and_decode_avg_time:n.fontloadTotalTime/n.fontloadCount}),n.fontloadCount=0,n.fontloadTotalTime=0),t.metrics.monitor("reader3-pageload-stats",e),n.successCount=0,n.successAfterRetryCount=0,n.successTotalTime=0}0<n.layersImageFallbackCount&&(t.metrics.monitor("reader3-pageload-stats",{layers_image_fallback_count:n.layersImageFallbackCount}),n.layersImageFallbackCount=0),0<n.failedCount&&(t.metrics.monitor("reader3-pageload-stats",{failed_count:n.failedCount,failed_total_time:n.failedTotalTime,failed_avg_time:n.failedTotalTime/n.failedCount,mode:t.mode}),n.failedCount=0,n.failedTotalTime=0),0<t._totalFontRenderCalls&&(t.metrics.monitor("reader3-fontrender-stats",{total:t._totalFontRenderCalls,total_slow:t._totalSlowFontRenderCalls,total_frames_dropped:t._totalFramesDroppedOnFontRendering,mode:t.mode,time_uncached:t._fontRenderingTimings.uncached.slice(0),time_preview:t._fontRenderingTimings.preview.slice(0),time_hires:t._fontRenderingTimings.hires.slice(0)}),t._totalFontRenderCalls=0,t._totalSlowFontRenderCalls=0,t._totalFramesDroppedOnFontRendering=0,t._fontRenderingTimings.uncached.length=0,t._fontRenderingTimings.preview.length=0,t._fontRenderingTimings.hires.length=0),(t._fontLoadTimings.length||t._imageDecodeTimings.length)&&(t.metrics.monitor("reader3-fontload-stats",{image_decode:t._fontLoadTimings.slice(0),font_load:t._imageDecodeTimings.slice(0),mode:t.mode}),t._fontLoadTimings.length=0,t._imageDecodeTimings.length=0)},5e3)}},a);function a(e){babelHelpers.classCallCheck(this,a),this._hasTrackedTimeToCover=!1,this._pageLoadStartTime=new Map,this._fontLoadStartTime=new Map,this._imageDecodeStartTime=new Map,this._pageLoadStats={failedCount:0,successCount:0,successAfterRetryCount:0,failedTotalTime:0,successTotalTime:0,layersImageFallbackCount:0,fontloadCount:0,fontloadTotalTime:0},this._pageLoadStatsTimerId=null,this._totalFontRenderCalls=0,this._totalSlowFontRenderCalls=0,this._totalFramesDroppedOnFontRendering=0,this._fontRenderingTimings={uncached:[],preview:[],hires:[]},this._fontLoadTimings=[],this._imageDecodeTimings=[],this.metrics=e}},function(e,t,n){"use strict";n.d(t,"a",function(){return i});var r=n(1),i=(o.prototype.destroy=function(){window.clearTimeout(this._timeoutId)},o.prototype.onDocumentLoaded=function(e){var t=this;this._previousPageNumbers=e,Object(r.t)().rIC(function(){t.quantcastTracker.track()})},o.prototype.onPageChanged=function(e){var t=this;this._previousPageNumbers.join()!==e.join()&&(this._previousPageNumbers=e,window.clearTimeout(this._timeoutId),this._timeoutId=window.setTimeout(function(){var e=t._previousPageNumbers.slice();Object(r.t)().rIC(function(){e.forEach(function(e){t.quantcastTracker.track()})})},1e3))},o);function o(e){babelHelpers.classCallCheck(this,o),this._previousPageNumbers=[],this._timeoutId=null,this.quantcastTracker=e}},function(e,t,n){"use strict";n.d(t,"a",function(){return r});var s=n(45),u=n(37),r=function(o,a){return function(i){return function(r){return function(e){var t=r(e),n=i.getState();try{switch(e.type){case u.d:o.onDocumentLoaded(e.currentPageNumbers);break;case s.a:n.reader.isReady&&e.currentPagesHasChanged&&o.onPageChanged(e.currentPageNumbers)}}catch(e){a(e)}return t}}}}},function(e,t,n){"use strict";n.d(t,"a",function(){return r});var i=n(1),r=(o.prototype.destroy=function(){window.clearTimeout(this._timeoutId)},o.prototype.onDocumentLoaded=function(e,t,n){var r=this;this._baseUrl=e,this._previousPageNumbers=n,Object(i.t)().rIC(function(){r.gaTracker.sendInitialPageview(r._baseUrl+"/"+t),r.gaTracker.handleDocumentLoadByPublisherAccount(r._baseUrl)})},o.prototype.onPageChanged=function(e){var t=this;this._previousPageNumbers.join()!==e.join()&&(this._previousPageNumbers=e,window.clearTimeout(this._timeoutId),this._timeoutId=window.setTimeout(function(){var e=t._previousPageNumbers.slice();Object(i.t)().rIC(function(){e.forEach(function(e){t.gaTracker.sendVirtualPageview(t._baseUrl+"/"+e)})})},1e3))},o);function o(e){babelHelpers.classCallCheck(this,o),this._baseUrl="",this._previousPageNumbers=[],this._timeoutId=null,this.gaTracker=e}},function(e,t,n){"use strict";n.d(t,"a",function(){return r});var s=n(37),u=n(45),c=n(12),r=function(o,a){return function(i){return function(r){return function(e){var t=r(e),n=i.getState();try{switch(e.type){case s.d:o.onDocumentLoaded(Object(c.d)(n).path,e.pageNumber,e.currentPageNumbers);break;case u.a:n.reader.isReady&&e.currentPagesHasChanged&&o.onPageChanged(e.currentPageNumbers)}}catch(e){a(e)}return t}}}}},function(e,t,n){"use strict";n.d(t,"a",function(){return r});var c=n(8),l=n(50),i=n(33),d=n(34),p=n(5),h=n(16),f=n(9),m=n(45),g=n(37),v=n(58),b=n(12),o=n(134);var a=function(){};function r(r,s){var u={ON_DOCUMENT_LOAD_EVENT:a,ON_PAGE_CHANGE_EVENT:a,ON_ENTER_FULLSCREEN:a,ON_EXIT_FULLSCREEN:a,ON_LARGE_VIEW_CLICK:a,ON_FOLLOW_BUTTON_CLICK:a};return{types:{ENABLE_TRACKING:v.b,EMBED_PREVIEW:v.a},middleware:function(a){return function(o){return function(e){var t=o(e),n=a.getState();try{switch(e.type){case f.g.ENTER_FULLSCREEN:u.ON_ENTER_FULLSCREEN();break;case f.g.EXIT_FULLSCREEN:u.ON_EXIT_FULLSCREEN();break;case g.d:var r=Object(p.k)(n);u.ON_DOCUMENT_LOAD_EVENT(r);break;case m.a:if(e.currentPagesHasChanged){var i=e.currentPageNumbers;u.ON_PAGE_CHANGE_EVENT(i)}break;case c.s.LARGE_VIEW_BUTTON_CLICKED:u.ON_LARGE_VIEW_CLICK();break;case c.s.FOLLOW_BUTTON_CLICKED:u.ON_FOLLOW_BUTTON_CLICK()}}catch(e){s(e)}return t}}},api:function(n){return{beginTrackingReads:function(){n.dispatch({type:v.b})},toggleFullscreen:function(){var e=n.getState(),t=Object(p.p)(e);n.dispatch(Object(f.f)(t))},showFindDialog:function(){n.dispatch(i.a.openFindDialog())},embedPreview:function(e,t){n.dispatch(function(r,i,o){function a(t,e){var n=e();n.readMorePlugin&&n.readMorePlugin.load(n.config.origins.main,Object(b.d)(n).publicationId,Object(b.d)(n).username,h.q(n),h.o(n)).then(function(e){e&&t(Object(l.h)())})}var s=[h.b,h.f,h.a,h.c,h.e,h.d];return function(t,n){t({type:v.a,embedConfig:i,readMorePlugin:o});var e=Object(p.B)(n());t(Object(c.m)(Object(d.a)(e,i.startPage))),i.noRelatedEnabled?(t(h.u(s.concat([h.i]))),a(t,n)):r.whenLicensesFetched().then(function(e){t(h.u(Array.from(new Set(s.concat(e))))),a(t,n)})}}(r,e,t))},getPageNumbers:function(){return Object(p.k)(n.getState())},getPageCount:function(){return Object(b.d)(n.getState()).pageCount},setPageNumber:function(e){n.dispatch(function(r){return function(e,t){var n=Object(p.B)(t());return e(Object(c.m)(Object(d.a)(n,r)))}}(e))},setFollowing:function(e){n.dispatch(function(n){return function(e,t){return e(Object(o.d)(n))}}(e))},goToPreviousPage:function(){n.dispatch(Object(c.h)())},goToNextPage:function(){n.dispatch(Object(c.g)())},hideLargeViewButton:function(){n.dispatch(Object(c.i)())},showLargeViewEngagedButton:function(){n.dispatch(Object(c.r)())},showLargeViewDisengagedButton:function(){n.dispatch(Object(c.q)())},largeViewButtonPromoted:function(){n.dispatch(Object(c.k)())},largeViewButtonNotPromoted:function(){n.dispatch(Object(c.j)())},setCallback:function(e,t){u.hasOwnProperty(e)&&(u[e]=t)}}}}}},function(e,t,n){"use strict";n.d(t,"a",function(){return s});var r=Object.prototype.toString,i=Function.prototype.toString,o=/^\[object .+?Constructor\]$/,a=RegExp("^"+String(r).replace(/[.*+?^${}()|[\]\/\\]/g,"\\$&").replace(/toString|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function s(e){var t=void 0===e?"undefined":babelHelpers.typeof(e);return"function"===t?a.test(i.call(e)):e&&"object"===t&&o.test(r.call(e))||!1}},function(e,t,n){"use strict";n.d(t,"a",function(){return o});var r=n(81),u=16;function c(e,t,n){var r=e.createShader(n);if(e.shaderSource(r,t),e.compileShader(r),!e.getShaderParameter(r,e.COMPILE_STATUS))throw new Error("Cannot compile "+n+" shader: "+e.getShaderInfoLog(r));return r}function l(e,t,n,r,i){if(e.checkFramebufferStatus(e.FRAMEBUFFER)!==e.FRAMEBUFFER_COMPLETE)throw new Error("cannot read from framebuffer");var o=new Uint8Array(u*u*4);e.readPixels(0,0,u,u,e.RGBA,e.UNSIGNED_BYTE,o);for(var a=0;a<u*u;a++){var s=o.subarray(4*a,4*(a+1));if(s[0]!==t||s[1]!==n||s[2]!==r||s[3]!==i)return!1}return!0}function i(e){[].push(function(e,t){var n=e.getExtension(t);if(!n)throw new Error("does not support extension ");return n}(e,"OES_standard_derivatives"));var t=e.createProgram(),n=c(e,"\nprecision highp float;\nattribute vec2 vertex;\nvarying vec3 v[8];\nvoid main(void) {\n    v[0] = vec3(0); // Maximum varying vector count exceeded\n    v[1] = vec3(1); // Maximum varying vector count exceeded\n    v[2] = vec3(2); // Maximum varying vector count exceeded\n    v[3] = vec3(3); // Maximum varying vector count exceeded\n    v[4] = vec3(4); // Maximum varying vector count exceeded\n    v[5] = vec3(5); // Maximum varying vector count exceeded\n    v[6] = vec3(6); // Maximum varying vector count exceeded\n    v[7] = vec3(7); // Maximum varying vector count exceeded\n\n    vec2 p = 2.0 * vertex - 1.0;\n    gl_Position = vec4(p.x, -p.y, 0.0, 1.0);\n}\n",e.VERTEX_SHADER),r=c(e,"\n#extension GL_OES_standard_derivatives : require\nprecision highp float;\nvarying vec3 v[8];\nvoid main(void) {\n    vec3 d = smoothstep(0.0, v[3].x, dFdx(vec3(v[1])) * fwidth(v[2])); // Undeclared identifier 'dFdx'\n    if (gl_FrontFacing) { // This hardware is unable to support gl_FrontFacing\n        gl_FragColor = vec4(1, d.x, 0, 1);\n    } else {\n        gl_FragColor = vec4(0, d.x, 1, 1);\n    }\n}\n",e.FRAGMENT_SHADER);if(e.attachShader(t,n),e.attachShader(t,r),e.linkProgram(t),!e.getProgramParameter(t,e.LINK_STATUS))throw new Error("Cannot link shaderprogram: "+e.getProgramInfoLog(t));var i=e.getAttribLocation(t,"vertex");e.enableVertexAttribArray(i);var o=e.createBuffer();e.bindBuffer(e.ARRAY_BUFFER,o),e.bufferData(e.ARRAY_BUFFER,new Float32Array([0,0,0,1,1,0,1,1]),e.STATIC_DRAW),e.vertexAttribPointer(t.vertex,2,e.FLOAT,!1,0,0);var a=e.createTexture();e.bindTexture(e.TEXTURE_2D,a),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MAG_FILTER,e.LINEAR),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MIN_FILTER,e.LINEAR),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_S,e.CLAMP_TO_EDGE),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_T,e.CLAMP_TO_EDGE),e.texImage2D(e.TEXTURE_2D,0,e.RGBA,u,u,0,e.RGBA,e.UNSIGNED_BYTE,null);var s=e.createFramebuffer();if(e.bindFramebuffer(e.FRAMEBUFFER,s),e.framebufferTexture2D(e.FRAMEBUFFER,e.COLOR_ATTACHMENT0,e.TEXTURE_2D,a,0),e.viewport(0,0,u,u),e.useProgram(t),e.drawArrays(e.TRIANGLE_STRIP,0,4),!l(e,255,0,0,255))throw new Error("did not render correct color (frontfacing)");if(e.bufferData(e.ARRAY_BUFFER,new Float32Array([0,1,0,0,1,1,1,0]),e.STATIC_DRAW),e.drawArrays(e.TRIANGLE_STRIP,0,4),!l(e,0,0,255,255))throw new Error("did not render correct color (backfacing)");e.bindFramebuffer(e.FRAMEBUFFER,null),e.bindTexture(e.TEXTURE_2D,null),e.bindBuffer(e.ARRAY_BUFFER,null),e.deleteFramebuffer(s),e.deleteTexture(a),e.deleteBuffer(o),e.detachShader(t,n),e.deleteShader(n),e.detachShader(t,r),e.deleteShader(r),e.deleteProgram(t)}var o=(a.isWebGLSupported=function(){try{var e=Object(r.a)(document.createElement("canvas"));return!!e&&(i(e),!0)}catch(e){return!1}},a);function a(){babelHelpers.classCallCheck(this,a)}},function(e,t,n){"use strict";n.d(t,"a",function(){return r});var r='\n    <svg xmlns="http://www.w3.org/2000/svg" version="1.1" width="1px" height="1px">\n    <g transform="translate(16,179)">    <path fill="#995ba5" d="m 0,8 A 8,8 0 0,1 8,0 H 15 l 6,4 3,0 6,-4 H 40 H 136.64189910888672 v 35 H 29.5 l -6,4 -3,0 -6,-4 H 8 a 8,8 0 0,1 -8,-8 z M 47.832489013671875,5 h -14.5 v 5 c 0,10 -8,-8 -8,7.5 s 8,-2.5 8,7.5 v 6 h 14.5 z M 126.64189910888672,5 h -14.5 v 5 c 0,10 -8,-8 -8,7.5 s 8,-2.5 8,7.5 v 6 h 14.5 z"></path>\n    </g>  <g transform="translate(16,179)">    <path fill="#995ba5" d="m 0,8 A 8,8 0 0,1 8,0 H 15 l 6,4 3,0 6,-4 H 40 H 136.64189910888672 v 35 H 29.5 l -6,4 -3,0 -6,-4 H 8 a 8,8 0 0,1 -8,-8 z M 47.832489013671875,5 h -14.5 v 5 c 0,10 -8,-8 -8,7.5 s 8,-2.5 8,7.5 v 6 h 14.5 z M 126.64189910888672,5 h -14.5 v 5 c 0,10 -8,-8 -8,7.5 s 8,-2.5 8,7.5 v 6 h 14.5 z"></path>\n    </g>  <g transform="translate(16,179)">    <path fill="#995ba5" d="m 0,8 A 8,8 0 0,1 8,0 H 15 l 6,4 3,0 6,-4 H 40 H 136.64189910888672 v 35 H 29.5 l -6,4 -3,0 -6,-4 H 8 a 8,8 0 0,1 -8,-8 z M 47.832489013671875,5 h -14.5 v 5 c 0,10 -8,-8 -8,7.5 s 8,-2.5 8,7.5 v 6 h 14.5 z M 126.64189910888672,5 h -14.5 v 5 c 0,10 -8,-8 -8,7.5 s 8,-2.5 8,7.5 v 6 h 14.5 z"></path>\n    </g>  <g transform="translate(16,179)">    <path fill="#995ba5" d="m 0,8 A 8,8 0 0,1 8,0 H 15 l 6,4 3,0 6,-4 H 40 H 136.64189910888672 v 35 H 29.5 l -6,4 -3,0 -6,-4 H 8 a 8,8 0 0,1 -8,-8 z M 47.832489013671875,5 h -14.5 v 5 c 0,10 -8,-8 -8,7.5 s 8,-2.5 8,7.5 v 6 h 14.5 z M 126.64189910888672,5 h -14.5 v 5 c 0,10 -8,-8 -8,7.5 s 8,-2.5 8,7.5 v 6 h 14.5 z"></path>\n    </g>  <g transform="translate(16,179)">    <path fill="#995ba5" d="m 0,8 A 8,8 0 0,1 8,0 H 15 l 6,4 3,0 6,-4 H 40 H 136.64189910888672 v 35 H 29.5 l -6,4 -3,0 -6,-4 H 8 a 8,8 0 0,1 -8,-8 z M 47.832489013671875,5 h -14.5 v 5 c 0,10 -8,-8 -8,7.5 s 8,-2.5 8,7.5 v 6 h 14.5 z M 126.64189910888672,5 h -14.5 v 5 c 0,10 -8,-8 -8,7.5 s 8,-2.5 8,7.5 v 6 h 14.5 z"></path>\n    </g>  <g transform="translate(16,179)">    <path fill="#995ba5" d="m 0,8 A 8,8 0 0,1 8,0 H 15 l 6,4 3,0 6,-4 H 40 H 136.64189910888672 v 35 H 29.5 l -6,4 -3,0 -6,-4 H 8 a 8,8 0 0,1 -8,-8 z M 47.832489013671875,5 h -14.5 v 5 c 0,10 -8,-8 -8,7.5 s 8,-2.5 8,7.5 v 6 h 14.5 z M 126.64189910888672,5 h -14.5 v 5 c 0,10 -8,-8 -8,7.5 s 8,-2.5 8,7.5 v 6 h 14.5 z"></path>\n    </g></svg>\n'},function(e,t,n){"use strict";n.d(t,"a",function(){return p});var a,r=n(0),s=n.n(r),i=n(11),u=n.n(i),c=n(485),l=n(500),o=n(501),d=n(1),p=(a=r.Component,babelHelpers.inherits(h,a),h.prototype.componentDidMount=function(){this._streamDebugMode=Object(o.a)()},h.prototype.componentDidUpdate=function(e,t){!e.isVisible&&this.props.isVisible&&this.trackOnVisible(this.decideStream())},h.prototype.render=function(){var e=this.decideStream();if(!e||0===e.length||!this.props.showMore)return null;var t=window.innerWidth<window.innerHeight,n=t&&this.props.showAsOverlay,r=this.seeMoreUrl(),i=u()("readmore",{"readmore--overlay":this.props.showAsOverlay,"readmore--overlay-landscape":this.props.showAsOverlay&&!t,"readmore--overlay-portrait":this.props.showAsOverlay&&t,"readmore--dropdown-4-items":!this.props.showAsOverlay&&4===e.length,"readmore--dropdown-3-items":!this.props.showAsOverlay&&3===e.length,"readmore--dropdown-2-items":!this.props.showAsOverlay&&2===e.length,"readmore--dropdown-1-items":!this.props.showAsOverlay&&1===e.length}),o=this.props.openInNewTab?"_blank":"_top";return s.a.createElement("div",{className:i},this.showHeader(e)&&s.a.createElement(l.a,{config:this.props.config,large:this.props.showAsOverlay&&360<window.innerHeight&&!t,oneLine:!this.props.showAsOverlay}),s.a.createElement(c.a,{animate:!n,config:this.props.config,debug:!(!this.props.debug&&!this._streamDebugMode),embedTrackingQuery:this.props.embedTrackingQuery,isVisible:this.props.isVisible,onClickElement:this.onClickStreamItem,openInNewTab:this.props.openInNewTab,publicationId:this.props.publicationId,publisherUsername:this.props.username,showAd:this.props.showAd,showAsColumns:n,stream:e}),this.showReadmoreButton(e)&&s.a.createElement("div",{className:"readmore__see-more-wrapper"},s.a.createElement("a",{className:"readmore__see-more",href:r,target:o,onClick:this.onClickSeeMore},"See more on Issuu")))},h);function h(){var e,n,t;babelHelpers.classCallCheck(this,h);for(var r=arguments.length,i=Array(r),o=0;o<r;o++)i[o]=arguments[o];return(e=n=babelHelpers.possibleConstructorReturn(this,a.call.apply(a,[this].concat(i)))).onClickStreamItem=function(e,t){n.props.metrics.onMoreContentDocumentClick({revisionId:e.content.revisionId,publicationId:e.content.publicationId,ownerUsername:e.content.ownerUsername,publicationName:e.content.publicationName,streamOrigin:e.origin,streamRanking:t})},n.onClickSeeMore=function(){n.props.metrics.monitor("reader3-readmore-seemore",{click:1,msToClick:Date.now()-(n._visibilityTime?n._visibilityTime:0)},!0)},n.trackOnVisible=function(e){e.map(function(e,t){n.props.metrics.onMoreContentDocumentShow({revisionId:e.content.revisionId,publicationId:e.content.publicationId,ownerUsername:e.content.ownerUsername,publicationName:e.content.publicationName,pageNumber:1,streamOrigin:e.origin,streamRanking:t})}),n.showReadmoreButton(e)&&n.props.metrics.monitor("reader3-readmore-seemore",{impression:1}),n.showHeader(e)&&n.props.metrics.monitor("reader3-readmore-logo",{impression:1}),n._visibilityTime=Date.now()},n.decideStream=function(){if(!n.props.streamState)return[];var e=n.props.exitedFullscreen?n.props.streamState.exitFullscreenStream:n.props.streamState.buttonStream;return n.props.shouldHackStreamCount?e.slice(0,3):e},n.showHeader=function(e){return n.props.showAsOverlay||1<e.length},n.showReadmoreButton=function(e){return 4===e.length&&(!n.props.showAsOverlay||400<window.innerHeight)},n.seeMoreUrl=function(){return n.props.showOwnDocuments&&n.props.username?n.props.config.origins.main+"/"+n.props.username:n.props.config.origins.main+"/explore"+Object(d.z)("read_more_issuu",n.props.embedTrackingQuery)},n._visibilityTime=void 0,t=e,babelHelpers.possibleConstructorReturn(n,t)}p.displayName="MoreContent"},function(e,t,n){"use strict";n.d(t,"a",function(){return c});var o,r=n(0),l=n.n(r),i=n(11),a=n.n(i),s=n(486),u=n(1),c=(o=r.Component,babelHelpers.inherits(d,o),d.prototype.componentWillUpdate=function(e,t){!this.props.isVisible&&e.isVisible&&e.animate?this.refs.stream.classList.add("stream-list--animate"):this.props.isVisible&&!e.isVisible&&this.refs.stream.classList.remove("stream-list--animate")},d.prototype.render=function(){var n=this,e=this.props.showAsColumns&&2!==this.props.stream.length,t=a()("stream-list",{"stream-list--columns":e,"stream-list--shelf":!e}),r=this.props.stream.length-1,i=this.props.showAd?this._getStreamWithAds(this.props.stream,r):this.props.stream;return l.a.createElement("div",{ref:"stream",className:t},i.map(function(e,t){return e.isAd?l.a.createElement(s.a,{key:"ad-key-"+r,isVisible:n.props.isVisible,fallbackCover:{linkUrl:n._documentPageUrl(n.props.stream[r],1),imageUrl:n._imgUrl(n.props.stream[r])},publicationId:n.props.publicationId,publisherUsername:n.props.publisherUsername}):n._getCoverMarkup(e,t)}))},d);function d(){var e,c,t;babelHelpers.classCallCheck(this,d);for(var n=arguments.length,r=Array(n),i=0;i<n;i++)r[i]=arguments[i];return(e=c=babelHelpers.possibleConstructorReturn(this,o.call.apply(o,[this].concat(r)))).onClickStreamItem=function(e,t){c.props.onClickElement(e,t)},c._documentPageUrl=function(e,t){var n=c.props.config.origins.main+"/"+e.content.ownerUsername+"/docs/"+e.content.publicationName,r="?streamOrigin="+encodeURIComponent(e.origin.join(";"))+"&streamRanking="+t;return r+=Object(u.z)("read_more",c.props.embedTrackingQuery,"&"),n.toLowerCase()+r},c._imgUrl=function(e){var t=e.content.revisionId+"-"+e.content.publicationId;return c.props.config.origins.image+"/"+t+"/jpg/page_1_thumb_large.jpg"},c._getStreamWithAds=function(e,t){var n=e.slice();return n.splice(t,1,{isAd:!0}),n},c._getCoverMarkup=function(t,n){var e=t.content.height/t.content.width,r=t.content.revisionId+"-"+t.content.publicationId,i=c._imgUrl(t),o=c._documentPageUrl(t,n),a={backgroundImage:"url("+i+")",border:void 0},s=c.props.openInNewTab?"_blank":"_top",u=null;return c.props.debug&&(a.border="5px solid "+t.debug_info.color,u=l.a.createElement("span",{className:"stream-list__debug"},t.origin.join(";"))),l.a.createElement("a",{key:r,className:"stream-list__item stream-list__cover",href:o,style:a,target:s,title:t.content.title,onClick:function(e){return c.onClickStreamItem(t,n)}},u,l.a.createElement("div",{className:"stream-list__item-aspect",style:{paddingTop:100*e+"%"}}))},t=e,babelHelpers.possibleConstructorReturn(c,t)}c.displayName="StreamList"},function(e,t,n){"use strict";n.d(t,"a",function(){return c});var r=n(0),i=n.n(r),a=n(133),s=n(35),o=n(1);var u,c=(u=r.Component,babelHelpers.inherits(l,u),l.prototype.componentDidMount=function(){if(window!=window.parent){var e=new o.l(window.document.location.toString());this.hostUrl=e.getHostUrl()}},l.prototype.componentDidUpdate=function(){this.props.isVisible&&!this.adLoaded&&this.loadAd()},l.prototype.render=function(){return i.a.createElement("div",{className:"item-container stream-list__item"},i.a.createElement("div",{className:"ad-container",ref:"adContainer"}))},l);function l(){var e,n,t;babelHelpers.classCallCheck(this,l);for(var r=arguments.length,i=Array(r),o=0;o<r;o++)i[o]=arguments[o];return(e=n=babelHelpers.possibleConstructorReturn(this,u.call.apply(u,[this].concat(i)))).loadAd=function(){var e=[["pageType","embed"],["isLoggedIn",Object(s.b)()?"true":"false"],["publicationId",n.props.publicationId],["ownerUsername",n.props.publisherUsername],["randomBucket",n.randomBucketInt],["isDevelopmentTest",(!1).toString()]],t=n.props.fallbackCover;t&&(e.push(["fallbackLink",encodeURIComponent(t.linkUrl)]),e.push(["fallbackCover",encodeURIComponent(t.imageUrl)])),n.adElement=document.createElement("div"),n.refs.adContainer.appendChild(n.adElement),n.ad=a.create({rootElm:n.adElement,dfpTargeting:e,adProviderConfig:{network:"/30443627/Embed_ReadMore",sizes:[[1,1]]},isProductionEnv:!0,trackingKey:"ads-widget.Embed_ReadMore",pageUrl:n.hostUrl}),n.ad.show(),n.adLoaded=!0},n.randomBucketInt=function(e,t){return Math.floor(Math.random()*(t-e+1)+e)}(1,10),n.adLoaded=!1,t=e,babelHelpers.possibleConstructorReturn(n,t)}c.displayName="Ad"},function(e,t,n){"use strict";n.d(t,"a",function(){return r});var i=n(30),o=n(488),a=n(489),s=n(490),u=n(491),c=n(492),l=n(493),d=n(494),p=n(495),r=(h.prototype.onEvent=function(e){switch(e.type){case i.c:this._documentHandler.documentLoad(e.data);break;case i.m:this._documentHandler.userInteracted();break;case i.k:this._documentHandler.pageChange(e.data);break;case i.n:this._documentHandler.zoom();break;case i.l:this._documentHandler.resize(e.data);break;case i.b:this._websiteHandler.downloadAnonymously(e.data);break;case i.a:this._linkHandler.clippingAction(e.data);break;case i.j:this._seeMoreHandler.moreContentDocumentShow(e.data);break;case i.i:this._seeMoreHandler.moreContentDocumentClick(e.data);break;case i.d:this._monitorHandler.monitorBatched(e.data);break;case i.f:this._monitorHandler.monitor(e.data);break;case i.h:this._monitorHandler.monitorBatched({type:"rattlesnakes.reader3."+this.readerEndPoint+".documentimpression"});break;case i.e:var t=e.data,n=t.webgl?"3d":"2d";this._monitorHandler.monitorBatched(babelHelpers.extends({},t,{type:"reader3-dropped-frames."+n})),this._monitorHandler.monitorBatched(babelHelpers.extends({},t,{type:"reader3-dropped-frames."+n+".endpoint."+this.readerEndPoint})),this._monitorHandler.monitorBatched(babelHelpers.extends({},t,{type:"reader3-dropped-frames."+n+".browser."+this.browserName})),this._monitorHandler.monitorBatched(babelHelpers.extends({},t,{type:"reader3-dropped-frames."+n+".device."+this.deviceType}));break;case i.g:var r=e.data;this._monitorHandler.monitorBatched({type:"reader3-time-to-cover",ms_to_cover:r}),this._monitorHandler.monitorBatched({type:"reader3-time-to-cover."+this.readerEndPoint+"."+this.deviceType+"."+this.browserName,ms_to_cover:r})}},h);function h(n){babelHelpers.classCallCheck(this,h);function e(e){if(!n.monitorEventsOnly||"monitor"===e.type){var t=new XMLHttpRequest;t.open("POST",n.pingbackOrigin+"/ping",!0),t.withCredentials=!0,t.setRequestHeader("Accept","application/json"),t.setRequestHeader("Content-Type","text/plain;charset=UTF-8"),t.send(JSON.stringify(e))}}var t={getUsername:function(){return n.username},getLanguage:function(){return n.language},getLocation:function(){return n.location},getReferrer:function(){return n.referrer},getSource:function(){return n.source},getWidth:function(){return n.width},getHeight:function(){return n.height},getBrowserSize:function(){return t.getWidth()+"x"+t.getHeight()}},r=new a.a(n.origin+"_tracking-buildin"),i=new s.a(function(e){0},r,e,t);this.deviceType=n.deviceType,this.browserName=n.browserName,this.readerEndPoint=n.readerEndPoint,this._monitorHandler=new o.a(r,e),this._seeMoreHandler=new u.a(i),this._linkHandler=new c.a(i),this._documentHandler=new l.a(i),this._websiteHandler=new d.a(r,e,t),Object(p.a)()}},function(e,t,n){"use strict";n.d(t,"a",function(){return r});var r=function e(t,n){var r=this;babelHelpers.classCallCheck(this,e),this._postBatchedTimeoutId=void 0,this._batchedQueue=[],this._queueLength=function(){return r._batchedQueue.length},this._addToQueue=function(e){r._batchedQueue.push(babelHelpers.extends({},e,{version:"1.0.0"}))},this._startPostTimerIfNeeded=function(){void 0===r._postBatchedTimeoutId&&(r._postBatchedTimeoutId=setTimeout(function(){r._postBatchedTimeoutId=void 0,r._postAllQueued()},2e3))},this._postAllQueued=function(){0!==r._queueLength()&&(void 0!==r._postBatchedTimeoutId&&(r._postBatchedTimeoutId&&clearTimeout(r._postBatchedTimeoutId),r._postBatchedTimeoutId=void 0),r._post(babelHelpers.extends({},r._wrapper.getMonitorPingbackWrapper(),{data:r._batchedQueue})),r._batchedQueue=[])},this.monitor=function(e){r._addToQueue(e),r._postAllQueued()},this.monitorBatched=function(e){r._addToQueue(e),20<=r._queueLength()?r._postAllQueued():r._startPostTimerIfNeeded()},this.flush=function(){r._postAllQueued()},this._wrapper=t,this._post=n}},function(e,t,n){"use strict";n.d(t,"a",function(){return r});var r=function e(t){var n=this;babelHelpers.classCallCheck(this,e),this._getPingbackWrapper=function(e){return{version:"2.2.0",origin:n._origin,type:e}},this.getMonitorPingbackWrapper=function(){return n._getPingbackWrapper("monitor")},this.getWebsitePingbackWrapper=function(){return n._getPingbackWrapper("website")},this.getReaderPingbackWrapper=function(){return n._getPingbackWrapper("reader")},this._origin=t}},function(e,t,n){"use strict";n.d(t,"a",function(){return r});function a(e){return{version:"1.3.3",username:e.getUsername(),ui_language:e.getLanguage(),location:e.getLocation(),referrer:e.getReferrer(),source:e.getSource(),contexts:[]}}var r=function e(t,n,r,i){var o=this;babelHelpers.classCallCheck(this,e),this._signal=void 0,this._model=void 0,this._timeoutId=void 0,this.initializeModel=function(e){o._model?o._handleError(new Error("reader pingback helper->initializeModel->model already exist")):o._model={doc_id:e.revisionId+"-"+e.publicationId,doc_creator:e.ownerUsername.toLowerCase(),doc_name:e.publicationName.toLowerCase(),pages:e.pages,pageNumber:e.pageNumber,ad_id:e.adpageId||null,ad_token:e.adpageToken||null,is_embed:e.isEmbed,embed_id:e.embedId||null,display_size:o._environment.getBrowserSize(),is_fullscreen:e.isFullscreen,stream_origin:e.streamOrigin||null,stream_ranking:e.streamRanking||null,user_interacted:!1}},this.clearModel=function(){o.executePingback(),o._model=void 0},this.updateModelOnPageChange=function(e){o._model?o._model.pages=e.pages:o._handleError(new Error("reader pingback handler->updateModelOnPageChange->no model."))},this.updateModelOnResize=function(e){o._model?(o._model.display_size=e.displaySize,o._model.is_fullscreen=e.isFullscreen):o._handleError(new Error("reader pingback handler->updateModelOnResize->no model."))},this.updateModelOnUserInteracted=function(){o._model?o._model.user_interacted=!0:o._handleError(new Error("reader pingback handler->updateModelOnUserInteracted->no model."))},this._executePingbackIfPlatformHasChanged=function(){var t=o._signal;if(t){var n=a(o._environment);["version","username","location","referrer","source"].find(function(e){return t.data[e]!==n[e]})&&o.executePingback()}},this.viewportHasUserAttention=function(){return o._model?!o._model.is_embed||o._model.is_fullscreen||o._model.user_interacted:(o._handleError(new Error("reader pingback handler - viewportHasUserAttention - no model.")),!1)},this.updateSignal=function(e){var t=o._model;if(t){o._executePingbackIfPlatformHasChanged();var n=o._signal||babelHelpers.extends({},o._wrapper.getReaderPingbackWrapper(),{data:a(o._environment)});(function(t,n){var r=t.data.contexts.length;if(0===r)return!0;var i=!1;return["doc_id","doc_creator","doc_name","ad_id","ad_token","embed_id","display_size","stream_origin","stream_ranking"].forEach(function(e){i=i||t.data.contexts[r-1][e]!==n[e]}),i=i||t.data.contexts[r-1].pages.toString()!==n.pages.toString()})(o._signal=n,t)&&n.data.contexts.push({doc_id:t.doc_id,doc_creator:t.doc_creator,doc_name:t.doc_name,pages:t.pages,ad_id:t.ad_id,ad_token:t.ad_token,embed_id:t.embed_id,display_size:t.display_size,display_state:null,stream_origin:t.stream_origin,stream_ranking:t.stream_ranking,events:[]});var r=n.data.contexts.length;0<r?n.data.contexts[r-1].events.push(e):o._handleError(new Error("reader pingback handler context length invalid."))}else o._handleError(new Error("reader pingback handler - update signal - no model."))},this.getCurrentPages=function(){return o._model?o._model.pages:(o._handleError(new Error("reader pingback handler - get current pages - no model.")),[])},this.timeoutPingback=function(){if(o._signal){o._timeoutId&&(clearTimeout(o._timeoutId),o._timeoutId=void 0);for(var e=0,t=o._signal.data.contexts.length-1;0<=t;t--)e+=o._signal.data.contexts[t].events.length;20<=e?o.executePingback():o._timeoutId=setTimeout(function(){o.executePingback()},1500)}},this.executePingback=function(){o._timeoutId&&(clearTimeout(o._timeoutId),o._timeoutId=void 0),o._signal&&(o._post(o._signal),o._signal=void 0)},this._handleError=t,this._wrapper=n,this._post=r,this._environment=i}},function(e,t,n){"use strict";n.d(t,"a",function(){return r});var r=function e(t){var n=this;babelHelpers.classCallCheck(this,e),this.moreContentDocumentShow=function(e){n._readerPingbackHelper.updateSignal({type:"more_content_document_impression",doc_id:e.revisionId+"-"+e.publicationId,doc_creator:e.ownerUsername.toLowerCase(),doc_name:e.publicationName.toLowerCase(),page:e.pageNumber,stream_origin:e.streamOrigin,stream_ranking:e.streamRanking}),n._readerPingbackHelper.timeoutPingback()},this.moreContentDocumentClick=function(e){n._readerPingbackHelper.updateSignal({type:"more_content_document_click",doc_id:e.revisionId+"-"+e.publicationId,doc_creator:e.ownerUsername.toLowerCase(),doc_name:e.publicationName.toLowerCase(),stream_origin:e.streamOrigin,stream_ranking:e.streamRanking}),n._readerPingbackHelper.executePingback()},this._readerPingbackHelper=t}},function(e,t,n){"use strict";n.d(t,"a",function(){return r});var r=function e(t){var n=this;babelHelpers.classCallCheck(this,e),this.clippingAction=function(e){n._readerPingbackHelper.updateSignal({type:"clipping_action",clippingId:e.clippingId,action:e.action,on_page:e.onPage,creator:e.creator,url:e.url,page:e.page,service:e.service,videoid:e.videoid,opened_in_reader:e.opened_in_reader}),n._readerPingbackHelper.timeoutPingback()},this._readerPingbackHelper=t}},function(e,t,n){"use strict";n.d(t,"a",function(){return r});var i=[2e3,3e3,4e3,6e3,8e3,12e3],r=function e(t){var r=this;babelHelpers.classCallCheck(this,e),this._eventsAfterDocumentRead=[],this._documentReadTimeoutId=void 0,this._documentReadTriggered=!1,this._pageReadLastPages=null,this._pageReadStartTime=Date.now(),this._pageReadLastEndTime=Date.now(),this._delays=null,this._pageReadTimeTimeoutId=void 0,this._idleTimeoutId=void 0,this._setUpPageReadTimers=function(){r._delays=i.slice(0),r._pageReadStartTime=r._pageReadLastEndTime=Date.now(),r._startPageReadTimer()},this._startPageReadTimer=function(){r._pageReadTimeTimeoutId=setTimeout(function(){r._pageReadTimeTimeoutId=void 0,r._trackPageReadTime(),r._startPageReadTimer()},r._getNextPageReadTimeout())},this._startIdleTimer=function(){r._idleTimeoutId=setTimeout(function(){(r._idleTimeoutId=void 0)!==r._pageReadTimeTimeoutId&&(r._pageReadTimeTimeoutId&&clearTimeout(r._pageReadTimeTimeoutId),r._pageReadTimeTimeoutId=void 0,r._trackPageReadTime())},6e5)},this._resetIdleTimer=function(){void 0!==r._idleTimeoutId?(r._idleTimeoutId&&clearTimeout(r._idleTimeoutId),r._idleTimeoutId=void 0):r._readerPingbackHelper.viewportHasUserAttention()&&(r._pageReadLastEndTime=(new Date).getTime(),r._delays?r._startPageReadTimer():r._setUpPageReadTimers()),r._startIdleTimer()},this._clearTimers=function(){void 0!==r._idleTimeoutId&&(r._idleTimeoutId&&clearTimeout(r._idleTimeoutId),r._idleTimeoutId=void 0),void 0!==r._pageReadTimeTimeoutId&&(r._pageReadTimeTimeoutId&&clearTimeout(r._pageReadTimeTimeoutId),r._pageReadTimeTimeoutId=void 0,r._trackPageReadTime()),void 0!==r._documentReadTimeoutId&&(r._documentReadTimeoutId&&clearTimeout(r._documentReadTimeoutId),r._documentReadTimeoutId=void 0)},this._getNextPageReadTimeout=function(){var e=r._delays?r._delays.shift():NaN;if(isNaN(e)){var t=i.length;return i[t-1]+.2*((new Date).getTime()-r._pageReadStartTime)}return e},this._trackDocumentImpression=function(){r._readerPingbackHelper.updateSignal({type:"document_impression"}),r._readerPingbackHelper.timeoutPingback()},this._trackDocumentRead=function(){for(;0<r._eventsAfterDocumentRead.length;)r._readerPingbackHelper.updateSignal(r._eventsAfterDocumentRead.shift());r._readerPingbackHelper.updateSignal({type:"document_read"}),r._readerPingbackHelper.executePingback(),r._documentReadTriggered=!0,r._documentReadTimeoutId=void 0},this._trackPageImpression=function(e){e.forEach(function(e){r._readerPingbackHelper.updateSignal({type:"page_impression",page:e})}),r._readerPingbackHelper.timeoutPingback()},this._maybeTrackPageRead=function(){var e=r._readerPingbackHelper.getCurrentPages(),t=JSON.stringify(e);r._pageReadLastPages!==t&&(r._pageReadLastPages=t,e.forEach(function(e){var t={type:"page_read",page:e};r._documentReadTriggered?r._readerPingbackHelper.updateSignal(t):r._eventsAfterDocumentRead.push(t)}),r._readerPingbackHelper.timeoutPingback())},this._trackPageReadTime=function(){var e=(new Date).getTime(),t=r._readerPingbackHelper.getCurrentPages(),n=Math.floor((e-r._pageReadLastEndTime)/t.length);n<=0||(t.forEach(function(e){var t={type:"page_read_time",time_increment:n,page:e};r._documentReadTriggered?r._readerPingbackHelper.updateSignal(t):r._eventsAfterDocumentRead.push(t)}),r._pageReadLastEndTime=e,r._readerPingbackHelper.timeoutPingback())},this._maybeStartDocumentReadTimer=function(){void 0!==r._documentReadTimeoutId||r._documentReadTriggered||(r._documentReadTimeoutId=setTimeout(function(){r._trackDocumentRead()},2e3))},this.documentLoad=function(e){r._readerPingbackHelper.initializeModel(e),r._trackDocumentImpression(),r._trackPageImpression(e.pages),r._readerPingbackHelper.viewportHasUserAttention()&&(r._maybeStartDocumentReadTimer(),r._maybeTrackPageRead(),r._setUpPageReadTimers()),r._startIdleTimer()},this.documentUnLoad=function(){r.flush(),r._readerPingbackHelper.clearModel()},this.userInteracted=function(){r._readerPingbackHelper.updateModelOnUserInteracted(),r._resetIdleTimer(),r._readerPingbackHelper.viewportHasUserAttention()&&(r._maybeStartDocumentReadTimer(),r._maybeTrackPageRead(),r._setUpPageReadTimers()),void 0!==r._documentReadTimeoutId&&(r._documentReadTimeoutId&&clearTimeout(r._documentReadTimeoutId),r._documentReadTimeoutId=void 0,r._trackDocumentRead())},this.pageChange=function(e){r._resetIdleTimer(),void 0!==r._documentReadTimeoutId&&(r._documentReadTimeoutId&&clearTimeout(r._documentReadTimeoutId),r._documentReadTimeoutId=void 0,r._trackDocumentRead()),void 0!==r._pageReadTimeTimeoutId&&(r._pageReadTimeTimeoutId&&clearTimeout(r._pageReadTimeTimeoutId),r._pageReadTimeTimeoutId=void 0,r._trackPageReadTime()),r._readerPingbackHelper.updateModelOnPageChange(e),r._trackPageImpression(e.pages),r._readerPingbackHelper.viewportHasUserAttention()&&(r._maybeTrackPageRead(),r._setUpPageReadTimers())},this.zoom=function(){r._resetIdleTimer()},this.resize=function(e){r._resetIdleTimer(),r._readerPingbackHelper.updateModelOnResize(e),r._readerPingbackHelper.viewportHasUserAttention()?(r._maybeStartDocumentReadTimer(),void 0===r._pageReadTimeTimeoutId&&r._setUpPageReadTimers(),r._maybeTrackPageRead()):(r._documentReadTimeoutId&&(clearTimeout(r._documentReadTimeoutId),r._documentReadTimeoutId=void 0),r._pageReadTimeTimeoutId&&(clearTimeout(r._pageReadTimeTimeoutId),r._pageReadTimeTimeoutId=void 0,r._trackPageReadTime()))},this.flush=function(){r._clearTimers(),r._eventsAfterDocumentRead=[],r._readerPingbackHelper.executePingback()},this._readerPingbackHelper=t}},function(e,t,n){"use strict";n.d(t,"a",function(){return r});var r=function e(t,n,r){var i=this;babelHelpers.classCallCheck(this,e),this._getSignalData=function(e){return{version:"2.2.2",username:e?null:i._environment.getUsername(),ui_language:i._environment.getLanguage(),location:i._environment.getLocation(),referrer:i._environment.getReferrer(),contexts:[]}},this.downloadAnonymously=function(e){var t={type:"document_download",doc_id:e.revisionId+"-"+e.publicationId,doc_creator:e.ownerUsername.toLowerCase(),doc_name:e.publicationName.toLowerCase()};i._post(babelHelpers.extends({},i._wrapper.getWebsitePingbackWrapper(),{data:babelHelpers.extends({},i._getSignalData(!0),{contexts:[{browser_size:i._environment.getBrowserSize(),events:[t]}]})}))},this._wrapper=t,this._post=n,this._environment=r}},function(e,t,n){"use strict";n.d(t,"a",function(){return o});var r=n(496),i="iutk";function o(){if(("undefined"==typeof document||void 0===document.cookie||!document.cookie.split(";").filter(function(e){return e.includes(i+"=")}).length)&&"undefined"!=typeof document){var e=Object(r.a)(),t=function(){if("undefined"==typeof document)return null;var e=/(?:t?)issuu.com$/.exec(document.domain||"");return e?e[0]:null}();document.cookie=i+"="+e+(t?";domain="+t:"")+";path=/;max-age=315360000"}}},,,function(e,t,n){"use strict";var r=n(499),i=n.n(r),o=["chrome","firefox","safari","mobile_safari","edge","ie"],a=["desktop","mobile","tablet"];t.a=function(){var e="",t="";try{var n=(new i.a).getResult();e=n.device.type||"desktop",t=n.browser.name||"unknown_browser"}catch(e){}return e=e.replace(" ","_").toLocaleLowerCase(),t=t.replace(" ","_").toLocaleLowerCase(),a.includes(e)||(e="otherDevice"),o.includes(t)||(t="otherBrowser"),{deviceType:e,browserName:t}}},,function(e,t,n){"use strict";n.d(t,"a",function(){return l});var r,i=n(0),o=n.n(i),a=n(11),s=n.n(a),u=n(42),c=n.n(u),l=(r=i.Component,babelHelpers.inherits(d,r),d.prototype.shouldComponentUpdate=function(e,t){return!(c()(this.props,e)&&c()(this.state,t))},d.prototype.render=function(){var e=s()("readmore-header",{"readmore-header--large":!!this.props.large,"readmore-header--one-line":!!this.props.oneLine});return o.a.createElement("div",{className:e},o.a.createElement("span",{className:"readmore-header__text"},"Here's more to read..."))},d);function d(){return babelHelpers.classCallCheck(this,d),babelHelpers.possibleConstructorReturn(this,r.apply(this,arguments))}l.displayName="Header"},function(e,t,n){"use strict";function r(){var e=function(e){for(var t=e+"=",n=document.cookie.split(";"),r=0;r<n.length;r++)try{var i=decodeURIComponent(n[r]).trim();if(0===i.indexOf(t))return i.substring(t.length,i.length)}catch(e){continue}return null}("issuu.comstream.debug.style");return!!window.ISSUU_STREAM_DEBUG||null!==e}n.d(t,"a",function(){return r})},function(e,t,n){"use strict";n.d(t,"a",function(){return r});var a=n(503);function s(e){return fetch(e).then(function(e){return e.ok?e.json().then(function(e){return"fail"===e.rsp.stat?Promise.reject():e.rsp._content.stream}):Promise.reject()})}function r(e,t,n,r){var i=null,o=null;return o=r?(i=function(e,t,n){return s(e+"/call/stream/web/embed/read_more_from_paying_publisher/initial?ownerUsername="+n+"&publicationId="+t+"&pageSize=8")}(e,t,n),function(e,t,n){return s(e+"/call/stream/web/embed/read_more_from_paying_publisher_from_fullscreen/initial?ownerUsername="+n+"&publicationId="+t+"&pageSize=8")}(e,t,n)):(i=function(e,t){return s(e+"/call/stream/web/embed/read_more_by_button_click/initial?publicationId="+t+"&seed=42&pageSize=8")}(e,t),function(e,t){return s(e+"/call/stream/web/embed/read_more_exit_from_fullscreen/initial?publicationId="+t+"&seed=42&pageSize=8")}(e,t)),Promise.all([i,o]).then(function(e){return new a.a(e[0],e[1])})}},function(e,t,n){"use strict";n.d(t,"a",function(){return r});var r=function e(t,n){babelHelpers.classCallCheck(this,e),this.buttonStream=t,this.exitFullscreenStream=n}},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,n){}]]);
//# sourceMappingURL=http://sourcemaps.issuu.com/static.issuu.com/issuu-reader3/reader.fb328f18.js.fb328f18.map